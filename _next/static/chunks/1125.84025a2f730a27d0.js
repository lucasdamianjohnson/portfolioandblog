!function(){var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),function(){"use strict";let a;class e{resolvePath(t){return this.basePath+("/"===t[0]?"":"/")+t}async getData(t){let a=this.resolvePath(t),e=await fetch(a);if(!e.ok)throw Error("Failed to fetch file at ".concat(a));return await e.text()}async getDataBuffer(t){let a=this.resolvePath(t),e=await fetch(a);if(!e.ok)throw Error("Failed to fetch file at ".concat(a));return await e.arrayBuffer()}async getJSONFromFileAsync(t){let a=this.resolvePath(t),e=await fetch(a);if(!e.ok)throw Error("Failed to fetch JSON file at ".concat(a));return await e.json()}async getDataAsStringAsync(t){let a=this.resolvePath(t),e=await fetch(a);if(!e.ok)throw Error("Failed to fetch file at ".concat(a));return await e.text()}async getDataAsBufferAsync(t){let a=this.resolvePath(t),e=await fetch(a);if(!e.ok)throw Error("Failed to fetch file at ".concat(a));return await e.arrayBuffer()}async writeStringToFile(t,a){throw Error("Writing to files is not supported with fetch.")}async createDirectory(t){throw Error("Creating directories is not supported with fetch.")}async readDir(t){throw Error("Reading directories is not supported with fetch.")}loadCommentedJsonFromPath(t){throw arguments.length>1&&void 0!==arguments[1]&&arguments[1],Error("This method cannot be implemented using fetch.")}parseCommentedJson(t){let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return this.hJson.parse(t,{keepWsc:a})}stringfyCommentedJson(t){let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return this.hJson.stringify(t,{keepWsc:a,space:5,quotes:"all",separator:!0})}readFile(t){return this.getData(t)}writeFile(t,a){throw Error("Writing to files is not supported with fetch.")}constructor(t,a=""){this.basePath="/assets/InfiniteRealmRunner",this.hJson=t}}class i{static _xfnv1a(t){let a=2166136261;for(let e=0;e<t.length;e++)a=Math.imul(a^t.charCodeAt(e),16777619);return()=>(a+=a<<13,a^=a>>>7,a+=a<<3,a^=a>>>17,(a+=a<<5)>>>0)}}var r,s,o=i;class n extends o{next(){let t=this.a+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296}constructor(t){super(),this.a=n._xfnv1a(t)()}}class d extends o{next(){this.a>>>=0,this.b>>>=0,this.c>>>=0,this.d>>>=0;let t=this.a+this.b|0;return this.a=this.b^this.b>>>9,this.b=this.c+(this.c<<3)|0,this.c=this.c<<21|this.c>>>11,this.d=this.d+1|0,t=t+this.d|0,this.c=this.c+t|0,(t>>>0)/4294967296}constructor(t){super();let a=d._xfnv1a(t);this.a=a(),this.b=a(),this.c=a(),this.d=a()}}class l extends o{next(){let t=this.b<<9,a=5*this.a;return a=a<<7|(a>>>25)*9,this.c^=this.a,this.d^=this.b,this.b^=this.c,this.a^=this.d,this.c^=t,this.d=this.d<<11|this.d>>>21,(a>>>0)/4294967296}constructor(t){super();let a=l._xfnv1a(t);this.a=a(),this.b=a(),this.c=a(),this.d=a()}}let c=t=>void 0===t,h=t=>null===t,g=t=>h(t)||c(t);(r=s||(s={})).sfc32="sfc32",r.mulberry32="mulberry32",r.xoshiro128ss="xoshiro128ss";class u{next(){return this.generator.next()}_initializeGenerator(){if(g(this.str))return this.wrap();switch(this.prng){case"sfc32":return new d(this.str);case"mulberry32":return new n(this.str);case"xoshiro128ss":return new l(this.str);default:return this.wrap()}}wrap(){return{next:()=>Math.random()}}constructor(t,a="sfc32"){this.str=t,this.prng=a,this.generator=this._initializeGenerator()}}class m{initMatrix(){let t,a,e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t=i?new u(i):new u,a=r?new u(i):new u,e=s?new u(i):new u,this.matrix={0:t,1:a,2:e}}getMAtrixRange(t,a,e){let i=this.matrix[t];return a+Math.floor(i.next()*e+1*i.next())}getMatrixProbability(t,a){let e=this.matrix[t];return!!a&&e.next()<=a}getRandomRange(t,a){return t+Math.floor(Math.random()*a+1*Math.random())}getRandomProbability(t){return!!t&&Math.random()<=t}}new u;let b=t=>{let a=t>>8<<8;return["".concat(a+256),"".concat(a)]},p=t=>JSON.parse(JSON.stringify(t)),y=t=>Math.PI/180*t;class f{registerGameZone(t,a,e,i){this.gameZones[t]={length:a,incompatableZones:e,incompatableStructures:i,zoneZStart:0}}resetLevelData(){this.levelModelLocationsData={},this.physicsObjectsLocationsData={},this.gameObjectsLocationsData={},this.lightLocationsData={}}getLevelDataSet(t){return this.gameObjectsLocationsData[t]||(this.gameObjectsLocationsData[t]=[]),{zone:t,levelModels:this.levelModelLocationsData[t],physicsObjects:this.physicsObjectsLocationsData[t],gameObjects:this.gameObjectsLocationsData[t],lightData:this.lightLocationsData[t]}}setData(t,a){this.assetData=t,this.structuresData=a}_init(){}calculateNextTrackSection(){return this.PM.getMatrixProbability(0,this.trackSectionProbabilityMap[this.difficulity][10])?10:this.PM.getMatrixProbability(0,this.trackSectionProbabilityMap[this.difficulity][8])?8:this.PM.getMatrixProbability(0,this.trackSectionProbabilityMap[this.difficulity][6])?6:this.PM.getMatrixProbability(0,this.trackSectionProbabilityMap[this.difficulity][4])?4:this.PM.getMatrixProbability(0,this.trackSectionProbabilityMap[this.difficulity][2])?2:4}calculateTrackItem(){let t="track",a=Object.keys(this.structuresData.structureProbailityWeights);if("normal"==this.currentGameZone){for(let e of a){let a=this.structuresData.structureProbailityWeights[e];if(this.PM.getMatrixProbability(1,a)){t=e;break}}return t}if("normal"!=this.currentGameZone){let e=this.gameZones[this.currentGameZone];if("all"==e.incompatableStructures)return"track";for(let i of a){let a=this.structuresData.structureProbailityWeights[i],r=this.structuresData.structures[i].zoneStart?this.structuresData.structures[i].zoneStart:"";if(this.PM.getMatrixProbability(1,a)&&!e.incompatableStructures.includes(i)&&!e.incompatableZones.includes(r)){t=i;break}}}return t}setModelPostion(t,a,e){let i=t.z,r=t.y,s=t.x;return a.x+=s,a.y+=r,a.z+=i,e.x=y(e.x),e.y=y(e.y),e.z=y(e.z),[a,e]}addCheckPoint(){return this.addTrackStructure("checkpoint")}addTrackStructure(t){let a=this,e=this.currentPosition.z,i=this.currentPosition.y,r=this.currentPosition.x,s={zToAdd:this.structuresData.structures[t].totallength,xToAdd:0,yToAdd:this.structuresData.structures[t].totalheight};if(this.structuresData.structures[t].objects&&this.structuresData.structures[t].objects.forEach(t=>{let e=p(t),i=this.setModelPostion(this.currentPosition,e.position,e.rotation);e.position=i[0],e.rotation=i[1],a.addGameObjectData(e)}),this.structuresData.structures[t].platforms&&this.structuresData.structures[t].platforms.forEach(t=>{let s=p(t);s.position.x+=r,s.position.y+=i,s.position.z+=e,a.addTrackData(s.position,t.tracklength,t.flags)}),this.structuresData.structures[t].models&&this.structuresData.structures[t].models.forEach(t=>{let s=p(t);s.position.x+=r,s.position.y+=i,s.position.z+=e,s.rotation.x=y(s.rotation.x),s.rotation.y=y(s.rotation.y),s.rotation.z=y(s.rotation.z),a.addModelData(s,"".concat(s.position.x,"-").concat(s.position.y,"-").concat(s.position.z,"-").concat(s.rotation.x,"-").concat(s.rotation.y,"-").concat(s.rotation.z))}),this.structuresData.structures[t].lights&&this.structuresData.structures[t].lights.forEach(t=>{let a=p(t);a.position.x+=r,a.position.y+=i,a.position.z+=e,this.addLightPositionData(a)}),this.structuresData.structures[t].physics&&this.structuresData.structures[t].physics.forEach(t=>{let s=p(t);s.position.x+=r,s.position.y+=i,s.position.z+=e,s.rotation.x=y(s.rotation.x),s.rotation.y=y(s.rotation.y),s.rotation.z=y(s.rotation.z);let o={x:s.width/2,y:s.height/.5,z:s.depth/2};s.scaling=o,a.addPhysicsData(s)}),this.structuresData.structures[t].startsNewZone){let a=this.structuresData.structures[t].zoneStart;this.currentGameZone=a,this.gameZones[a].zoneZStart=e}return s}generateLevelSection(){let t=this;return new Promise(function(a,e){let i=t.currentPosition.z,r=i,s=t.currentPosition.y,o=t.currentPosition.x;for(;i<=r+t.generateLength;){if(!t.hardCore&&t._checkPointCount>=t._checkPointInterval){let a=t.addCheckPoint();s+=a.yToAdd,i+=a.zToAdd,o+=a.xToAdd,t._checkPointCount=0}if(i<=40){let a={x:0,y:0,z:i},e="";e="-joined",t.addTrackData(a,10,e),i+=10}else{let a=t.calculateTrackItem();if("track"==a){let a=t.probMap.calculateNextPlacement(t.currentGameZone,t.currentPosition),e=t.probMap.calculateNextTrackSection(t.currentGameZone),r=0;s+=a.yToAdd,i+=a.zToAdd,r+=a.zToAdd;let n={x:o+=a.xToAdd,y:s,z:i},d="";0==a.zToAdd&&(d="-joined"),t.addTrackData(n,e,d),i+=e,r+=e,t._checkPointCount+=r}else{let e=t.addTrackStructure(a);s+=e.yToAdd,i+=e.zToAdd,o+=e.xToAdd,t._checkPointCount+=e.zToAdd}}if("normal"!=t.currentGameZone){let a=t.gameZones[t.currentGameZone];a.length+a.zoneZStart<i&&(t.currentGameZone="normal")}t.currentPosition.x=o,t.currentPosition.z=i,t.currentPosition.y=s}t.canSpawnBigStructure=!0,a(!0)})}addTrackData(t,a){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=this,r="".concat(a,"-long").concat(e);this.structuresData.platforms[r].models.forEach(a=>{let e=p(a);e.position.x+=t.x,e.position.y+=t.y,e.position.z+=t.z,e.rotation.x=y(e.rotation.x),e.rotation.y=y(e.rotation.y),e.rotation.z=y(e.rotation.z),i.addModelData(e,"".concat(e.position.x,"-").concat(e.position.y,"-").concat(e.position.z))}),this.structuresData.platforms[r].physics.forEach(a=>{let e=p(a);e.position.x+=t.x,e.position.y+=t.y,e.position.z+=t.z;let r={x:e.width/2,y:e.height/.5,z:e.depth/2};e.scaling=r,i.addPhysicsData(e)})}addPointOrbs(t,a){let e=t.z+a;for(let a=t.z;a<e;a++){let e=1;if(this.PM.getRandomProbability(.25)&&(e=this.PM.getRandomRange(1,5)),this.PM.getRandomProbability(.1)){let i={className:"PointOrb",type:"pointorb",position:{x:t.x,y:t.y+e,z:a},rotation:{x:y(-90),y:0,z:0},modelid:"pointorb"};this.addGameObjectData(i)}}}addPhysicsData(t){let a=b(t.position.z)[1];this.physicsObjectsLocationsData[a]||(this.physicsObjectsLocationsData[a]=[]),this.physicsObjectsLocationsData[a].push(t)}addGameObjectData(t){let a=b(t.position.z)[1];this.gameObjectsLocationsData[a]||(this.gameObjectsLocationsData[a]=[]),this.gameObjectsLocationsData[a][t.modelid]||(this.gameObjectsLocationsData[a][t.modelid]=[]);let e=this.gameObjectsLocationsData[a][t.modelid].length,i="".concat(t.modelid,"-").concat(a,"-").concat(e,"-").concat(t.position.x,"-").concat(t.position.y,"-").concat(t.position.z,"-").concat(t.rotation.x,"-").concat(t.rotation.y,"-").concat(t.rotation.z,"-");t.id=i,this.gameObjectsLocationsData[a][t.modelid].push(t)}addLightPositionData(t){}addModelData(t,a){let e="".concat(t.modelId,"-").concat(a);t.id=e;let i=b(t.position.z)[1];this.levelModelLocationsData[i]||(this.levelModelLocationsData[i]=[]),this.levelModelLocationsData[i].push(t)}constructor(t,a){this.PM=t,this.probMap=a,this.generationData={},this.assetData={},this.currentGameZone="normal",this.gameZones={},this.currentPosition={x:0,y:0,z:0},this.generateLength=768,this.dashZone=!1,this.dashZoneLength=200,this.dashZoneZStart=0,this.trackNoSpaceProbablity=.2,this.trackNoSpaceProbablityDefault=.2,this.trackUpProbability=.6,this.trackUpProbabilityDefault=.6,this.trackDownProbability=.6,this.trackDownProbabilityDefault=.6,this.canSpawnBigStructure=!0,this.levelModelLocationsData={},this.physicsObjectsLocationsData={},this.gameObjectsLocationsData={},this.lightLocationsData={},this.hardCore=!1,this._checkPointCount=0,this._checkPointInterval=500,this.trackSectionProbabilityMap={novice:{2:0,4:0,6:.8,8:.8,10:.9},easy:{2:.1,4:.1,6:.6,8:.2,10:.2},medium:{2:.7,4:.7,6:.7,8:.1,10:.1},hard:{2:.8,4:.8,6:.1,8:.1,10:.1},extreme:{2:.9,4:.1,6:.1,8:.1,10:.1}},this._init()}}class x{registerNewGameZone(t,a,e){this.gameZones[t]={trackProbMap:e,probMap:a}}_noHeight(t){let a={zToAdd:0,xToAdd:0,yToAdd:0};return this.PM.getMatrixProbability(0,t["add-big"])?a.zToAdd=this.PM.getMAtrixRange(0,t["range-small-add-min"],t["range-small-add-max"]):a.zToAdd=this.PM.getMAtrixRange(0,t["range-big-add-min"],t["range-big-add-max"]),a}_goUp(t){let a={zToAdd:0,xToAdd:0,yToAdd:0};return this.PM.getMatrixProbability(0,t["go-up-big"]),a.zToAdd=this.PM.getMAtrixRange(0,t["range-z-add-up-small-min"],t["range-z-add-up-small-max"]),a.yToAdd=this.PM.getMAtrixRange(0,t["range-y-add-up-small-min"],t["range-y-add-up-small-max"]),a}_goDown(t,a){let e={zToAdd:0,xToAdd:0,yToAdd:0};return this.PM.getMatrixProbability(0,t["go-down-big"])?(e.zToAdd=this.PM.getMAtrixRange(0,t["range-z-add-down-small-min"],t["range-z-add-down-small-max"]),e.yToAdd=this.PM.getMAtrixRange(0,t["range-y-add-down-small-min"],t["range-y-add-down-small-min"])):(e.zToAdd=this.PM.getMAtrixRange(0,t["range-z-add-down-big-min"],t["range-z-add-down-big-min"]),e.yToAdd=this.PM.getMAtrixRange(0,t["range-y-add-down-big-min"],t["range-y-add-down-big-min"])),a.y-e.yToAdd>0?e.yToAdd=-e.yToAdd:e.yToAdd=0,e}calculateNextPlacement(t,a){let e=this.gameZones[t].probMap[this.difficulity];return this.PM.getMatrixProbability(0,e["right-here"])?{zToAdd:0,xToAdd:0,yToAdd:0}:this.PM.getMatrixProbability(0,e["no-height"])?this._noHeight(e):this.PM.getMatrixProbability(0,e["go-up"])?this._goUp(e):this._goDown(e,a)}calculateNextTrackSection(t){let a=this.gameZones[t].trackProbMap[this.difficulity];return this.PM.getMatrixProbability(0,a[10])?10:this.PM.getMatrixProbability(0,a[8])?8:this.PM.getMatrixProbability(0,a[6])?6:this.PM.getMatrixProbability(0,a[4])?4:this.PM.getMatrixProbability(0,a[2])?2:4}constructor(t){this.PM=t,this.defaultProbailityMap={novice:{"right-here":.2,"no-height":.9,"add-big":.9,"range-small-add-min":2,"range-small-add-max":4,"range-big-add-min":4,"range-big-add-max":8,"go-up":.1,"go-up-big":.01,"range-z-add-up-small-min":2,"range-z-add-up-small-max":5,"range-y-add-up-small-min":1,"range-y-add-up-small-max":4,"range-z-add-up-big-min":2,"range-z-add-up-big-max":5,"range-y-add-up-big-min":1,"range-y-add-up-big-max":4,"go-down-big":.5,"range-z-add-down-small-min":2,"range-z-add-down-small-max":8,"range-y-add-down-small-min":1,"range-y-add-down-small-max":4,"range-z-add-down-big-min":2,"range-z-add-down-big-max":8,"range-y-add-down-big-min":4,"range-y-add-down-big-max":10},easy:{"right-here":.2,"no-height":.4,"add-big":.4,"range-small-add-min":2,"range-small-add-max":4,"range-big-add-min":4,"range-big-add-max":8,"go-up":.4,"go-up-big":.01,"range-z-add-up-small-min":2,"range-z-add-up-small-max":5,"range-y-add-up-small-min":1,"range-y-add-up-small-max":4,"range-z-add-up-big-min":2,"range-z-add-up-big-max":5,"range-y-add-up-big-min":1,"range-y-add-up-big-max":4,"go-down-big":.7,"range-z-add-down-small-min":2,"range-z-add-down-small-max":8,"range-y-add-down-small-min":1,"range-y-add-down-small-max":4,"range-z-add-down-big-min":2,"range-z-add-down-big-max":8,"range-y-add-down-big-min":4,"range-y-add-down-big-max":10},medium:{"right-here":.2,"no-height":.3,"add-big":.4,"range-small-add-min":2,"range-small-add-max":4,"range-big-add-min":4,"range-big-add-max":8,"go-up":.4,"go-up-big":.01,"range-z-add-up-small-min":2,"range-z-add-up-small-max":5,"range-y-add-up-small-min":1,"range-y-add-up-small-max":4,"range-z-add-up-big-min":2,"range-z-add-up-big-max":5,"range-y-add-up-big-min":1,"range-y-add-up-big-max":4,"go-down-big":.7,"range-z-add-down-small-min":2,"range-z-add-down-small-max":8,"range-y-add-down-small-min":1,"range-y-add-down-small-max":4,"range-z-add-down-big-min":2,"range-z-add-down-big-max":8,"range-y-add-down-big-min":4,"range-y-add-down-big-max":10},hard:{"right-here":.2,"no-height":.1,"add-big":.1,"range-small-add-min":3,"range-small-add-max":4,"range-big-add-min":6,"range-big-add-max":8,"go-up":.8,"go-up-big":.01,"range-z-add-up-small-min":2,"range-z-add-up-small-max":5,"range-y-add-up-small-min":1,"range-y-add-up-small-max":4,"range-z-add-up-big-min":2,"range-z-add-up-big-max":5,"range-y-add-up-big-min":1,"range-y-add-up-big-max":4,"go-down-big":.5,"range-z-add-down-small-min":2,"range-z-add-down-small-max":8,"range-y-add-down-small-min":1,"range-y-add-down-small-max":4,"range-z-add-down-big-min":2,"range-z-add-down-big-max":8,"range-y-add-down-big-min":4,"range-y-add-down-big-max":10},extreme:{"right-here":.2,"no-height":.01,"add-big":.1,"range-small-add-min":3,"range-small-add-max":4,"range-big-add-min":6,"range-big-add-max":8,"go-up":.9,"go-up-big":.01,"range-z-add-up-small-min":2,"range-z-add-up-small-max":5,"range-y-add-up-small-min":1,"range-y-add-up-small-max":4,"range-z-add-up-big-min":2,"range-z-add-up-big-max":5,"range-y-add-up-big-min":1,"range-y-add-up-big-max":4,"go-down-big":.5,"range-z-add-down-small-min":2,"range-z-add-down-small-max":8,"range-y-add-down-small-min":1,"range-y-add-down-small-max":4,"range-z-add-down-big-min":2,"range-z-add-down-big-max":8,"range-y-add-down-big-min":4,"range-y-add-down-big-max":10}},this.defaultTrackSectionProbabilityMap={novice:{2:0,4:0,6:.8,8:.8,10:.9,12:0,14:0,16:0,18:0,20:0},easy:{2:.1,4:.1,6:.6,8:.2,10:.2,12:0,14:0,16:0,18:0,20:0},medium:{2:.7,4:.7,6:.7,8:.1,10:.1,12:0,14:0,16:0,18:0,20:0},hard:{2:.8,4:.8,6:.1,8:.1,10:.1,12:0,14:0,16:0,18:0,20:0},extreme:{2:.9,4:.1,6:.1,8:.1,10:.1,12:0,14:0,16:0,18:0,20:0}},this.gameZones={normal:{trackProbMap:this.defaultTrackSectionProbabilityMap,probMap:this.defaultProbailityMap}}}}class D{async _init(){let t=await this.fileHanlder.getJSONFromFileAsync("data/globalassetdata.json");this.assetData=t.assets}async fetchLevelData(t){this.currentLevelId=t,t=t.split("-")[0];let a=Object.assign(await this.fileHanlder.getJSONFromFileAsync("data/assetdata/".concat(t,"/assetdata.json")),this.assetData);this.assetData=a.assets;let e=await this.fileHanlder.getJSONFromFileAsync("data/leveldata/".concat(t,"/structures/structures.json"));if(this.structuresData=e,(null==e?void 0:e.includedStructuresFromFiles.length)==0){this.levelDataGenerator.setData(this.assetData,this.structuresData);return}let i=[],r=[];e.includedStructuresFromFiles.forEach(t=>{i.push(this.fileHanlder.getJSONFromFileAsync("data/leveldata/".concat(t.file))),r.push(t.file)}),(await Promise.all(i)).forEach(t=>{e.structures["".concat(t.id)]=t}),this.levelDataGenerator.setData(this.assetData,this.structuresData)}constructor(t,a){this.fileHanlder=t,this.levelDataGenerator=a,this.assetData={},this.structuresData={},this._init()}}class P{setProbailityMapValueDifficulties(t,a,e,i){Object.keys(t).forEach(r=>{(a.includes(r)||"all"==a)&&(t[r][e]=i)})}setTrackProbailityMapValueDifficulties(t,a,e,i){Object.keys(t).forEach(r=>{if(a.includes(r)||"all"==a){if(Array.isArray(e))for(let a of e)t[r][a]=i;else t[r][e]=i}})}registerNewGameZone(t,a,e,i,r,s){this.levelDataGenerator.registerGameZone(t,a,e,i),this.probMap.registerNewGameZone(t,r,s)}getProbabilityMapTemplate(){return JSON.parse(JSON.stringify(this.probMap.defaultProbailityMap))}getTrackProbabilityMapTemplate(){return JSON.parse(JSON.stringify(this.probMap.defaultTrackSectionProbabilityMap))}constructor(t,a){this.levelDataGenerator=t,this.probMap=a}}let M=new e({}),w=new m,z=new x(w),T=new f(w,z),S=new P(T,z),A=new D(M,T),E=S.getProbabilityMapTemplate(),v=S.getTrackProbabilityMapTemplate();S.setProbailityMapValueDifficulties(E,"all","right-here",0),S.setProbailityMapValueDifficulties(E,"all","no-height",.9),S.setProbailityMapValueDifficulties(E,["novice","easy","medium"],"range-small-add-min",30),S.setProbailityMapValueDifficulties(E,["novice","easy","medium"],"range-small-add-max",40),S.setProbailityMapValueDifficulties(E,["novice","easy","medium"],"range-big-add-min",30),S.setProbailityMapValueDifficulties(E,["novice","easy","medium"],"range-big-add-max",40),S.setProbailityMapValueDifficulties(E,["hard","extreme"],"range-small-add-min",40),S.setProbailityMapValueDifficulties(E,["hard","extreme"],"range-small-add-max",50),S.setProbailityMapValueDifficulties(E,["hard","extreme"],"range-big-add-min",50),S.setProbailityMapValueDifficulties(E,["hard","extreme"],"range-big-add-max",80),S.setTrackProbailityMapValueDifficulties(v,"all",2,1),S.setTrackProbailityMapValueDifficulties(v,"all",[4,6,8,10],0),S.registerNewGameZone("dash-zone",200,"all","all",E,v);let k="undefined"!=typeof self?self:t.g;k.levelDataGenerator=T,k.levelGenDataHanlder=A,k.probMap=z;let _=t=>{let e=t.data;if("get-levelsection-data"==e.action){let t=T.getLevelDataSet(e.data.zone);a.postMessage({message:"get-levelsection-data",data:t,zone:t.zone,requestID:e.data.requestID})}"generate-level-section"==e.action&&T.generateLevelSection().then(t=>{k.postMessage([{completed:"generate-level-section"}])})},L=t=>{console.log("%c set up level data generator","font-size:35px;color:cyan"),console.log(t),T.difficulity=t.difficulity,z.difficulity=t.difficulity,T.resetLevelData(),T._checkPointCount=0,T.dashZone=!1,T.dashZoneLength=200,T.dashZoneZStart=0,T.canSpawnBigStructure=!0,"true"==t.hardcore?T.hardCore=!0:T.hardCore=!1,w.initMatrix(t.seed1,t.seed2,t.seed3),T.currentPosition={x:0,y:0,z:0}};onmessage=function(e){let i=e.data;if(i){if("connect"==i.action){var r;a=e.ports[0],console.log("%c connect level data gen","font-size: 25px; color: red;"),console.log(e.data),r=e.data.globalData,t.g.GAME_ZONE_SIZE=r.GAME_ZONE_SIZE,t.g.OBJECT_UPDATE_ZONE_SIZE=r.OBJECT_UPDATE_ZONE_SIZE,t.g.RENDER_DISTANCE=r.RENDER_DISTANCE,t.g.GOD_MODE=r.GOD_MODE,t.g.DEVELOPMENT=r.DEVELOPMENT,t.g.START_IN_LEVEL=r.START_IN_LEVEL,t.g.STARTING_LEVEL=r.STARTING_LEVEL,t.g.RANDOM_SEED=r.RANDOM_SEED,t.g.SET_SEED=r.SET_SEED,t.g.START_IN_SCREEN=r.START_IN_SCREEN,t.g.STARTING_SCREEN=r.STARTING_SCREEN,console.log(i),a.onmessage=_}if("update-render-worker"==i.action&&a.postMessage({message:"hey update!"}),"load-level-data"==i.action&&(L(i.data.levelData),(async()=>{await A.fetchLevelData(i.data.levelId),k.postMessage([{completed:"load-level-data"}])})()),"get-levelsection-data"==i.action){let t=T.getLevelDataSet(i.data.zone);k.postMessage([{completed:"get-levelsection-data",data:t,requestID:i.data.requestID}])}"generate-level-section"==i.action&&T.generateLevelSection().then(t=>{let a={completed:"generate-level-section",data:T.levelModelLocationsData};k.postMessage([a])})}}}(),_N_E={}}();