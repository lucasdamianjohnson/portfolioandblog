!function(){var t,e,r,n,o,a,s={21693:function(t,e,r){"use strict";let n;var o=r(79290);class a{setSeed(t){this.z=this.seed=(null==t?Math.random()*this.m:t)>>>0}getSeed(){return this.seed}rand(){return this.z=(this.a*this.z+this.c)%this.m,this.z/this.m}constructor(t){this.seed=t,this.m=4294967296,this.a=1664525,this.c=1013904223,this.z=0,this.setSeed(t)}}let s=1/3,i=1/6,l=t=>0|Math.floor(t),c=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function u(t,e,r,n,o){let a=o-n;return(((t-e)*(o-n)/(r-e)+n-n)%a+a)%a+n}self.onmessage=t=>{let e=t.data;if("set-seed"==e[0]){let t=new a(e[1]);n=function(t=Math.random){let e=function(t){let e=new Uint8Array(512);for(let t=0;t<256;t++)e[t]=t;for(let r=0;r<255;r++){let n=r+~~(t()*(256-r)),o=e[r];e[r]=e[n],e[n]=o}for(let t=256;t<512;t++)e[t]=e[t-256];return e}(t),r=new Float64Array(e).map(t=>c[t%12*3]),n=new Float64Array(e).map(t=>c[t%12*3+1]),o=new Float64Array(e).map(t=>c[t%12*3+2]);return function(t,a,c){let u,f,p,h,d,y,m,w,v,P;let M=(t+a+c)*s,A=l(t+M),b=l(a+M),x=l(c+M),O=(A+b+x)*i,S=t-(A-O),g=a-(b-O),j=c-(x-O);S>=g?g>=j?(d=1,y=0,m=0,w=1,v=1,P=0):(S>=j?(d=1,y=0,m=0):(d=0,y=0,m=1),w=1,v=0,P=1):g<j?(d=0,y=0,m=1,w=0,v=1,P=1):S<j?(d=0,y=1,m=0,w=0,v=1,P=1):(d=0,y=1,m=0,w=1,v=1,P=0);let k=S-d+i,F=g-y+i,_=j-m+i,z=S-w+2*i,E=g-v+2*i,V=j-P+2*i,U=S-1+3*i,C=g-1+3*i,N=j-1+3*i,T=255&A,I=255&b,L=255&x,R=.6-S*S-g*g-j*j;if(R<0)u=0;else{let t=T+e[I+e[L]];R*=R,u=R*R*(r[t]*S+n[t]*g+o[t]*j)}let q=.6-k*k-F*F-_*_;if(q<0)f=0;else{let t=T+d+e[I+y+e[L+m]];q*=q,f=q*q*(r[t]*k+n[t]*F+o[t]*_)}let B=.6-z*z-E*E-V*V;if(B<0)p=0;else{let t=T+w+e[I+v+e[L+P]];B*=B,p=B*B*(r[t]*z+n[t]*E+o[t]*V)}let D=.6-U*U-C*C-N*N;if(D<0)h=0;else{let t=T+1+e[I+1+e[L+1]];D*=D,h=D*D*(r[t]*U+n[t]*C+o[t]*N)}return 32*(u+f+p+h)}}(()=>t.rand())}if("make-grass"==e[0]){let[t,r,a,s,i,l,c,f,p]=e,h=function(t){let{bladeWidth:e,bladeHeight:r,noiseScale:a,noiseAmplitude:s,chunkX:i,chunkZ:l,gridSize:c}=t,f=[],p=[],h=[],d=[],y=0,m=new o.Pa4,w=[0,0];new o.Pa4;for(let t=i*c;t<i*c+c;t+=.5)for(let t=l*c;t<l*c+c;t+=.5){let t=Math.random()*c-c/2,v=Math.random()*c-c/2,P=t+i*c,M=v+l*c,A=n(P*a,M*a,0)*s;if(A<-.5)continue;m.x=P,m.y=A,m.z=M,w[0]=u(t,-c/2,c/2,0,1),w[1]=u(v,-c/2,c/2,0,1);let b=function(t,e,r,n,a){let s=.5*t,i=e+.3*Math.random(),l=Math.random()*Math.PI*2,c=new o.Pa4(Math.sin(l),0,-Math.cos(l)),u=Math.random()*Math.PI*2,f=new o.Pa4(Math.sin(u),0,-Math.cos(u)),p=new o.Pa4().addVectors(r,new o.Pa4().copy(c).multiplyScalar(t/2*1)),h=new o.Pa4().addVectors(r,new o.Pa4().copy(c).multiplyScalar(-(t/2*1))),d=new o.Pa4().addVectors(r,new o.Pa4().copy(c).multiplyScalar(s/2*1)),y=new o.Pa4().addVectors(r,new o.Pa4().copy(c).multiplyScalar(-(s/2*1))),m=new o.Pa4().addVectors(r,new o.Pa4().copy(f).multiplyScalar(.1));d.y+=i/2,y.y+=i/2,m.y+=i;let w=[0,0,0],v=[.5,.5,.5];return{verts:[{pos:p.toArray(),uv:a,color:w},{pos:h.toArray(),uv:a,color:w},{pos:y.toArray(),uv:a,color:v},{pos:d.toArray(),uv:a,color:v},{pos:m.toArray(),uv:a,color:[1,1,1]}],indices:[n,n+1,n+2,n+2,n+4,n+3,n+3,n,n+2]}}(e,r,m,5*y,w);b.verts.forEach(t=>{f.push(...t.pos),p.push(...t.uv),d.push(...t.color)}),b.indices.forEach(t=>h.push(t)),y++}return{positions:new Float32Array(f),indices:new Uint32Array(h),uvs:new Float32Array(p),colors:new Float32Array(d)}}({chunkX:a,chunkZ:s,gridSize:i,noiseScale:l,noiseAmplitude:c,bladeWidth:f,bladeHeight:p});self.postMessage(["set-grass",r,h],Object.values(h).map(t=>t.buffer))}}}},i={};function l(t){var e=i[t];if(void 0!==e)return e.exports;var r=i[t]={exports:{}},n=!0;try{s[t](r,r.exports,l),n=!1}finally{n&&delete i[t]}return r.exports}l.m=s,l.x=function(){var t=l.O(void 0,[225],function(){return l(21693)});return l.O(t)},t=[],l.O=function(e,r,n,o){if(r){o=o||0;for(var a=t.length;a>0&&t[a-1][2]>o;a--)t[a]=t[a-1];t[a]=[r,n,o];return}for(var s=1/0,a=0;a<t.length;a++){for(var r=t[a][0],n=t[a][1],o=t[a][2],i=!0,c=0;c<r.length;c++)s>=o&&Object.keys(l.O).every(function(t){return l.O[t](r[c])})?r.splice(c--,1):(i=!1,o<s&&(s=o));if(i){t.splice(a--,1);var u=n();void 0!==u&&(e=u)}}return e},l.d=function(t,e){for(var r in e)l.o(e,r)&&!l.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},l.f={},l.e=function(t){return Promise.all(Object.keys(l.f).reduce(function(e,r){return l.f[r](t,e),e},[]))},l.u=function(t){return"static/chunks/0f3c8638-3c3ad70968e682a5.js"},l.miniCssF=function(t){},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.j=1693,l.tt=function(){return void 0===e&&(e={createScriptURL:function(t){return t}},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(e=trustedTypes.createPolicy("nextjs#bundler",e))),e},l.tu=function(t){return l.tt().createScriptURL(t)},l.p="/_next/",r={1693:1},l.f.i=function(t,e){r[t]||importScripts(l.tu(l.p+l.u(t)))},o=(n=self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push.bind(n),n.push=function(t){var e=t[0],n=t[1],a=t[2];for(var s in n)l.o(n,s)&&(l.m[s]=n[s]);for(a&&a(l);e.length;)r[e.pop()]=1;o(t)},a=l.x,l.x=function(){return l.e(225).then(a)},_N_E=l.x()}();