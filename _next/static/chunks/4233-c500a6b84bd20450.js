"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4233],{50998:function(e,t,r){let o,n;function i(){var e;if(void 0!==o)return o;try{let t;let r=document.createElement("canvas");return o=!!(window.WebGLRenderingContext&&(t=r.getContext("webgl"))),t&&(null==(e=t.getExtension("WEBGL_lose_context"))||e.loseContext()),o}catch(e){return o=!1}}function u(){var e;if(void 0!==n)return n;try{let t;let r=document.createElement("canvas");return n=!!(window.WebGL2RenderingContext&&(t=r.getContext("webgl2"))),t&&(null==(e=t.getExtension("WEBGL_lose_context"))||e.loseContext()),n}catch(e){return n=!1}}function l(){return a(1)}function s(){return a(2)}function a(e){let t={1:window.WebGLRenderingContext,2:window.WebGL2RenderingContext},r=document.createElement("div");r.id="webglmessage",r.style.fontFamily="monospace",r.style.fontSize="13px",r.style.fontWeight="normal",r.style.textAlign="center",r.style.background="#fff",r.style.color="#000",r.style.padding="1.5em",r.style.width="400px",r.style.margin="5em auto 0";let o='Your $0 does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">$1</a>';return o=(o=t[e]?o.replace("$0","graphics card"):o.replace("$0","browser")).replace("$1",{1:"WebGL",2:"WebGL 2"}[e]),r.innerHTML=o,r}r.d(t,{SV:function(){return l},Tq:function(){return s},b3:function(){return u},e$:function(){return a},lN:function(){return i}})},43224:function(e,t,r){r.r(t),r.d(t,{computeMorphedAttributes:function(){return m},estimateBytesUsed:function(){return s},interleaveAttributes:function(){return l},mergeBufferAttributes:function(){return u},mergeBufferGeometries:function(){return i},mergeVertices:function(){return a},toCreasedNormals:function(){return c},toTrianglesDrawMode:function(){return f}});var o=r(79290);let n=(e,t)=>e[t],i=(e,t)=>{let r=null!==e[0].index,n=new Set(Object.keys(e[0].attributes)),i=new Set(Object.keys(e[0].morphAttributes)),l={},s={},a=e[0].morphTargetsRelative,f=new o.BufferGeometry,m=0;if(e.forEach((e,o)=>{let u=0;if(r!==(null!==e.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+o+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let t in e.attributes){if(!n.has(t))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+o+'. All geometries must have compatible attributes; make sure "'+t+'" attribute exists among all geometries, or in none of them.'),null;void 0===l[t]&&(l[t]=[]),l[t].push(e.attributes[t]),u++}if(u!==n.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+o+". Make sure all geometries have the same number of attributes."),null;if(a!==e.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+o+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let t in e.morphAttributes){if(!i.has(t))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+o+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===s[t]&&(s[t]=[]),s[t].push(e.morphAttributes[t])}if(f.userData.mergedUserData=f.userData.mergedUserData||[],f.userData.mergedUserData.push(e.userData),t){let t;if(e.index)t=e.index.count;else{if(void 0===e.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+o+". The geometry must have either an index or a position attribute"),null;t=e.attributes.position.count}f.addGroup(m,t,o),m+=t}}),r){let t=0,r=[];e.forEach(e=>{let o=e.index;for(let e=0;e<o.count;++e)r.push(o.getX(e)+t);t+=e.attributes.position.count}),f.setIndex(r)}for(let e in l){let t=u(l[e]);if(!t)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+e+" attribute."),null;f.setAttribute(e,t)}for(let e in s){let t=s[e][0].length;if(0===t)break;f.morphAttributes=f.morphAttributes||{},f.morphAttributes[e]=[];for(let r=0;r<t;++r){let t=[];for(let o=0;o<s[e].length;++o)t.push(s[e][o][r]);let o=u(t);if(!o)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+e+" morphAttribute."),null;f.morphAttributes[e].push(o)}}return f},u=e=>{let t,r,n;let i=0;if(e.forEach(e=>(void 0===t&&(t=e.array.constructor),t!==e.array.constructor)?(console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null):(void 0===r&&(r=e.itemSize),r!==e.itemSize)?(console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null):(void 0===n&&(n=e.normalized),n!==e.normalized)?(console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null):void(i+=e.array.length)),t&&r){let u=new t(i),l=0;return e.forEach(e=>{u.set(e.array,l),l+=e.array.length}),new o.BufferAttribute(u,r,n)}},l=e=>{let t;let r=0,i=0;for(let o=0,n=e.length;o<n;++o){let n=e[o];if(void 0===t&&(t=n.array.constructor),t!==n.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;r+=n.array.length,i+=n.itemSize}let u=new o.InterleavedBuffer(new t(r),i),l=0,s=[],a=["getX","getY","getZ","getW"],f=["setX","setY","setZ","setW"];for(let t=0,r=e.length;t<r;t++){let r=e[t],i=r.itemSize,m=r.count,c=new o.InterleavedBufferAttribute(u,i,l,r.normalized);s.push(c),l+=i;for(let e=0;e<m;e++)for(let t=0;t<i;t++)n(c,f[t])(e,n(r,a[t])(e))}return s};function s(e){let t=0;for(let r in e.attributes){let o=e.getAttribute(r);t+=o.count*o.itemSize*o.array.BYTES_PER_ELEMENT}let r=e.getIndex();return t+(r?r.count*r.itemSize*r.array.BYTES_PER_ELEMENT:0)}function a(e,t=1e-4){t=Math.max(t,Number.EPSILON);let r={},n=e.getIndex(),i=e.getAttribute("position"),u=n?n.count:i.count,l=0,s=Object.keys(e.attributes),a={},f={},m=[],c=["getX","getY","getZ","getW"];for(let t=0,r=s.length;t<r;t++){let r=s[t];a[r]=[];let o=e.morphAttributes[r];o&&(f[r]=Array(o.length).fill(0).map(()=>[]))}let g=Math.pow(10,Math.log10(1/t));for(let t=0;t<u;t++){let o=n?n.getX(t):t,i="";for(let t=0,r=s.length;t<r;t++){let r=s[t],n=e.getAttribute(r),u=n.itemSize;for(let e=0;e<u;e++)i+=`${~~(n[c[e]](o)*g)},`}if(i in r)m.push(r[i]);else{for(let t=0,r=s.length;t<r;t++){let r=s[t],n=e.getAttribute(r),i=e.morphAttributes[r],u=n.itemSize,l=a[r],m=f[r];for(let e=0;e<u;e++){let t=c[e];if(l.push(n[t](o)),i)for(let e=0,r=i.length;e<r;e++)m[e].push(i[e][t](o))}}r[i]=l,m.push(l),l++}}let d=e.clone();for(let t=0,r=s.length;t<r;t++){let r=s[t],n=e.getAttribute(r),i=new n.array.constructor(a[r]),u=new o.BufferAttribute(i,n.itemSize,n.normalized);if(d.setAttribute(r,u),r in f)for(let t=0;t<f[r].length;t++){let n=e.morphAttributes[r][t],i=new n.array.constructor(f[r][t]),u=new o.BufferAttribute(i,n.itemSize,n.normalized);d.morphAttributes[r][t]=u}}return d.setIndex(m),d}function f(e,t){if(t===o.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t!==o.TriangleFanDrawMode&&t!==o.TriangleStripDrawMode)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e;{let r=e.getIndex();if(null===r){let t=[],o=e.getAttribute("position");if(void 0===o)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<o.count;e++)t.push(e);e.setIndex(t),r=e.getIndex()}let n=r.count-2,i=[];if(r){if(t===o.TriangleFanDrawMode)for(let e=1;e<=n;e++)i.push(r.getX(0)),i.push(r.getX(e)),i.push(r.getX(e+1));else for(let e=0;e<n;e++)e%2==0?(i.push(r.getX(e)),i.push(r.getX(e+1)),i.push(r.getX(e+2))):(i.push(r.getX(e+2)),i.push(r.getX(e+1)),i.push(r.getX(e)))}i.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");let u=e.clone();return u.setIndex(i),u.clearGroups(),u}}function m(e){let t,r,n,i,u,l,s,a,f,m,c;if(!0!==e.geometry.isBufferGeometry)return console.error("THREE.BufferGeometryUtils: Geometry is not of type BufferGeometry."),null;let g=new o.Vector3,d=new o.Vector3,h=new o.Vector3,b=new o.Vector3,p=new o.Vector3,y=new o.Vector3,w=new o.Vector3,A=new o.Vector3,B=new o.Vector3;function E(e,t,r,o,n,i,u,l,s){g.fromBufferAttribute(r,i),d.fromBufferAttribute(r,u),h.fromBufferAttribute(r,l);let a=e.morphTargetInfluences;if(t.morphTargets&&o&&a){w.set(0,0,0),A.set(0,0,0),B.set(0,0,0);for(let e=0,t=o.length;e<t;e++){let t=a[e],r=o[e];0!==t&&(b.fromBufferAttribute(r,i),p.fromBufferAttribute(r,u),y.fromBufferAttribute(r,l),n?(w.addScaledVector(b,t),A.addScaledVector(p,t),B.addScaledVector(y,t)):(w.addScaledVector(b.sub(g),t),A.addScaledVector(p.sub(d),t),B.addScaledVector(y.sub(h),t)))}g.add(w),d.add(A),h.add(B)}e.isSkinnedMesh&&(e.boneTransform(i,g),e.boneTransform(u,d),e.boneTransform(l,h)),s[3*i+0]=g.x,s[3*i+1]=g.y,s[3*i+2]=g.z,s[3*u+0]=d.x,s[3*u+1]=d.y,s[3*u+2]=d.z,s[3*l+0]=h.x,s[3*l+1]=h.y,s[3*l+2]=h.z}let x=e.geometry,G=e.material,T=x.index,V=x.attributes.position,v=x.morphAttributes.position,z=x.morphTargetsRelative,M=x.attributes.normal,S=x.morphAttributes.position,R=x.groups,U=x.drawRange,X=new Float32Array(V.count*V.itemSize),H=new Float32Array(M.count*M.itemSize);if(null!==T){if(Array.isArray(G))for(i=0,l=R.length;i<l;i++)for(f=G[(a=R[i]).materialIndex],m=Math.max(a.start,U.start),c=Math.min(a.start+a.count,U.start+U.count),u=m,s=c;u<s;u+=3)E(e,f,V,v,z,t=T.getX(u),r=T.getX(u+1),n=T.getX(u+2),X),E(e,f,M,S,z,t,r,n,H);else for(m=Math.max(0,U.start),c=Math.min(T.count,U.start+U.count),i=m,l=c;i<l;i+=3)E(e,G,V,v,z,t=T.getX(i),r=T.getX(i+1),n=T.getX(i+2),X),E(e,G,M,S,z,t,r,n,H)}else if(void 0!==V){if(Array.isArray(G))for(i=0,l=R.length;i<l;i++)for(f=G[(a=R[i]).materialIndex],m=Math.max(a.start,U.start),c=Math.min(a.start+a.count,U.start+U.count),u=m,s=c;u<s;u+=3)E(e,f,V,v,z,t=u,r=u+1,n=u+2,X),E(e,f,M,S,z,t,r,n,H);else for(m=Math.max(0,U.start),c=Math.min(V.count,U.start+U.count),i=m,l=c;i<l;i+=3)E(e,G,V,v,z,t=i,r=i+1,n=i+2,X),E(e,G,M,S,z,t,r,n,H)}return{positionAttribute:V,normalAttribute:M,morphedPositionAttribute:new o.Float32BufferAttribute(X,3),morphedNormalAttribute:new o.Float32BufferAttribute(H,3)}}function c(e,t=Math.PI/3){let r=Math.cos(t),n=(1+1e-10)*100,i=[new o.Vector3,new o.Vector3,new o.Vector3],u=new o.Vector3,l=new o.Vector3,s=new o.Vector3,a=new o.Vector3;function f(e){let t=~~(e.x*n),r=~~(e.y*n),o=~~(e.z*n);return`${t},${r},${o}`}let m=e.index?e.toNonIndexed():e,c=m.attributes.position,g={};for(let e=0,t=c.count/3;e<t;e++){let t=3*e,r=i[0].fromBufferAttribute(c,t+0),n=i[1].fromBufferAttribute(c,t+1),s=i[2].fromBufferAttribute(c,t+2);u.subVectors(s,n),l.subVectors(r,n);let a=new o.Vector3().crossVectors(u,l).normalize();for(let e=0;e<3;e++){let t=f(i[e]);t in g||(g[t]=[]),g[t].push(a)}}let d=new Float32Array(3*c.count),h=new o.BufferAttribute(d,3,!1);for(let e=0,t=c.count/3;e<t;e++){let t=3*e,o=i[0].fromBufferAttribute(c,t+0),n=i[1].fromBufferAttribute(c,t+1),m=i[2].fromBufferAttribute(c,t+2);u.subVectors(m,n),l.subVectors(o,n),s.crossVectors(u,l).normalize();for(let e=0;e<3;e++){let o=g[f(i[e])];a.set(0,0,0);for(let e=0,t=o.length;e<t;e++){let t=o[e];s.dot(t)>r&&a.add(t)}a.normalize(),h.setXYZ(t+e,a.x,a.y,a.z)}}return m.setAttribute("normal",h),m}}}]);