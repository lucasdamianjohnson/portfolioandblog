!function(){var t,e,r,n,o,a,s={21693:function(t,e,r){"use strict";let n;var o=r(79290);class a{setSeed(t){this.z=this.seed=(null==t?Math.random()*this.m:t)>>>0}getSeed(){return this.seed}rand(){return this.z=(this.a*this.z+this.c)%this.m,this.z/this.m}constructor(t){this.seed=t,this.m=4294967296,this.a=1664525,this.c=1013904223,this.z=0,this.setSeed(t)}}let s=1/3,c=1/6,i=t=>0|Math.floor(t),l=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function u(t,e,r,n,o){let a=o-n;return(((t-e)*(o-n)/(r-e)+n-n)%a+a)%a+n}self.onmessage=t=>{let e=t.data;if("set-seed"==e[0]){let t=new a(e[1]);n=function(t=Math.random){let e=function(t){let e=new Uint8Array(512);for(let t=0;t<256;t++)e[t]=t;for(let r=0;r<255;r++){let n=r+~~(t()*(256-r)),o=e[r];e[r]=e[n],e[n]=o}for(let t=256;t<512;t++)e[t]=e[t-256];return e}(t),r=new Float64Array(e).map(t=>l[t%12*3]),n=new Float64Array(e).map(t=>l[t%12*3+1]),o=new Float64Array(e).map(t=>l[t%12*3+2]);return function(t,a,l){let u,f,p,d,h,y,m,w,v,V;let b=(t+a+l)*s,M=i(t+b),S=i(a+b),g=i(l+b),A=(M+S+g)*c,O=t-(M-A),x=a-(S-A),j=l-(g-A);O>=x?x>=j?(h=1,y=0,m=0,w=1,v=1,V=0):(O>=j?(h=1,y=0,m=0):(h=0,y=0,m=1),w=1,v=0,V=1):x<j?(h=0,y=0,m=1,w=0,v=1,V=1):O<j?(h=0,y=1,m=0,w=0,v=1,V=1):(h=0,y=1,m=0,w=1,v=1,V=0);let P=O-h+c,_=x-y+c,k=j-m+c,F=O-w+2*c,z=x-v+2*c,E=j-V+2*c,T=O-1+3*c,U=x-1+3*c,C=j-1+3*c,N=255&M,I=255&S,L=255&g,R=.6-O*O-x*x-j*j;if(R<0)u=0;else{let t=N+e[I+e[L]];R*=R,u=R*R*(r[t]*O+n[t]*x+o[t]*j)}let q=.6-P*P-_*_-k*k;if(q<0)f=0;else{let t=N+h+e[I+y+e[L+m]];q*=q,f=q*q*(r[t]*P+n[t]*_+o[t]*k)}let B=.6-F*F-z*z-E*E;if(B<0)p=0;else{let t=N+w+e[I+v+e[L+V]];B*=B,p=B*B*(r[t]*F+n[t]*z+o[t]*E)}let D=.6-T*T-U*U-C*C;if(D<0)d=0;else{let t=N+1+e[I+1+e[L+1]];D*=D,d=D*D*(r[t]*T+n[t]*U+o[t]*C)}return 32*(u+f+p+d)}}(()=>t.rand())}if("make-grass"==e[0]){let[t,r,a,s,c,i,l,f,p]=e,d=function(t){let{bladeWidth:e,bladeHeight:r,noiseScale:a,noiseAmplitude:s,chunkX:c,chunkZ:i,gridSize:l}=t,f=[],p=[],d=[],h=[],y=0,m=new o.Vector3,w=[0,0];new o.Vector3;for(let t=c*l;t<c*l+l;t+=.5)for(let t=i*l;t<i*l+l;t+=.5){let t=Math.random()*l-l/2,v=Math.random()*l-l/2,V=t+c*l,b=v+i*l,M=n(V*a,b*a,0)*s;if(M<-.5)continue;m.x=V,m.y=M,m.z=b,w[0]=u(t,-l/2,l/2,0,1),w[1]=u(v,-l/2,l/2,0,1);let S=function(t,e,r,n,a){let s=.5*t,c=e+.3*Math.random(),i=Math.random()*Math.PI*2,l=new o.Vector3(Math.sin(i),0,-Math.cos(i)),u=Math.random()*Math.PI*2,f=new o.Vector3(Math.sin(u),0,-Math.cos(u)),p=new o.Vector3().addVectors(r,new o.Vector3().copy(l).multiplyScalar(t/2*1)),d=new o.Vector3().addVectors(r,new o.Vector3().copy(l).multiplyScalar(-(t/2*1))),h=new o.Vector3().addVectors(r,new o.Vector3().copy(l).multiplyScalar(s/2*1)),y=new o.Vector3().addVectors(r,new o.Vector3().copy(l).multiplyScalar(-(s/2*1))),m=new o.Vector3().addVectors(r,new o.Vector3().copy(f).multiplyScalar(.1));h.y+=c/2,y.y+=c/2,m.y+=c;let w=[0,0,0],v=[.5,.5,.5];return{verts:[{pos:p.toArray(),uv:a,color:w},{pos:d.toArray(),uv:a,color:w},{pos:y.toArray(),uv:a,color:v},{pos:h.toArray(),uv:a,color:v},{pos:m.toArray(),uv:a,color:[1,1,1]}],indices:[n,n+1,n+2,n+2,n+4,n+3,n+3,n,n+2]}}(e,r,m,5*y,w);S.verts.forEach(t=>{f.push(...t.pos),p.push(...t.uv),h.push(...t.color)}),S.indices.forEach(t=>d.push(t)),y++}return{positions:new Float32Array(f),indices:new Uint32Array(d),uvs:new Float32Array(p),colors:new Float32Array(h)}}({chunkX:a,chunkZ:s,gridSize:c,noiseScale:i,noiseAmplitude:l,bladeWidth:f,bladeHeight:p});self.postMessage(["set-grass",r,d],Object.values(d).map(t=>t.buffer))}}}},c={};function i(t){var e=c[t];if(void 0!==e)return e.exports;var r=c[t]={exports:{}},n=!0;try{s[t](r,r.exports,i),n=!1}finally{n&&delete c[t]}return r.exports}i.m=s,i.x=function(){var t=i.O(void 0,[225],function(){return i(21693)});return i.O(t)},t=[],i.O=function(e,r,n,o){if(r){o=o||0;for(var a=t.length;a>0&&t[a-1][2]>o;a--)t[a]=t[a-1];t[a]=[r,n,o];return}for(var s=1/0,a=0;a<t.length;a++){for(var r=t[a][0],n=t[a][1],o=t[a][2],c=!0,l=0;l<r.length;l++)s>=o&&Object.keys(i.O).every(function(t){return i.O[t](r[l])})?r.splice(l--,1):(c=!1,o<s&&(s=o));if(c){t.splice(a--,1);var u=n();void 0!==u&&(e=u)}}return e},i.d=function(t,e){for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.f={},i.e=function(t){return Promise.all(Object.keys(i.f).reduce(function(e,r){return i.f[r](t,e),e},[]))},i.u=function(t){return"static/chunks/0f3c8638-1bd677d9810894d6.js"},i.miniCssF=function(t){},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.j=1693,i.tt=function(){return void 0===e&&(e={createScriptURL:function(t){return t}},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(e=trustedTypes.createPolicy("nextjs#bundler",e))),e},i.tu=function(t){return i.tt().createScriptURL(t)},i.p="/_next/",r={1693:1},i.f.i=function(t,e){r[t]||importScripts(i.tu(i.p+i.u(t)))},o=(n=self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push.bind(n),n.push=function(t){var e=t[0],n=t[1],a=t[2];for(var s in n)i.o(n,s)&&(i.m[s]=n[s]);for(a&&a(i);e.length;)r[e.pop()]=1;o(t)},a=i.x,i.x=function(){return i.e(225).then(a)},_N_E=i.x()}();