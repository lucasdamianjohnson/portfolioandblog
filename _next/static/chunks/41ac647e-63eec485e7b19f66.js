"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[813],{33803:function(e,t,r){r.d(t,{V3:function(){return o},hW:function(){return i},wd:function(){return n}});let{CstParser:n,Lexer:i,createToken:o}=(()=>{var e,t,r,n,i,o,s,a,c,l,u,h,d,f,p,T,m,E,g,A="object"==typeof global&&global&&global.Object===Object&&global,y="object"==typeof self&&self&&self.Object===Object&&self,R=A||y||Function("return this")(),v=R.Symbol,I=Object.prototype,_=I.hasOwnProperty,O=I.toString,N=v?v.toStringTag:void 0,S=Object.prototype.toString,k=v?v.toStringTag:void 0;function L(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":k&&k in Object(e)?function(e){var t=_.call(e,N),r=e[N];try{e[N]=void 0;var n=!0}catch(e){}var i=O.call(e);return n&&(t?e[N]=r:delete e[N]),i}(e):S.call(e)}function x(e){return null!=e&&"object"==typeof e}function b(e){return"symbol"==typeof e||x(e)&&"[object Symbol]"==L(e)}function C(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var P=Array.isArray,M=1/0,w=v?v.prototype:void 0,U=w?w.toString:void 0,F=/\s/,D=/^\s+/;function j(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var $=0/0,B=/^[-+]0x[0-9a-f]+$/i,G=/^0b[01]+$/i,K=/^0o[0-7]+$/i,W=parseInt,H=1/0;function z(e){var t,r=(t=e)?(t=function(e){if("number"==typeof e)return e;if(b(e))return $;if(j(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=j(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=(t=e)?t.slice(0,function(e){for(var t=e.length;t--&&F.test(e.charAt(t)););return t}(t)+1).replace(D,""):t;var n=G.test(e);return n||K.test(e)?W(e.slice(2),n?2:8):B.test(e)?$:+e}(t))===H||t===-H?(t<0?-1:1)*17976931348623157e292:t==t?t:0:0===t?t:0,n=r%1;return r==r?n?r-n:r:0}function V(e){return e}function Y(e){if(!j(e))return!1;var t=L(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var X=R["__core-js_shared__"],q=(e=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",Q=Function.prototype.toString;function Z(e){if(null!=e){try{return Q.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var J=/^\[object .+?Constructor\]$/,ee=Object.prototype,et=Function.prototype.toString,er=ee.hasOwnProperty,en=RegExp("^"+et.call(er).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ei(e,t){var r=null==e?void 0:e[t];return j(r)&&(!q||!(q in r))&&(Y(r)?en:J).test(Z(r))?r:void 0}var eo=ei(R,"WeakMap"),es=Object.create,ea=function(){function e(){}return function(t){if(!j(t))return{};if(es)return es(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function ec(){}var el=Date.now,eu=function(){try{var e=ei(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),eh=(t=eu?function(e,t){return eu(e,"toString",{configurable:!0,enumerable:!1,value:function(){return t},writable:!0})}:V,r=0,n=0,function(){var e=el(),i=16-(e-n);if(n=e,i>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)});function ed(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function ef(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return -1}function ep(e){return e!=e}function eT(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return -1}(e,t,r):ef(e,ep,r)}function em(e,t){return!!(null==e?0:e.length)&&eT(e,t,0)>-1}var eE=/^(?:0|[1-9]\d*)$/;function eg(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&eE.test(e))&&e>-1&&e%1==0&&e<t}function eA(e,t,r){"__proto__"==t&&eu?eu(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function ey(e,t){return e===t||e!=e&&t!=t}var eR=Object.prototype.hasOwnProperty;function ev(e,t,r){var n=e[t];eR.call(e,t)&&ey(n,r)&&(void 0!==r||t in e)||eA(e,t,r)}function eI(e,t,r,n){var i=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var a=t[o],c=n?n(r[a],e[a],a,r,e):void 0;void 0===c&&(c=e[a]),i?eA(r,a,c):ev(r,a,c)}return r}var e_=Math.max;function eO(e,t){var r;return eh((r=e_(void 0===(r=t)?e.length-1:r,0),function(){for(var t=arguments,n=-1,i=e_(t.length-r,0),o=Array(i);++n<i;)o[n]=t[r+n];n=-1;for(var s=Array(r+1);++n<r;)s[n]=t[n];return s[r]=V(o),function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,s)}),e+"")}function eN(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function eS(e){return null!=e&&eN(e.length)&&!Y(e)}function ek(e,t,r){if(!j(r))return!1;var n=typeof t;return("number"==n?!!(eS(r)&&eg(t,r.length)):"string"==n&&t in r)&&ey(r[t],e)}var eL=Object.prototype;function ex(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||eL)}function eb(e){return x(e)&&"[object Arguments]"==L(e)}var eC=Object.prototype,eP=eC.hasOwnProperty,eM=eC.propertyIsEnumerable,ew=eb(function(){return arguments}())?eb:function(e){return x(e)&&eP.call(e,"callee")&&!eM.call(e,"callee")},eU="object"==typeof exports&&exports&&!exports.nodeType&&exports,eF=eU&&"object"==typeof module&&module&&!module.nodeType&&module,eD=eF&&eF.exports===eU?R.Buffer:void 0;let ej=(eD?eD.isBuffer:void 0)||function(){return!1};var e$={};function eB(e){return function(t){return e(t)}}e$["[object Float32Array]"]=e$["[object Float64Array]"]=e$["[object Int8Array]"]=e$["[object Int16Array]"]=e$["[object Int32Array]"]=e$["[object Uint8Array]"]=e$["[object Uint8ClampedArray]"]=e$["[object Uint16Array]"]=e$["[object Uint32Array]"]=!0,e$["[object Arguments]"]=e$["[object Array]"]=e$["[object ArrayBuffer]"]=e$["[object Boolean]"]=e$["[object DataView]"]=e$["[object Date]"]=e$["[object Error]"]=e$["[object Function]"]=e$["[object Map]"]=e$["[object Number]"]=e$["[object Object]"]=e$["[object RegExp]"]=e$["[object Set]"]=e$["[object String]"]=e$["[object WeakMap]"]=!1;var eG="object"==typeof exports&&exports&&!exports.nodeType&&exports,eK=eG&&"object"==typeof module&&module&&!module.nodeType&&module,eW=eK&&eK.exports===eG&&A.process,eH=function(){try{var e=eK&&eK.require&&eK.require("util").types;if(e)return e;return eW&&eW.binding&&eW.binding("util")}catch(e){}}(),ez=eH&&eH.isTypedArray,eV=ez?eB(ez):function(e){return x(e)&&eN(e.length)&&!!e$[L(e)]},eY=Object.prototype.hasOwnProperty;function eX(e,t){var r=P(e),n=!r&&ew(e),i=!r&&!n&&ej(e),o=!r&&!n&&!i&&eV(e),s=r||n||i||o,a=s?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=a.length;for(var l in e)(t||eY.call(e,l))&&!(s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||eg(l,c)))&&a.push(l);return a}function eq(e,t){return function(r){return e(t(r))}}var eQ=eq(Object.keys,Object),eZ=Object.prototype.hasOwnProperty;function eJ(e){if(!ex(e))return eQ(e);var t=[];for(var r in Object(e))eZ.call(e,r)&&"constructor"!=r&&t.push(r);return t}function e0(e){return eS(e)?eX(e):eJ(e)}var e1=Object.prototype.hasOwnProperty,e2=(i=function(e,t){if(ex(t)||eS(t)){eI(t,e0(t),e);return}for(var r in t)e1.call(t,r)&&ev(e,r,t[r])},eO(function(e,t){var r=-1,n=t.length,o=n>1?t[n-1]:void 0,s=n>2?t[2]:void 0;for(o=i.length>3&&"function"==typeof o?(n--,o):void 0,s&&ek(t[0],t[1],s)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var a=t[r];a&&i(e,a,r,o)}return e})),e6=Object.prototype.hasOwnProperty;function e3(e){return eS(e)?eX(e,!0):function(e){if(!j(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=ex(e),r=[];for(var n in e)"constructor"==n&&(t||!e6.call(e,n))||r.push(n);return r}(e)}var e5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e9=/^\w*$/;function e8(e,t){if(P(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||b(e))||e9.test(e)||!e5.test(e)||null!=t&&e in Object(t)}var e4=ei(Object,"create"),e7=Object.prototype.hasOwnProperty,te=Object.prototype.hasOwnProperty;function tt(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function tr(e,t){for(var r=e.length;r--;)if(ey(e[r][0],t))return r;return -1}tt.prototype.clear=function(){this.__data__=e4?e4(null):{},this.size=0},tt.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},tt.prototype.get=function(e){var t=this.__data__;if(e4){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return e7.call(t,e)?t[e]:void 0},tt.prototype.has=function(e){var t=this.__data__;return e4?void 0!==t[e]:te.call(t,e)},tt.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=e4&&void 0===t?"__lodash_hash_undefined__":t,this};var tn=Array.prototype.splice;function ti(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ti.prototype.clear=function(){this.__data__=[],this.size=0},ti.prototype.delete=function(e){var t=this.__data__,r=tr(t,e);return!(r<0)&&(r==t.length-1?t.pop():tn.call(t,r,1),--this.size,!0)},ti.prototype.get=function(e){var t=this.__data__,r=tr(t,e);return r<0?void 0:t[r][1]},ti.prototype.has=function(e){return tr(this.__data__,e)>-1},ti.prototype.set=function(e,t){var r=this.__data__,n=tr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};var to=ei(R,"Map");function ts(e,t){var r,n=e.__data__;return("string"==(r=typeof t)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?n["string"==typeof t?"string":"hash"]:n.map}function ta(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function tc(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(tc.Cache||ta),r}ta.prototype.clear=function(){this.size=0,this.__data__={hash:new tt,map:new(to||ti),string:new tt}},ta.prototype.delete=function(e){var t=ts(this,e).delete(e);return this.size-=t?1:0,t},ta.prototype.get=function(e){return ts(this,e).get(e)},ta.prototype.has=function(e){return ts(this,e).has(e)},ta.prototype.set=function(e,t){var r=ts(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},tc.Cache=ta;var tl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tu=/\\(\\)?/g,th=(s=(o=tc(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(tl,function(e,r,n,i){t.push(n?i.replace(tu,"$1"):r||e)}),t},function(e){return 500===s.size&&s.clear(),e})).cache,o);function td(e,t){return P(e)?e:e8(e,t)?[e]:th(null==e?"":function e(t){if("string"==typeof t)return t;if(P(t))return C(t,e)+"";if(b(t))return U?U.call(t):"";var r=t+"";return"0"==r&&1/t==-M?"-0":r}(e))}var tf=1/0;function tp(e){if("string"==typeof e||b(e))return e;var t=e+"";return"0"==t&&1/e==-tf?"-0":t}function tT(e,t){t=td(t,e);for(var r=0,n=t.length;null!=e&&r<n;)e=e[tp(t[r++])];return r&&r==n?e:void 0}function tm(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var tE=v?v.isConcatSpreadable:void 0;function tg(e){return P(e)||ew(e)||!!(tE&&e&&e[tE])}function tA(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=tg),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?tA(a,t-1,r,n,i):tm(i,a):n||(i[i.length]=a)}return i}function ty(e){return(null==e?0:e.length)?tA(e,1):[]}var tR=eq(Object.getPrototypeOf,Object);function tv(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}function tI(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function t_(e){var t=this.__data__=new ti(e);this.size=t.size}t_.prototype.clear=function(){this.__data__=new ti,this.size=0},t_.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},t_.prototype.get=function(e){return this.__data__.get(e)},t_.prototype.has=function(e){return this.__data__.has(e)},t_.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ti){var n=r.__data__;if(!to||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ta(n)}return r.set(e,t),this.size=r.size,this};var tO="object"==typeof exports&&exports&&!exports.nodeType&&exports,tN=tO&&"object"==typeof module&&module&&!module.nodeType&&module,tS=tN&&tN.exports===tO?R.Buffer:void 0,tk=tS?tS.allocUnsafe:void 0;function tL(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}function tx(){return[]}var tb=Object.prototype.propertyIsEnumerable,tC=Object.getOwnPropertySymbols,tP=tC?function(e){return null==e?[]:tL(tC(e=Object(e)),function(t){return tb.call(e,t)})}:tx,tM=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)tm(t,tP(e)),e=tR(e);return t}:tx;function tw(e,t,r){var n=t(e);return P(e)?n:tm(n,r(e))}function tU(e){return tw(e,e0,tP)}function tF(e){return tw(e,e3,tM)}var tD=ei(R,"DataView"),tj=ei(R,"Promise"),t$=ei(R,"Set"),tB="[object Map]",tG="[object Promise]",tK="[object Set]",tW="[object WeakMap]",tH="[object DataView]",tz=Z(tD),tV=Z(to),tY=Z(tj),tX=Z(t$),tq=Z(eo),tQ=L;(tD&&tQ(new tD(new ArrayBuffer(1)))!=tH||to&&tQ(new to)!=tB||tj&&tQ(tj.resolve())!=tG||t$&&tQ(new t$)!=tK||eo&&tQ(new eo)!=tW)&&(tQ=function(e){var t=L(e),r="[object Object]"==t?e.constructor:void 0,n=r?Z(r):"";if(n)switch(n){case tz:return tH;case tV:return tB;case tY:return tG;case tX:return tK;case tq:return tW}return t});let tZ=tQ;var tJ=Object.prototype.hasOwnProperty,t0=R.Uint8Array;function t1(e){var t=new e.constructor(e.byteLength);return new t0(t).set(new t0(e)),t}var t2=/\w*$/,t6=v?v.prototype:void 0,t3=t6?t6.valueOf:void 0,t5=eH&&eH.isMap,t9=t5?eB(t5):function(e){return x(e)&&"[object Map]"==tZ(e)},t8=eH&&eH.isSet,t4=t8?eB(t8):function(e){return x(e)&&"[object Set]"==tZ(e)},t7="[object Arguments]",re="[object Function]",rt="[object Object]",rr={};function rn(e){return function e(t,r,n,i,o,s){var a,c=1&r,l=2&r,u=4&r;if(n&&(a=o?n(t,i,o,s):n(t)),void 0!==a)return a;if(!j(t))return t;var h=P(t);if(h){if(d=t.length,f=new t.constructor(d),d&&"string"==typeof t[0]&&tJ.call(t,"index")&&(f.index=t.index,f.input=t.input),a=f,!c)return function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(t,a)}else{var d,f,p,T,m,E,g=tZ(t),A=g==re||"[object GeneratorFunction]"==g;if(ej(t))return function(e,t){if(t)return e.slice();var r=e.length,n=tk?tk(r):new e.constructor(r);return e.copy(n),n}(t,c);if(g==rt||g==t7||A&&!o){if(a=l||A?{}:"function"!=typeof t.constructor||ex(t)?{}:ea(tR(t)),!c)return l?(T=(p=a)&&eI(t,e3(t),p),eI(t,tM(t),T)):(E=(m=a)&&eI(t,e0(t),m),eI(t,tP(t),E))}else{if(!rr[g])return o?t:{};a=function(e,t,r){var n,i,o,s=e.constructor;switch(t){case"[object ArrayBuffer]":return t1(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return n=r?t1(e.buffer):e.buffer,new e.constructor(n,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return i=r?t1(e.buffer):e.buffer,new e.constructor(i,e.byteOffset,e.length);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return(o=new e.constructor(e.source,t2.exec(e))).lastIndex=e.lastIndex,o;case"[object Symbol]":return t3?Object(t3.call(e)):{}}}(t,g,c)}}s||(s=new t_);var y=s.get(t);if(y)return y;s.set(t,a),t4(t)?t.forEach(function(i){a.add(e(i,r,n,i,t,s))}):t9(t)&&t.forEach(function(i,o){a.set(o,e(i,r,n,o,t,s))});var R=u?l?tF:tU:l?e3:e0,v=h?void 0:R(t);return ed(v||t,function(i,o){v&&(i=t[o=i]),ev(a,o,e(i,r,n,o,t,s))}),a}(e,4)}function ri(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i}function ro(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ta;++t<r;)this.add(e[t])}function rs(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function ra(e,t){return e.has(t)}function rc(e,t,r,n,i,o){var s=1&r,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var l=o.get(e),u=o.get(t);if(l&&u)return l==t&&u==e;var h=-1,d=!0,f=2&r?new ro:void 0;for(o.set(e,t),o.set(t,e);++h<a;){var p=e[h],T=t[h];if(n)var m=s?n(T,p,h,t,e,o):n(p,T,h,e,t,o);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!rs(t,function(e,t){if(!ra(f,t)&&(p===e||i(p,e,r,n,o)))return f.push(t)})){d=!1;break}}else if(!(p===T||i(p,T,r,n,o))){d=!1;break}}return o.delete(e),o.delete(t),d}function rl(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function ru(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}rr[t7]=rr["[object Array]"]=rr["[object ArrayBuffer]"]=rr["[object DataView]"]=rr["[object Boolean]"]=rr["[object Date]"]=rr["[object Float32Array]"]=rr["[object Float64Array]"]=rr["[object Int8Array]"]=rr["[object Int16Array]"]=rr["[object Int32Array]"]=rr["[object Map]"]=rr["[object Number]"]=rr[rt]=rr["[object RegExp]"]=rr["[object Set]"]=rr["[object String]"]=rr["[object Symbol]"]=rr["[object Uint8Array]"]=rr["[object Uint8ClampedArray]"]=rr["[object Uint16Array]"]=rr["[object Uint32Array]"]=!0,rr["[object Error]"]=rr[re]=rr["[object WeakMap]"]=!1,ro.prototype.add=ro.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ro.prototype.has=function(e){return this.__data__.has(e)};var rh=v?v.prototype:void 0,rd=rh?rh.valueOf:void 0,rf=Object.prototype.hasOwnProperty,rp="[object Arguments]",rT="[object Array]",rm="[object Object]",rE=Object.prototype.hasOwnProperty;function rg(e,t,r,n,i){return e===t||(null!=e&&null!=t&&(x(e)||x(t))?function(e,t,r,n,i,o){var s=P(e),a=P(t),c=s?rT:tZ(e),l=a?rT:tZ(t);c=c==rp?rm:c,l=l==rp?rm:l;var u=c==rm,h=l==rm,d=c==l;if(d&&ej(e)){if(!ej(t))return!1;s=!0,u=!1}if(d&&!u)return o||(o=new t_),s||eV(e)?rc(e,t,r,n,i,o):function(e,t,r,n,i,o,s){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!o(new t0(e),new t0(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return ey(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=rl;case"[object Set]":var c=1&n;if(a||(a=ru),e.size!=t.size&&!c)break;var l=s.get(e);if(l)return l==t;n|=2,s.set(e,t);var u=rc(a(e),a(t),n,i,o,s);return s.delete(e),u;case"[object Symbol]":if(rd)return rd.call(e)==rd.call(t)}return!1}(e,t,c,r,n,i,o);if(!(1&r)){var f=u&&rE.call(e,"__wrapped__"),p=h&&rE.call(t,"__wrapped__");if(f||p){var T=f?e.value():e,m=p?t.value():t;return o||(o=new t_),i(T,m,r,n,o)}}return!!d&&(o||(o=new t_),function(e,t,r,n,i,o){var s=1&r,a=tU(e),c=a.length;if(c!=tU(t).length&&!s)return!1;for(var l=c;l--;){var u=a[l];if(!(s?u in t:rf.call(t,u)))return!1}var h=o.get(e),d=o.get(t);if(h&&d)return h==t&&d==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=s;++l<c;){var T=e[u=a[l]],m=t[u];if(n)var E=s?n(m,T,u,t,e,o):n(T,m,u,e,t,o);if(!(void 0===E?T===m||i(T,m,r,n,o):E)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var g=e.constructor,A=t.constructor;g!=A&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof A&&A instanceof A)&&(f=!1)}return o.delete(e),o.delete(t),f}(e,t,r,n,i,o))}(e,t,r,n,rg,i):e!=e&&t!=t)}function rA(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}function ry(e,t){return null!=e&&t in Object(e)}function rR(e,t,r){t=td(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var s=tp(t[n]);if(!(o=null!=e&&r(e,s)))break;e=e[s]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&eN(i)&&eg(s,i)&&(P(e)||ew(e))}function rv(e){var t,r,n,i,o;return"function"==typeof e?e:null==e?V:"object"==typeof e?P(e)?(t=e[0],r=e[1],e8(t)&&(n=r)==n&&!j(n)?rA(tp(t),r):function(e){var n,i=void 0===(n=null==e?void 0:tT(e,t))?void 0:n;return void 0===i&&i===r?null!=e&&rR(e,t,ry):rg(r,i,3)}):1==(i=function(e){for(var t=e0(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,i==i&&!j(i)]}return t}(e)).length&&i[0][2]?rA(i[0][0],i[0][1]):function(t){return t===e||function(e,t,r,n){var i=r.length,o=i;if(null==e)return!o;for(e=Object(e);i--;){var s=r[i];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var a=(s=r[i])[0],c=e[a],l=s[1];if(s[2]){if(void 0===c&&!(a in e))return!1}else{var u,h=new t_;if(!(void 0===u?rg(l,c,3,void 0,h):u))return!1}}return!0}(t,0,i)}:e8(e)?(o=tp(e),function(e){return null==e?void 0:e[o]}):function(t){return tT(t,e)}}let rI=function(e,t,r){for(var n=-1,i=Object(e),o=r(e),s=o.length;s--;){var a=o[++n];if(!1===t(i[a],a,i))break}return e};var r_=(a=function(e,t){return e&&rI(e,t,e0)},function(e,t){if(null==e)return e;if(!eS(e))return a(e,t);for(var r=e.length,n=-1,i=Object(e);(c?n--:++n<r)&&!1!==t(i[n],n,i););return e}),rO=Object.prototype,rN=rO.hasOwnProperty,rS=eO(function(e,t){e=Object(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&ek(t[0],t[1],i)&&(n=1);++r<n;)for(var o=t[r],s=e3(o),a=-1,c=s.length;++a<c;){var l=s[a],u=e[l];(void 0===u||ey(u,rO[l])&&!rN.call(e,l))&&(e[l]=o[l])}return e});function rk(e){return x(e)&&eS(e)}var rL=eO(function(e,t){return rk(e)?function(e,t,r,n){var i=-1,o=em,s=!0,a=e.length,c=[],l=t.length;if(!a)return c;t.length>=200&&(o=ra,s=!1,t=new ro(t));e:for(;++i<a;){var u=e[i],h=u;if(u=0!==u?u:0,s&&h==h){for(var d=l;d--;)if(t[d]===h)continue e;c.push(u)}else o(t,h,void 0)||c.push(u)}return c}(e,tA(t,1,rk,!0)):[]});function rx(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function rb(e,t,r){var n=null==e?0:e.length;return n?tv(e,(t=r||void 0===t?1:z(t))<0?0:t,n):[]}function rC(e,t,r){var n=null==e?0:e.length;return n?tv(e,0,(t=n-(t=r||void 0===t?1:z(t)))<0?0:t):[]}function rP(e,t){return(P(e)?ed:r_)(e,"function"==typeof t?t:V)}function rM(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function rw(e,t){var r=!0;return r_(e,function(e,n,i){return r=!!t(e,n,i)}),r}function rU(e,t,r){var n=P(e)?rM:rw;return r&&ek(e,t,r)&&(t=void 0),n(e,rv(t))}function rF(e,t){var r=[];return r_(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r}function rD(e,t){return(P(e)?tL:rF)(e,rv(t))}var rj=Math.max,r$=(l=function(e,t,r){var n=null==e?0:e.length;if(!n)return -1;var i=null==r?0:z(r);return i<0&&(i=rj(n+i,0)),ef(e,rv(t),i)},function(e,t,r){var n=Object(e);if(!eS(e)){var i=rv(t);e=e0(e),t=function(e){return i(n[e],e,n)}}var o=l(e,t,r);return o>-1?n[i?e[o]:o]:void 0});function rB(e){return e&&e.length?e[0]:void 0}function rG(e,t){return(P(e)?C:function(e,t){var r=-1,n=eS(e)?Array(e.length):[];return r_(e,function(e,i,o){n[++r]=t(e,i,o)}),n})(e,rv(t))}function rK(e,t){return tA(rG(e,t),1)}var rW=Object.prototype.hasOwnProperty,rH=(u=function(e,t,r){rW.call(e,r)?e[r].push(t):eA(e,r,[t])},function(e,t){return(P(e)?function(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(n,s,r(s),e)}return n}:function(e,t,r,n){return r_(e,function(e,i,o){t(n,e,r(e),o)}),n})(e,u,rv(t),{})}),rz=Object.prototype.hasOwnProperty;function rV(e,t){return null!=e&&rz.call(e,t)}function rY(e,t){return null!=e&&rR(e,t,rV)}function rX(e){return"string"==typeof e||!P(e)&&x(e)&&"[object String]"==L(e)}function rq(e){return null==e?[]:C(e0(e),function(t){return e[t]})}var rQ=Math.max;function rZ(e,t,r,n){e=eS(e)?e:rq(e),r=r&&!n?z(r):0;var i=e.length;return r<0&&(r=rQ(i+r,0)),rX(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&eT(e,t,r)>-1}var rJ=Math.max;function r0(e,t,r){var n=null==e?0:e.length;if(!n)return -1;var i=null==r?0:z(r);return i<0&&(i=rJ(n+i,0)),eT(e,t,i)}var r1=Object.prototype.hasOwnProperty;function r2(e){if(null==e)return!0;if(eS(e)&&(P(e)||"string"==typeof e||"function"==typeof e.splice||ej(e)||eV(e)||ew(e)))return!e.length;var t=tZ(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(ex(e))return!eJ(e).length;for(var r in e)if(r1.call(e,r))return!1;return!0}var r6=eH&&eH.isRegExp,r3=r6?eB(r6):function(e){return x(e)&&"[object RegExp]"==L(e)};function r5(e){return void 0===e}function r9(e,t){if(null==e)return{};var r=C(tF(e),function(e){return[e]});return t=rv(t),function(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var s=t[n],a=tT(e,s);r(a,s)&&function(e,t,r,n){if(j(e)){t=td(t,e);for(var i=-1,o=t.length,s=o-1,a=e;null!=a&&++i<o;){var c=tp(t[i]),l=r;if("__proto__"===c||"constructor"===c||"prototype"===c)break;if(i!=s){var u=a[c];l=void 0,l=j(u)?u:eg(t[i+1])?[]:{}}ev(a,c,l),a=a[c]}}}(o,td(s,e),a)}return o}(e,r,function(e,r){return t(e,r[0])})}function r8(e,t,r,n,i){return i(e,function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)}),r}function r4(e,t,r){var n=P(e)?tI:r8,i=arguments.length<3;return n(e,rv(t),r,i,r_)}function r7(e,t){return(P(e)?tL:rF)(e,function(e){if("function"!=typeof e)throw TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}(rv(t)))}function ne(e,t){var r;return r_(e,function(e,n,i){return!(r=t(e,n,i))}),!!r}function nt(e,t,r){var n=P(e)?rs:ne;return r&&ek(e,t,r)&&(t=void 0),n(e,rv(t))}var nr=t$&&1/ru(new t$([,-0]))[1]==1/0?function(e){return new t$(e)}:ec;function nn(e){return e&&e.length?function(e,t,r){var n=-1,i=em,o=e.length,s=!0,a=[],c=a;if(o>=200){var l=nr(e);if(l)return ru(l);s=!1,i=ra,c=new ro}else c=a;e:for(;++n<o;){var u=e[n],h=u;if(u=0!==u?u:0,s&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue e;t&&c.push(h),a.push(u)}else i(c,h,void 0)||(c!==a&&c.push(h),a.push(u))}return a}(e):[]}function ni(e){console&&console.error&&console.error(`Error: ${e}`)}function no(e){console&&console.warn&&console.warn(`Warning: ${e}`)}function ns(e){let t=new Date().getTime(),r=e();return{time:new Date().getTime()-t,value:r}}function na(e){function t(){}t.prototype=e;let r=new t;function n(){return typeof r.bar}return n(),n(),e}class nc{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),rP(this.definition,t=>{t.accept(e)})}}class nl extends nc{constructor(e){super([]),this.idx=1,e2(this,r9(e,e=>void 0!==e))}set definition(e){}get definition(){return void 0!==this.referencedRule?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class nu extends nc{constructor(e){super(e.definition),this.orgText="",e2(this,r9(e,e=>void 0!==e))}}class nh extends nc{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,e2(this,r9(e,e=>void 0!==e))}}class nd extends nc{constructor(e){super(e.definition),this.idx=1,e2(this,r9(e,e=>void 0!==e))}}class nf extends nc{constructor(e){super(e.definition),this.idx=1,e2(this,r9(e,e=>void 0!==e))}}class np extends nc{constructor(e){super(e.definition),this.idx=1,e2(this,r9(e,e=>void 0!==e))}}class nT extends nc{constructor(e){super(e.definition),this.idx=1,e2(this,r9(e,e=>void 0!==e))}}class nm extends nc{constructor(e){super(e.definition),this.idx=1,e2(this,r9(e,e=>void 0!==e))}}class nE extends nc{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,e2(this,r9(e,e=>void 0!==e))}}class ng{constructor(e){this.idx=1,e2(this,r9(e,e=>void 0!==e))}accept(e){e.visit(this)}}class nA{visit(e){switch(e.constructor){case nl:return this.visitNonTerminal(e);case nh:return this.visitAlternative(e);case nd:return this.visitOption(e);case nf:return this.visitRepetitionMandatory(e);case np:return this.visitRepetitionMandatoryWithSeparator(e);case nm:return this.visitRepetitionWithSeparator(e);case nT:return this.visitRepetition(e);case nE:return this.visitAlternation(e);case ng:return this.visitTerminal(e);case nu:return this.visitRule(e);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function ny(e,t=[]){return e instanceof nd||e instanceof nT||e instanceof nm||(e instanceof nE?nt(e.definition,e=>ny(e,t)):!(e instanceof nl&&rZ(t,e))&&e instanceof nc&&(e instanceof nl&&t.push(e),rU(e.definition,e=>ny(e,t))))}function nR(e){if(e instanceof nl)return"SUBRULE";if(e instanceof nd)return"OPTION";if(e instanceof nE)return"OR";if(e instanceof nf)return"AT_LEAST_ONE";if(e instanceof np)return"AT_LEAST_ONE_SEP";if(e instanceof nm)return"MANY_SEP";if(e instanceof nT)return"MANY";else if(e instanceof ng)return"CONSUME";else throw Error("non exhaustive match")}class nv{walk(e,t=[]){rP(e.definition,(r,n)=>{let i=rb(e.definition,n+1);if(r instanceof nl)this.walkProdRef(r,i,t);else if(r instanceof ng)this.walkTerminal(r,i,t);else if(r instanceof nh)this.walkFlat(r,i,t);else if(r instanceof nd)this.walkOption(r,i,t);else if(r instanceof nf)this.walkAtLeastOne(r,i,t);else if(r instanceof np)this.walkAtLeastOneSep(r,i,t);else if(r instanceof nm)this.walkManySep(r,i,t);else if(r instanceof nT)this.walkMany(r,i,t);else if(r instanceof nE)this.walkOr(r,i,t);else throw Error("non exhaustive match")})}walkTerminal(e,t,r){}walkProdRef(e,t,r){}walkFlat(e,t,r){let n=t.concat(r);this.walk(e,n)}walkOption(e,t,r){let n=t.concat(r);this.walk(e,n)}walkAtLeastOne(e,t,r){let n=[new nd({definition:e.definition})].concat(t,r);this.walk(e,n)}walkAtLeastOneSep(e,t,r){let n=nI(e,t,r);this.walk(e,n)}walkMany(e,t,r){let n=[new nd({definition:e.definition})].concat(t,r);this.walk(e,n)}walkManySep(e,t,r){let n=nI(e,t,r);this.walk(e,n)}walkOr(e,t,r){let n=t.concat(r);rP(e.definition,e=>{let t=new nh({definition:[e]});this.walk(t,n)})}}function nI(e,t,r){return[new nd({definition:[new ng({terminalType:e.separator})].concat(e.definition)})].concat(t,r)}function n_(e){if(e instanceof nl)return n_(e.referencedRule);if(e instanceof ng)return[e.terminalType];if(e instanceof nh||e instanceof nd||e instanceof nT||e instanceof nf||e instanceof np||e instanceof nm||e instanceof ng||e instanceof nu)return function(e){let t,r=[],n=e.definition,i=0,o=n.length>i,s=!0;for(;o&&s;)s=ny(t=n[i]),r=r.concat(n_(t)),i+=1,o=n.length>i;return nn(r)}(e);if(e instanceof nE)return nn(ty(rG(e.definition,e=>n_(e))));throw Error("non exhaustive match")}let nO="_~IN~_";class nN extends nv{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,t,r){}walkProdRef(e,t,r){var n,i;let o=(n=e.referencedRule,i=e.idx,n.name+i+nO+this.topProd.name),s=n_(new nh({definition:t.concat(r)}));this.follows[o]=s}}function nS(e){return e.charCodeAt(0)}function nk(e,t){Array.isArray(e)?e.forEach(function(e){t.push(e)}):t.push(e)}function nL(e,t){if(!0===e[t])throw"duplicate flag "+t;e[t],e[t]=!0}function nx(e){if(void 0===e)throw Error("Internal Error - Should never get here!");return!0}function nb(e){return"Character"===e.type}let nC=[];for(let e=nS("0");e<=nS("9");e++)nC.push(e);let nP=[nS("_")].concat(nC);for(let e=nS("a");e<=nS("z");e++)nP.push(e);for(let e=nS("A");e<=nS("Z");e++)nP.push(e);let nM=[nS(" "),nS("\f"),nS("\n"),nS("\r"),nS("	"),nS("\v"),nS("	"),nS("\xa0"),nS(" "),nS(" "),nS(" "),nS(" "),nS(" "),nS(" "),nS(" "),nS(" "),nS(" "),nS(" "),nS(" "),nS(" "),nS("\u2028"),nS("\u2029"),nS(" "),nS(" "),nS("　"),nS("\uFEFF")],nw=/[0-9a-fA-F]/,nU=/[0-9]/,nF=/[1-9]/;class nD{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");let t=this.disjunction();this.consumeChar("/");let r={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":nL(r,"global");break;case"i":nL(r,"ignoreCase");break;case"m":nL(r,"multiLine");break;case"u":nL(r,"unicode");break;case"y":nL(r,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:r,value:t,loc:this.loc(0)}}disjunction(){let e=[],t=this.idx;for(e.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}}alternative(){let e=[],t=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){let e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":let t;switch(this.consumeChar("?"),this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead"}nx(t);let r=this.disjunction();return this.consumeChar(")"),{type:t,value:r,loc:this.loc(e)}}return function(){throw Error("Internal Error - Should never get here!")}()}quantifier(e=!1){let t;let r=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":let n=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:n,atMost:n};break;case",":t=this.isDigit()?{atLeast:n,atMost:this.integerIncludingZero()}:{atLeast:n,atMost:1/0},this.consumeChar("}")}if(!0===e&&void 0===t)return;nx(t)}if((!0!==e||void 0!==t)&&nx(t))return"?"===this.peekChar(0)?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(r),t}atom(){let e;let t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group()}if(void 0===e&&this.isPatternCharacter()&&(e=this.patternCharacter()),nx(e))return e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[nS("\n"),nS("\r"),nS("\u2028"),nS("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e;let t=!1;switch(this.popChar()){case"d":e=nC;break;case"D":e=nC,t=!0;break;case"s":e=nM;break;case"S":e=nM,t=!0;break;case"w":e=nP;break;case"W":e=nP,t=!0}if(nx(e))return{type:"Set",value:e,complement:t}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=nS("\f");break;case"n":e=nS("\n");break;case"r":e=nS("\r");break;case"t":e=nS("	");break;case"v":e=nS("\v")}if(nx(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");let e=this.popChar();if(!1===/[a-zA-Z]/.test(e))throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:nS("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){return{type:"Character",value:nS(this.popChar())}}classPatternCharacterAtom(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:nS(this.popChar())}}}characterClass(){let e=[],t=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),t=!0);this.isClassAtom();){let t=this.classAtom();if(t.type,nb(t)&&this.isRangeDash()){this.consumeChar("-");let r=this.classAtom();if(r.type,nb(r)){if(r.value<t.value)throw Error("Range out of order in character class");e.push({from:t.value,to:r.value})}else nk(t.value,e),e.push(nS("-")),nk(r.value,e)}else nk(t.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}}classAtom(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:nS("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;(this.consumeChar("("),"?"===this.peekChar(0))?(this.consumeChar("?"),this.consumeChar(":"),e=!1):this.groupIdx++;let t=this.disjunction();this.consumeChar(")");let r={type:"Group",capturing:e,value:t};return e&&(r.idx=this.groupIdx),r}positiveInteger(){let e=this.popChar();if(!1===nF.test(e))throw Error("Expecting a positive integer");for(;nU.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(!1===nU.test(e))throw Error("Expecting an integer");for(;nU.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){let e=this.popChar();switch(e){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:nS(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return"-"===this.peekChar()&&this.isClassAtom(1)}isDigit(){return nU.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}}isQuantifier(){let e=this.saveState();try{return void 0!==this.quantifier(!0)}catch(e){return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let t="";for(let r=0;r<e;r++){let e=this.popChar();if(!1===nw.test(e))throw Error("Expecting a HexDecimal digits");t+=e}return{type:"Character",value:parseInt(t,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){let e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(void 0!==e&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class nj{visitChildren(e){for(let t in e){let r=e[t];e.hasOwnProperty(t)&&(void 0!==r.type?this.visit(r):Array.isArray(r)&&r.forEach(e=>{this.visit(e)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e)}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}let n$={},nB=new nD;function nG(e){let t=e.toString();if(n$.hasOwnProperty(t))return n$[t];{let e=nB.pattern(t);return n$[t]=e,e}}let nK="Complement Sets are not supported for first char optimization",nW='Unable to use "first char" lexer optimizations:\n';function nH(e,t,r){let n=ie(e);t[n]=n,!0===r&&function(e,t){let r=String.fromCharCode(e),n=r.toUpperCase();if(n!==r){let e=ie(n.charCodeAt(0));t[e]=e}else{let e=r.toLowerCase();if(e!==r){let r=ie(e.charCodeAt(0));t[r]=r}}}(e,t)}function nz(e,t){return r$(e.value,e=>"number"==typeof e?rZ(t,e):void 0!==r$(t,t=>e.from<=t&&t<=e.to))}class nV extends nj{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(!0!==this.found){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){rZ(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?void 0===nz(e,this.targetCharCodes)&&(this.found=!0):void 0!==nz(e,this.targetCharCodes)&&(this.found=!0)}}function nY(e,t){if(!(t instanceof RegExp))return void 0!==r$(t,t=>rZ(e,t.charCodeAt(0)));{let r=nG(t),n=new nV(e);return n.visit(r),n.found}}let nX="PATTERN",nq="defaultMode",nQ="modes",nZ="boolean"==typeof RegExp("(?:)").sticky,nJ=/[^\\][$]/,n0=/[^\\[][\^]|^\^/;function n1(e){let t=e.ignoreCase?"i":"";return RegExp(`^(?:${e.source})`,t)}function n2(e){let t=e.ignoreCase?"iy":"y";return RegExp(`${e.source}`,t)}function n6(e){let t=e.PATTERN;if(r3(t))return!1;if(Y(t)||rY(t,"exec"))return!0;if(rX(t))return!1;throw Error("non exhaustive match")}function n3(e){return!!rX(e)&&1===e.length&&e.charCodeAt(0)}let n5={test:function(e){let t=e.length;for(let r=this.lastIndex;r<t;r++){let t=e.charCodeAt(r);if(10===t)return this.lastIndex=r+1,!0;if(13===t)return 10===e.charCodeAt(r+1)?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},lastIndex:0};function n9(e,t){if(rY(e,"LINE_BREAKS"))return!1;if(r3(e.PATTERN)){try{nY(t,e.PATTERN)}catch(e){return{issue:T.IDENTIFY_TERMINATOR,errMsg:e.message}}return!1}if(rX(e.PATTERN))return!1;if(n6(e))return{issue:T.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function n8(e){return rG(e,e=>rX(e)?e.charCodeAt(0):e)}function n4(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}let n7=[];function ie(e){return e<256?e:n7[e]}function it(e,t){let r=e.tokenTypeIdx;return r===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[r]}function ir(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}let ii=1,io={};function is(e){let t=function(e){let t=rn(e),r=e,n=!0;for(;n;){let e=rL(r=ri(ty(rG(r,e=>e.CATEGORIES))),t);t=t.concat(e),r2(e)?n=!1:r=e}return t}(e);rP(t,e=>{ia(e)||(io[ii]=e,e.tokenTypeIdx=ii++),ic(e)&&!P(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),ic(e)||(e.CATEGORIES=[]),rY(e,"categoryMatches")||(e.categoryMatches=[]),rY(e,"categoryMatchesMap")||(e.categoryMatchesMap={})}),rP(t,e=>{(function e(t,r){rP(t,e=>{r.categoryMatchesMap[e.tokenTypeIdx]=!0}),rP(r.CATEGORIES,n=>{let i=t.concat(r);rZ(i,n)||e(i,n)})})([],e)}),rP(t,e=>{e.categoryMatches=[],rP(e.categoryMatchesMap,(t,r)=>{e.categoryMatches.push(io[r].tokenTypeIdx)})}),rP(t,e=>{e.isParent=e.categoryMatches.length>0})}function ia(e){return rY(e,"tokenTypeIdx")}function ic(e){return rY(e,"CATEGORIES")}function il(e){return rY(e,"tokenTypeIdx")}(h=T||(T={}))[h.MISSING_PATTERN=0]="MISSING_PATTERN",h[h.INVALID_PATTERN=1]="INVALID_PATTERN",h[h.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",h[h.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",h[h.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",h[h.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",h[h.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",h[h.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",h[h.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",h[h.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",h[h.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",h[h.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",h[h.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",h[h.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",h[h.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",h[h.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",h[h.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",h[h.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE";let iu={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:{buildUnableToPopLexerModeMessage:e=>`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`,buildUnexpectedCharactersMessage:(e,t,r,n,i)=>`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${r} characters.`},traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(iu);class ih{constructor(e,t=iu){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(e,t)=>{if(!0!==this.traceInitPerf)return t();{this.traceInitIndent++;let r=Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--> <${e}>`);let{time:n,value:i}=ns(t),o=n>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o(`${r}<-- <${e}> time: ${n}ms`),this.traceInitIndent--,i}},"boolean"==typeof t)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=e2({},iu,t);let r=this.config.traceInitPerf;!0===r?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof r&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let r;let n=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===iu.lineTerminatorsPattern)this.config.lineTerminatorsPattern=n5;else if(this.config.lineTerminatorCharacters===iu.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),P(e)?r={modes:{defaultMode:rn(e)},defaultMode:nq}:(n=!1,r=rn(e))}),!1===this.config.skipValidations&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function(e,t,r){let n=[];return rY(e,nq)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+nq+"> property in its definition\n",type:T.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),rY(e,nQ)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+nQ+"> property in its definition\n",type:T.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),rY(e,nQ)&&rY(e,nq)&&!rY(e.modes,e.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${nq}: <${e.defaultMode}>which does not exist
`,type:T.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),rY(e,nQ)&&rP(e.modes,(e,t)=>{rP(e,(r,i)=>{r5(r)?n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${t}> at index: <${i}>
`,type:T.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED}):rY(r,"LONGER_ALT")&&rP(P(r.LONGER_ALT)?r.LONGER_ALT:[r.LONGER_ALT],i=>{r5(i)||rZ(e,i)||n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${i.name}> on token <${r.name}> outside of mode <${t}>
`,type:T.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})})}),n}(r,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(function(e,t,r){let n=[],i=!1,o=r7(ri(ty(rq(e.modes))),e=>e[nX]===ih.NA),s=n8(r);return t&&rP(o,e=>{let t=n9(e,s);if(!1!==t){let r={message:function(e,t){if(t.issue===T.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${e.name}> Token Type
	 Root cause: ${t.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===T.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${e.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}(e,t),type:t.issue,tokenType:e};n.push(r)}else rY(e,"LINE_BREAKS")?!0===e.LINE_BREAKS&&(i=!0):nY(s,e.PATTERN)&&(i=!0)}),t&&!i&&n.push({message:"Warning: No LINE_BREAKS Found.\n	This Lexer has been defined to track line and column information,\n	But none of the Token Types can be identified as matching a line terminator.\n	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n	for details.",type:T.NO_LINE_BREAKS_FLAGS}),n}(r,this.trackStartLines,this.config.lineTerminatorCharacters))})),r.modes=r.modes?r.modes:{},rP(r.modes,(e,t)=>{r.modes[t]=r7(e,e=>r5(e))});let i=e0(r.modes);if(rP(r.modes,(e,r)=>{this.TRACE_INIT(`Mode: <${r}> processing`,()=>{if(this.modes.push(r),!1===this.config.skipValidations&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function(e,t){let r=[],n=function(e){let t=rD(e,e=>!rY(e,nX));return{errors:rG(t,e=>({message:"Token Type: ->"+e.name+"<- missing static 'PATTERN' property",type:T.MISSING_PATTERN,tokenTypes:[e]})),valid:rL(e,t)}}(e);r=r.concat(n.errors);let i=function(e){let t=rD(e,e=>{let t=e[nX];return!r3(t)&&!Y(t)&&!rY(t,"exec")&&!rX(t)});return{errors:rG(t,e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:T.INVALID_PATTERN,tokenTypes:[e]})),valid:rL(e,t)}}(n.valid),o=i.valid;return(r=(r=(r=(r=r.concat(i.errors)).concat(function(e){let t=[],r=rD(e,e=>r3(e[nX]));return(t=(t=(t=(t=t.concat(function(e){class t extends nj{constructor(){super(...arguments),this.found=!1}visitEndAnchor(e){this.found=!0}}return rG(rD(e,e=>{let r=e.PATTERN;try{let e=nG(r),n=new t;return n.visit(e),n.found}catch(e){return nJ.test(r.source)}}),e=>({message:"Unexpected RegExp Anchor Error:\n	Token Type: ->"+e.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.",type:T.EOI_ANCHOR_FOUND,tokenTypes:[e]}))}(r))).concat(function(e){class t extends nj{constructor(){super(...arguments),this.found=!1}visitStartAnchor(e){this.found=!0}}return rG(rD(e,e=>{let r=e.PATTERN;try{let e=nG(r),n=new t;return n.visit(e),n.found}catch(e){return n0.test(r.source)}}),e=>({message:"Unexpected RegExp Anchor Error:\n	Token Type: ->"+e.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.",type:T.SOI_ANCHOR_FOUND,tokenTypes:[e]}))}(r))).concat(rG(rD(r,e=>{let t=e[nX];return t instanceof RegExp&&(t.multiline||t.global)}),e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:T.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[e]})))).concat(function(e){let t=[],r=rG(e,r=>r4(e,(e,n)=>(r.PATTERN.source!==n.PATTERN.source||rZ(t,n)||n.PATTERN===ih.NA||(t.push(n),e.push(n)),e),[]));return rG(rD(r=ri(r),e=>e.length>1),e=>{let t=rG(e,e=>e.name),r=rB(e).PATTERN;return{message:`The same RegExp pattern ->${r}<-has been used in all of the following Token Types: ${t.join(", ")} <-`,type:T.DUPLICATE_PATTERNS_FOUND,tokenTypes:e}})}(r))).concat(rG(rD(r,e=>e.PATTERN.test("")),e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' must not match an empty string",type:T.EMPTY_MATCH_PATTERN,tokenTypes:[e]})))}(o))).concat(rG(rD(o,e=>{if(!rY(e,"GROUP"))return!1;let t=e.GROUP;return t!==ih.SKIPPED&&t!==ih.NA&&!rX(t)}),e=>({message:"Token Type: ->"+e.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:T.INVALID_GROUP_TYPE_FOUND,tokenTypes:[e]})))).concat(rG(rD(o,e=>void 0!==e.PUSH_MODE&&!rZ(t,e.PUSH_MODE)),e=>({message:`Token Type: ->${e.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${e.PUSH_MODE}<-which does not exist`,type:T.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[e]})))).concat(function(e){let t=[],r=r4(e,(e,t,r)=>{let n=t.PATTERN;return n===ih.NA||(rX(n)?e.push({str:n,idx:r,tokenType:t}):r3(n)&&void 0===r$([".","\\","[","]","|","^","$","(",")","?","*","+","{"],e=>-1!==n.source.indexOf(e))&&e.push({str:n.source,idx:r,tokenType:t})),e},[]);return rP(e,(e,n)=>{rP(r,({str:r,idx:i,tokenType:o})=>{if(n<i&&function(e,t){if(r3(t)){let r=t.exec(e);return null!==r&&0===r.index}if(Y(t))return t(e,0,[],{});if(rY(t,"exec"))return t.exec(e,0,[],{});if("string"==typeof t)return t===e;throw Error("non exhaustive match")}(r,e.PATTERN)){let r=`Token: ->${o.name}<- can never be matched.
Because it appears AFTER the Token Type ->${e.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:r,type:T.UNREACHABLE_PATTERN,tokenTypes:[e,o]})}})}),t}(o))}(e,i))}),r2(this.lexerDefinitionErrors)){let n;is(e),this.TRACE_INIT("analyzeTokenTypes",()=>{n=function(e,t){let r,n,i,o,s,a,c,l,u,h,d,f;let p=(t=rS(t,{useSticky:nZ,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:(e,t)=>t()})).tracer;p("initCharCodeToOptimizedIndexMap",()=>{(function(){if(r2(n7)){n7=Array(65536);for(let e=0;e<65536;e++)n7[e]=e>255?255+~~(e/255):e}})()}),p("Reject Lexer.NA",()=>{r=r7(e,e=>e[nX]===ih.NA)});let T=!1;p("Transform Patterns",()=>{T=!1,n=rG(r,e=>{let r=e[nX];if(r3(r)){let e=r.source;return 1!==e.length||"^"===e||"$"===e||"."===e||r.ignoreCase?2!==e.length||"\\"!==e[0]||rZ(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],e[1])?t.useSticky?n2(r):n1(r):e[1]:e}if(Y(r))return T=!0,{exec:r};if("object"==typeof r)return T=!0,r;if("string"==typeof r){if(1===r.length)return r;{let e=new RegExp(r.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"));return t.useSticky?n2(e):n1(e)}}throw Error("non exhaustive match")})}),p("misc mapping",()=>{i=rG(r,e=>e.tokenTypeIdx),o=rG(r,e=>{let t=e.GROUP;if(t!==ih.SKIPPED){if(rX(t))return t;if(r5(t))return!1;throw Error("non exhaustive match")}}),s=rG(r,e=>{let t=e.LONGER_ALT;if(t)return P(t)?rG(t,e=>r0(r,e)):[r0(r,t)]}),a=rG(r,e=>e.PUSH_MODE),c=rG(r,e=>rY(e,"POP_MODE"))}),p("Line Terminator Handling",()=>{let e=n8(t.lineTerminatorCharacters);l=rG(r,e=>!1),"onlyOffset"!==t.positionTracking&&(l=rG(r,t=>rY(t,"LINE_BREAKS")?!!t.LINE_BREAKS:!1===n9(t,e)&&nY(e,t.PATTERN)))}),p("Misc Mapping #2",()=>{u=rG(r,n6),h=rG(n,n3),d=r4(r,(e,t)=>{let r=t.GROUP;return rX(r)&&r!==ih.SKIPPED&&(e[r]=[]),e},{}),f=rG(n,(e,t)=>({pattern:n[t],longerAlt:s[t],canLineTerminator:l[t],isCustom:u[t],short:h[t],group:o[t],push:a[t],pop:c[t],tokenTypeIdx:i[t],tokenType:r[t]}))});let m=!0,E=[];return t.safeMode||p("First Char Optimization",()=>{E=r4(r,(e,r,n)=>{if("string"==typeof r.PATTERN)n4(e,ie(r.PATTERN.charCodeAt(0)),f[n]);else if(P(r.START_CHARS_HINT)){let t;rP(r.START_CHARS_HINT,r=>{let i=ie("string"==typeof r?r.charCodeAt(0):r);t!==i&&(t=i,n4(e,i,f[n]))})}else if(r3(r.PATTERN)){if(r.PATTERN.unicode)m=!1,t.ensureOptimizations&&ni(`${nW}	Unable to analyze < ${r.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{let i=function(e,t=!1){try{let t=nG(e);return function e(t,r,n){switch(t.type){case"Disjunction":for(let i=0;i<t.value.length;i++)e(t.value[i],r,n);break;case"Alternative":let i=t.value;for(let t=0;t<i.length;t++){let o=i[t];switch(o.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}switch(o.type){case"Character":nH(o.value,r,n);break;case"Set":if(!0===o.complement)throw Error(nK);rP(o.value,e=>{if("number"==typeof e)nH(e,r,n);else if(!0===n)for(let t=e.from;t<=e.to;t++)nH(t,r,n);else{for(let t=e.from;t<=e.to&&t<256;t++)nH(t,r,n);if(e.to>=256){let t=e.from>=256?e.from:256,n=e.to,i=ie(t),o=ie(n);for(let e=i;e<=o;e++)r[e]=e}}});break;case"Group":e(o.value,r,n);break;default:throw Error("Non Exhaustive Match")}let s=void 0!==o.quantifier&&0===o.quantifier.atLeast;if("Group"===o.type&&!1===function e(t){let r=t.quantifier;return!!r&&0===r.atLeast||!!t.value&&(P(t.value)?rU(t.value,e):e(t.value))}(o)||"Group"!==o.type&&!1===s)break}break;default:throw Error("non exhaustive match!")}return rq(r)}(t.value,{},t.flags.ignoreCase)}catch(r){if(r.message===nK)t&&no(`${nW}	Unable to optimize: < ${e.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let r="";t&&(r="\n	This will disable the lexer's first char optimizations.\n	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),ni(`${nW}
	Failed parsing: < ${e.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+r)}}return[]}(r.PATTERN,t.ensureOptimizations);r2(i)&&(m=!1),rP(i,t=>{n4(e,t,f[n])})}}else t.ensureOptimizations&&ni(`${nW}	TokenType: <${r.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),m=!1;return e},[])}),{emptyGroups:d,patternIdxToConfig:f,charCodeToPatternIdxToConfig:E,hasCustom:T,canBeOptimized:m}}(e,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[r]=n.patternIdxToConfig,this.charCodeToPatternIdxToConfig[r]=n.charCodeToPatternIdxToConfig,this.emptyGroups=e2({},this.emptyGroups,n.emptyGroups),this.hasCustom=n.hasCustom||this.hasCustom,this.canModeBeOptimized[r]=n.canBeOptimized}})}),this.defaultMode=r.defaultMode,!r2(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling)throw Error("Errors detected in definition of Lexer:\n"+rG(this.lexerDefinitionErrors,e=>e.message).join("-----------------------\n"));rP(this.lexerDefinitionWarning,e=>{no(e.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(nZ?(this.chopInput=V,this.match=this.matchWithTest):(this.updateLastIndex=ec,this.match=this.matchWithExec),n&&(this.handleModes=ec),!1===this.trackStartLines&&(this.computeNewColumn=V),!1===this.trackEndLines&&(this.updateTokenEndLineColumnLocation=ec),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{let e=r4(this.canModeBeOptimized,(e,t,r)=>(!1===t&&e.push(r),e),[]);if(t.ensureOptimizations&&!r2(e))throw Error(`Lexer Modes: < ${e.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{n$={}}),this.TRACE_INIT("toFastProperties",()=>{na(this)})})}tokenize(e,t=this.defaultMode){if(!r2(this.lexerDefinitionErrors))throw Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+rG(this.lexerDefinitionErrors,e=>e.message).join("-----------------------\n"));return this.tokenizeInternal(e,t)}tokenizeInternal(e,t){let r,n,i,o,s,a,c,l,u,h,d,f,p,T,m,E,g;let A=e,y=A.length,R=0,v=0,I=Array(this.hasCustom?0:Math.floor(e.length/10)),_=[],O=this.trackStartLines?1:void 0,N=this.trackStartLines?1:void 0,S=function(e){let t={};return rP(e0(e),r=>{if(P(e[r]))t[r]=[];else throw Error("non exhaustive match")}),t}(this.emptyGroups),k=this.trackStartLines,L=this.config.lineTerminatorsPattern,x=0,b=[],C=[],M=[],w=[];function U(){return b}function F(e){let t=C[ie(e)];return void 0===t?w:t}Object.freeze(w);let D=e=>{if(1===M.length&&void 0===e.tokenType.PUSH_MODE){let t=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e);_.push({offset:e.startOffset,line:e.startLine,column:e.startColumn,length:e.image.length,message:t})}else{M.pop();let e=rx(M);b=this.patternIdxToConfig[e],C=this.charCodeToPatternIdxToConfig[e],x=b.length;let t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;E=C&&t?F:U}};function j(e){M.push(e),C=this.charCodeToPatternIdxToConfig[e],x=(b=this.patternIdxToConfig[e]).length,x=b.length;let t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;E=C&&t?F:U}j.call(this,t);let $=this.config.recoveryEnabled;for(;R<y;){a=null;let t=A.charCodeAt(R),C=E(t),P=C.length;for(r=0;r<P;r++){let n=(g=C[r]).pattern;c=null;let u=g.short;if(!1!==u?t===u&&(a=n):!0===g.isCustom?null!==(m=n.exec(A,R,I,S))?(a=m[0],void 0!==m.payload&&(c=m.payload)):a=null:(this.updateLastIndex(n,R),a=this.match(n,e,R)),null!==a){if(void 0!==(s=g.longerAlt)){let t=s.length;for(i=0;i<t;i++){let t=b[s[i]],r=t.pattern;if(l=null,!0===t.isCustom?null!==(m=r.exec(A,R,I,S))?(o=m[0],void 0!==m.payload&&(l=m.payload)):o=null:(this.updateLastIndex(r,R),o=this.match(r,e,R)),o&&o.length>a.length){a=o,c=l,g=t;break}}}break}}if(null!==a){if(u=a.length,void 0!==(h=g.group)&&(d=g.tokenTypeIdx,f=this.createTokenInstance(a,R,d,g.tokenType,O,N,u),this.handlePayload(f,c),!1===h?v=this.addToken(I,v,f):S[h].push(f)),e=this.chopInput(e,u),R+=u,N=this.computeNewColumn(N,u),!0===k&&!0===g.canLineTerminator){let e,t,r=0;L.lastIndex=0;do!0===(e=L.test(a))&&(t=L.lastIndex-1,r++);while(!0===e);0!==r&&(O+=r,N=u-t,this.updateTokenEndLineColumnLocation(f,h,t,r,O,N,u))}this.handleModes(g,D,j,f)}else{let t=R,r=O,i=N,o=!1===$;for(;!1===o&&R<y;)for(e=this.chopInput(e,1),R++,n=0;n<x;n++){let t=b[n],r=t.pattern,i=t.short;if(!1!==i?A.charCodeAt(R)===i&&(o=!0):!0===t.isCustom?o=null!==r.exec(A,R,I,S):(this.updateLastIndex(r,R),o=null!==r.exec(e)),!0===o)break}if(p=R-t,N=this.computeNewColumn(N,p),T=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(A,t,p,r,i),_.push({offset:t,line:r,column:i,length:p,message:T}),!1===$)break}}return this.hasCustom||(I.length=v),{tokens:I,groups:S,errors:_}}handleModes(e,t,r,n){if(!0===e.pop){let i=e.push;t(n),void 0!==i&&r.call(this,i)}else void 0!==e.push&&r.call(this,e.push)}chopInput(e,t){return e.substring(t)}updateLastIndex(e,t){e.lastIndex=t}updateTokenEndLineColumnLocation(e,t,r,n,i,o,s){let a,c;void 0===t||(c=(a=r===s-1)?-1:0,1===n&&!0===a||(e.endLine=i+c,e.endColumn=o-1+-c))}computeNewColumn(e,t){return e+t}createOffsetOnlyToken(e,t,r,n){return{image:e,startOffset:t,tokenTypeIdx:r,tokenType:n}}createStartOnlyToken(e,t,r,n,i,o){return{image:e,startOffset:t,startLine:i,startColumn:o,tokenTypeIdx:r,tokenType:n}}createFullToken(e,t,r,n,i,o,s){return{image:e,startOffset:t,endOffset:t+s-1,startLine:i,endLine:i,startColumn:o,endColumn:o+s-1,tokenTypeIdx:r,tokenType:n}}addTokenUsingPush(e,t,r){return e.push(r),t}addTokenUsingMemberAccess(e,t,r){return e[t]=r,++t}handlePayloadNoCustom(e,t){}handlePayloadWithCustom(e,t){null!==t&&(e.payload=t)}matchWithTest(e,t,r){return!0===e.test(t)?t.substring(r,e.lastIndex):null}matchWithExec(e,t){let r=e.exec(t);return null!==r?r[0]:null}}function id(e){return ip(e)?e.LABEL:e.name}function ip(e){return rX(e.LABEL)&&""!==e.LABEL}ih.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",ih.NA=/NOT_APPLICABLE/;let iT="categories",im="label",iE="group",ig="push_mode",iA="pop_mode",iy="longer_alt",iR="line_breaks",iv="start_chars_hint";function iI(e){let t=e.pattern,r={};if(r.name=e.name,r5(t)||(r.PATTERN=t),rY(e,"parent"))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";return rY(e,iT)&&(r.CATEGORIES=e[iT]),is([r]),rY(e,im)&&(r.LABEL=e[im]),rY(e,iE)&&(r.GROUP=e[iE]),rY(e,iA)&&(r.POP_MODE=e[iA]),rY(e,ig)&&(r.PUSH_MODE=e[ig]),rY(e,iy)&&(r.LONGER_ALT=e[iy]),rY(e,iR)&&(r.LINE_BREAKS=e[iR]),rY(e,iv)&&(r.START_CHARS_HINT=e[iv]),r}let i_=iI({name:"EOF",pattern:ih.NA});function iO(e,t,r,n,i,o,s,a){return{image:t,startOffset:r,endOffset:n,startLine:i,endLine:o,startColumn:s,endColumn:a,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}is([i_]);let iN={buildMismatchTokenMessage({expected:e,actual:t,previous:r,ruleName:n}){let i=ip(e)?`--> ${id(e)} <--`:`token of type --> ${e.name} <--`;return`Expecting ${i} but found --> '${t.image}' <--`},buildNotAllInputParsedMessage:({firstRedundant:e,ruleName:t})=>"Redundant input, expecting EOF but found: "+e.image,buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:r,customUserDescription:n,ruleName:i}){let o="Expecting: ",s="\nbut found: '"+rB(t).image+"'";if(n)return o+n+s;{let t=rG(r4(e,(e,t)=>e.concat(t),[]),e=>`[${rG(e,e=>id(e)).join(", ")}]`),r=rG(t,(e,t)=>`  ${t+1}. ${e}`);return o+`one of these possible Token sequences:
${r.join("\n")}`+s}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:r,ruleName:n}){let i="Expecting: ",o="\nbut found: '"+rB(t).image+"'";if(r)return i+r+o;{let t=rG(e,e=>`[${rG(e,e=>id(e)).join(",")}]`);return i+`expecting at least one iteration which starts with one of these possible Token sequences::
  <${t.join(" ,")}>`+o}}};Object.freeze(iN);let iS={buildRuleNotFoundError:(e,t)=>"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-"},ik={buildDuplicateFoundError(e,t){let r=e.name,n=rB(t),i=n.idx,o=nR(n),s=n instanceof ng?n.terminalType.name:n instanceof nl?n.nonTerminalName:"",a=`->${o}${i>0?i:""}<- ${s?`with argument: ->${s}<-`:""}
                  appears more than once (${t.length} times) in the top level rule: ->${r}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return(a=a.replace(/[ \t]+/g," ")).replace(/\s\s+/g,"\n")},buildNamespaceConflictError:e=>`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`,buildAlternationPrefixAmbiguityError(e){let t=rG(e.prefixPath,e=>id(e)).join(", "),r=0===e.alternation.idx?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(e){let t=rG(e.prefixPath,e=>id(e)).join(", "),r=0===e.alternation.idx?"":e.alternation.idx;return`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`},buildEmptyRepetitionError(e){let t=nR(e.repetition);return 0!==e.repetition.idx&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError:e=>"deprecated",buildEmptyAlternationError:e=>`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`,buildTooManyAlternativesError:e=>`An Alternation cannot have more than 256 alternatives:
<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
 has ${e.alternation.definition.length+1} alternatives.`,buildLeftRecursionError(e){let t=e.topLevelRule.name,r=rG(e.leftRecursionPath,e=>e.name),n=`${t} --> ${r.concat([t]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${t}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${n}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError:e=>"deprecated",buildDuplicateRuleNameError(e){let t;return t=e.topLevelRule instanceof nu?e.topLevelRule.name:e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}};class iL extends nA{constructor(e,t){super(),this.nameToTopRule=e,this.errMsgProvider=t,this.errors=[]}resolveRefs(){rP(rq(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){let t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{let t=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:t,type:g.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class ix extends nv{constructor(e,t){super(),this.topProd=e,this.path=t,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=rn(this.path.ruleStack).reverse(),this.occurrenceStack=rn(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,t=[]){this.found||super.walk(e,t)}walkProdRef(e,t,r){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){let n=t.concat(r);this.updateExpectedNext(),this.walk(e.referencedRule,n)}}updateExpectedNext(){r2(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class ib extends ix{constructor(e,t){super(e,t),this.path=t,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,t,r){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){let e=new nh({definition:t.concat(r)});this.possibleTokTypes=n_(e),this.found=!0}}}class iC extends nv{constructor(e,t){super(),this.topRule=e,this.occurrence=t,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class iP extends iC{walkMany(e,t,r){if(e.idx===this.occurrence){let e=rB(t.concat(r));this.result.isEndOfRule=void 0===e,e instanceof ng&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkMany(e,t,r)}}class iM extends iC{walkManySep(e,t,r){if(e.idx===this.occurrence){let e=rB(t.concat(r));this.result.isEndOfRule=void 0===e,e instanceof ng&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkManySep(e,t,r)}}class iw extends iC{walkAtLeastOne(e,t,r){if(e.idx===this.occurrence){let e=rB(t.concat(r));this.result.isEndOfRule=void 0===e,e instanceof ng&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkAtLeastOne(e,t,r)}}class iU extends iC{walkAtLeastOneSep(e,t,r){if(e.idx===this.occurrence){let e=rB(t.concat(r));this.result.isEndOfRule=void 0===e,e instanceof ng&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkAtLeastOneSep(e,t,r)}}function iF(e,t,r=[]){r=rn(r);let n=[],i=0;function o(o){let s=iF(o.concat(rb(e,i+1)),t,r);return n.concat(s)}for(;r.length<t&&i<e.length;){let t=e[i];if(t instanceof nh||t instanceof nl)return o(t.definition);if(t instanceof nd)n=o(t.definition);else if(t instanceof nf)return o(t.definition.concat([new nT({definition:t.definition})]));else if(t instanceof np)return o([new nh({definition:t.definition}),new nT({definition:[new ng({terminalType:t.separator})].concat(t.definition)})]);else if(t instanceof nm)n=o(t.definition.concat([new nT({definition:[new ng({terminalType:t.separator})].concat(t.definition)})]));else if(t instanceof nT)n=o(t.definition.concat([new nT({definition:t.definition})]));else if(t instanceof nE)return rP(t.definition,e=>{!1===r2(e.definition)&&(n=o(e.definition))}),n;else if(t instanceof ng)r.push(t.terminalType);else throw Error("non exhaustive match");i++}return n.push({partialPath:r,suffixDef:rb(e,i)}),n}function iD(e,t,r,n){let i="EXIT_NONE_TERMINAL",o=[i],s="EXIT_ALTERNATIVE",a=!1,c=t.length,l=c-n-1,u=[],h=[];for(h.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!r2(h);){let e=h.pop();if(e===s){a&&rx(h).idx<=l&&h.pop();continue}let n=e.def,d=e.idx,f=e.ruleStack,p=e.occurrenceStack;if(r2(n))continue;let T=n[0];if(T===i){let e={idx:d,def:rb(n),ruleStack:rC(f),occurrenceStack:rC(p)};h.push(e)}else if(T instanceof ng){if(d<c-1){let e=d+1;if(r(t[e],T.terminalType)){let t={idx:e,def:rb(n),ruleStack:f,occurrenceStack:p};h.push(t)}}else if(d===c-1)u.push({nextTokenType:T.terminalType,nextTokenOccurrence:T.idx,ruleStack:f,occurrenceStack:p}),a=!0;else throw Error("non exhaustive match")}else if(T instanceof nl){let e=rn(f);e.push(T.nonTerminalName);let t=rn(p);t.push(T.idx);let r={idx:d,def:T.definition.concat(o,rb(n)),ruleStack:e,occurrenceStack:t};h.push(r)}else if(T instanceof nd){let e={idx:d,def:rb(n),ruleStack:f,occurrenceStack:p};h.push(e),h.push(s);let t={idx:d,def:T.definition.concat(rb(n)),ruleStack:f,occurrenceStack:p};h.push(t)}else if(T instanceof nf){let e=new nT({definition:T.definition,idx:T.idx}),t={idx:d,def:T.definition.concat([e],rb(n)),ruleStack:f,occurrenceStack:p};h.push(t)}else if(T instanceof np){let e=new nT({definition:[new ng({terminalType:T.separator})].concat(T.definition),idx:T.idx}),t={idx:d,def:T.definition.concat([e],rb(n)),ruleStack:f,occurrenceStack:p};h.push(t)}else if(T instanceof nm){let e={idx:d,def:rb(n),ruleStack:f,occurrenceStack:p};h.push(e),h.push(s);let t=new nT({definition:[new ng({terminalType:T.separator})].concat(T.definition),idx:T.idx}),r={idx:d,def:T.definition.concat([t],rb(n)),ruleStack:f,occurrenceStack:p};h.push(r)}else if(T instanceof nT){let e={idx:d,def:rb(n),ruleStack:f,occurrenceStack:p};h.push(e),h.push(s);let t=new nT({definition:T.definition,idx:T.idx}),r={idx:d,def:T.definition.concat([t],rb(n)),ruleStack:f,occurrenceStack:p};h.push(r)}else if(T instanceof nE)for(let e=T.definition.length-1;e>=0;e--){let t={idx:d,def:T.definition[e].definition.concat(rb(n)),ruleStack:f,occurrenceStack:p};h.push(t),h.push(s)}else if(T instanceof nh)h.push({idx:d,def:T.definition.concat(rb(n)),ruleStack:f,occurrenceStack:p});else if(T instanceof nu)h.push(function(e,t,r,n){let i=rn(r);i.push(e.name);let o=rn(n);return o.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:o}}(T,d,f,p));else throw Error("non exhaustive match")}return u}function ij(e){if(e instanceof nd||"Option"===e)return m.OPTION;if(e instanceof nT||"Repetition"===e)return m.REPETITION;if(e instanceof nf||"RepetitionMandatory"===e)return m.REPETITION_MANDATORY;if(e instanceof np||"RepetitionMandatoryWithSeparator"===e)return m.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof nm||"RepetitionWithSeparator"===e)return m.REPETITION_WITH_SEPARATOR;if(e instanceof nE||"Alternation"===e)return m.ALTERNATION;throw Error("non exhaustive match")}function i$(e,t,r,n){let i=e.length,o=rU(e,e=>rU(e,e=>1===e.length));if(t)return function(t){let n=rG(t,e=>e.GATE);for(let t=0;t<i;t++){let i=e[t],o=i.length,s=n[t];if(void 0===s||!1!==s.call(this))t:for(let e=0;e<o;e++){let n=i[e],o=n.length;for(let e=0;e<o;e++)if(!1===r(this.LA(e+1),n[e]))continue t;return t}}};if(!o||n)return function(){for(let t=0;t<i;t++){let n=e[t],i=n.length;t:for(let e=0;e<i;e++){let i=n[e],o=i.length;for(let e=0;e<o;e++)if(!1===r(this.LA(e+1),i[e]))continue t;return t}}};{let t=r4(rG(e,e=>ty(e)),(e,t,r)=>(rP(t,t=>{rY(e,t.tokenTypeIdx)||(e[t.tokenTypeIdx]=r),rP(t.categoryMatches,t=>{rY(e,t)||(e[t]=r)})}),e),{});return function(){return t[this.LA(1).tokenTypeIdx]}}}function iB(e,t,r){let n=rU(e,e=>1===e.length),i=e.length;if(!n||r)return function(){t:for(let r=0;r<i;r++){let n=e[r],i=n.length;for(let e=0;e<i;e++)if(!1===t(this.LA(e+1),n[e]))continue t;return!0}return!1};{let t=ty(e);if(1===t.length&&r2(t[0].categoryMatches)){let e=t[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===e}}{let e=r4(t,(e,t,r)=>(e[t.tokenTypeIdx]=!0,rP(t.categoryMatches,t=>{e[t]=!0}),e),[]);return function(){return!0===e[this.LA(1).tokenTypeIdx]}}}}(d=m||(m={}))[d.OPTION=0]="OPTION",d[d.REPETITION=1]="REPETITION",d[d.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",d[d.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",d[d.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",d[d.ALTERNATION=5]="ALTERNATION";class iG extends nv{constructor(e,t,r){super(),this.topProd=e,this.targetOccurrence=t,this.targetProdType=r}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,t,r,n){return e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.restDef=r.concat(n),!0)}walkOption(e,t,r){this.checkIsTarget(e,m.OPTION,t,r)||super.walkOption(e,t,r)}walkAtLeastOne(e,t,r){this.checkIsTarget(e,m.REPETITION_MANDATORY,t,r)||super.walkOption(e,t,r)}walkAtLeastOneSep(e,t,r){this.checkIsTarget(e,m.REPETITION_MANDATORY_WITH_SEPARATOR,t,r)||super.walkOption(e,t,r)}walkMany(e,t,r){this.checkIsTarget(e,m.REPETITION,t,r)||super.walkOption(e,t,r)}walkManySep(e,t,r){this.checkIsTarget(e,m.REPETITION_WITH_SEPARATOR,t,r)||super.walkOption(e,t,r)}}class iK extends nA{constructor(e,t,r){super(),this.targetOccurrence=e,this.targetProdType=t,this.targetRef=r,this.result=[]}checkIsTarget(e,t){e.idx===this.targetOccurrence&&this.targetProdType===t&&(void 0===this.targetRef||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,m.OPTION)}visitRepetition(e){this.checkIsTarget(e,m.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,m.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,m.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,m.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,m.ALTERNATION)}}function iW(e){let t=Array(e);for(let r=0;r<e;r++)t[r]=[];return t}function iH(e){let t=[""];for(let r=0;r<e.length;r++){let n=e[r],i=[];for(let e=0;e<t.length;e++){let r=t[e];i.push(r+"_"+n.tokenTypeIdx);for(let e=0;e<n.categoryMatches.length;e++){let t="_"+n.categoryMatches[e];i.push(r+t)}}t=i}return t}function iz(e,t){let r=rG(e,e=>iF([e],1)),n=iW(r.length),i=rG(r,e=>{let t={};return rP(e,e=>{rP(iH(e.partialPath),e=>{t[e]=!0})}),t}),o=r;for(let e=1;e<=t;e++){let r=o;o=iW(r.length);for(let s=0;s<r.length;s++){let a=r[s];for(let r=0;r<a.length;r++){let c=a[r].partialPath,l=a[r].suffixDef,u=iH(c);if(function(e,t,r){for(let n=0;n<e.length;n++){if(n===r)continue;let i=e[n];for(let e=0;e<t.length;e++)if(!0===i[t[e]])return!1}return!0}(i,u,s)||r2(l)||c.length===t){let e=n[s];if(!1===iX(e,c)){e.push(c);for(let e=0;e<u.length;e++){let t=u[e];i[s][t]=!0}}}else{let t=iF(l,e+1,c);o[s]=o[s].concat(t),rP(t,e=>{rP(iH(e.partialPath),e=>{i[s][e]=!0})})}}}}return n}function iV(e,t,r,n){let i=new iK(e,m.ALTERNATION,n);return t.accept(i),iz(i.result,r)}function iY(e,t,r,n){let i=new iK(e,r);t.accept(i);let o=i.result,s=new iG(t,e,r).startWalking();return iz([new nh({definition:o}),new nh({definition:s})],n)}function iX(e,t){r:for(let r=0;r<e.length;r++){let n=e[r];if(n.length===t.length){for(let e=0;e<n.length;e++){let r=t[e],i=n[e];if(!1==(r===i||void 0!==i.categoryMatchesMap[r.tokenTypeIdx]))continue r}return!0}}return!1}function iq(e){return rU(e,e=>rU(e,e=>rU(e,e=>r2(e.categoryMatches))))}function iQ(e){return`${nR(e)}_#_${e.idx}_#_${iZ(e)}`}function iZ(e){return e instanceof ng?e.terminalType.name:e instanceof nl?e.nonTerminalName:""}class iJ extends nA{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}class i0 extends nA{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}class i1 extends nA{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}let i2="MismatchedTokenException",i6="NoViableAltException",i3="EarlyExitException",i5="NotAllInputParsedException",i9=[i2,i6,i3,i5];function i8(e){return rZ(i9,e.name)}Object.freeze(i9);class i4 extends Error{constructor(e,t){super(e),this.token=t,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class i7 extends i4{constructor(e,t,r){super(e,t),this.previousToken=r,this.name=i2}}class oe extends i4{constructor(e,t,r){super(e,t),this.previousToken=r,this.name=i6}}class ot extends i4{constructor(e,t){super(e,t),this.name=i5}}class or extends i4{constructor(e,t,r){super(e,t),this.previousToken=r,this.name=i3}}let on={},oi="InRuleRecoveryException";class oo extends Error{constructor(e){super(e),this.name=oi}}class os{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=rY(e,"recoveryEnabled")?e.recoveryEnabled:oP.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=oa)}getTokenToInsert(e){let t=iO(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,t,r,n){let i=this.findReSyncTokenType(),o=this.exportLexerState(),s=[],a=!1,c=this.LA(1),l=this.LA(1),u=()=>{let e=this.LA(0),t=new i7(this.errorMessageProvider.buildMismatchTokenMessage({expected:n,actual:c,previous:e,ruleName:this.getCurrRuleFullName()}),c,this.LA(0));t.resyncedTokens=rC(s),this.SAVE_ERROR(t)};for(;!a;){if(this.tokenMatcher(l,n)){u();return}if(r.call(this)){u(),e.apply(this,t);return}this.tokenMatcher(l,i)?a=!0:(l=this.SKIP_TOKEN(),this.addToResyncTokens(l,s))}this.importLexerState(o)}shouldInRepetitionRecoveryBeTried(e,t,r){return!(!1===r||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t)))}getFollowsForInRuleRecovery(e,t){let r=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(r)}tryInRuleRecovery(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){let e=this.SKIP_TOKEN();return this.consumeToken(),e}throw new oo("sad sad panda")}canPerformInRuleRecovery(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,t){if(!this.canTokenTypeBeInsertedInRecovery(e)||r2(t))return!1;let r=this.LA(1);return void 0!==r$(t,e=>this.tokenMatcher(r,e))}canRecoverWithSingleTokenDeletion(e){return!!this.canTokenTypeBeDeletedInRecovery(e)&&this.tokenMatcher(this.LA(2),e)}isInCurrentRuleReSyncSet(e){let t=this.getCurrFollowKey();return rZ(this.getFollowSetFromFollowKey(t),e)}findReSyncTokenType(){let e=this.flattenFollowSet(),t=this.LA(1),r=2;for(;;){let n=r$(e,e=>it(t,e));if(void 0!==n)return n;t=this.LA(r),r++}}getCurrFollowKey(){if(1===this.RULE_STACK.length)return on;let e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(r)}}buildFullFollowKeyStack(){let e=this.RULE_STACK,t=this.RULE_OCCURRENCE_STACK;return rG(e,(r,n)=>0===n?on:{ruleName:this.shortRuleNameToFullName(r),idxInCallingRule:t[n],inRule:this.shortRuleNameToFullName(e[n-1])})}flattenFollowSet(){return ty(rG(this.buildFullFollowKeyStack(),e=>this.getFollowSetFromFollowKey(e)))}getFollowSetFromFollowKey(e){if(e===on)return[i_];let t=e.ruleName+e.idxInCallingRule+nO+e.inRule;return this.resyncFollows[t]}addToResyncTokens(e,t){return this.tokenMatcher(e,i_)||t.push(e),t}reSyncTo(e){let t=[],r=this.LA(1);for(;!1===this.tokenMatcher(r,e);)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,t);return rC(t)}attemptInRepetitionRecovery(e,t,r,n,i,o,s){}getCurrentGrammarPath(e,t){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:rn(this.RULE_OCCURRENCE_STACK),lastTok:e,lastTokOccurrence:t}}getHumanReadableRuleStack(){return rG(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}}function oa(e,t,r,n,i,o,s){let a=this.getKeyForAutomaticLookahead(n,i),c=this.firstAfterRepMap[a];if(void 0===c){let e=this.getCurrRuleFullName();c=new o(this.getGAstProductions()[e],i).startWalking(),this.firstAfterRepMap[a]=c}let l=c.token,u=c.occurrence,h=c.isEndOfRule;1===this.RULE_STACK.length&&h&&void 0===l&&(l=i_,u=1),void 0!==l&&void 0!==u&&this.shouldInRepetitionRecoveryBeTried(l,u,s)&&this.tryInRepetitionRecovery(e,t,r,l)}class oc{constructor(e){var t;this.maxLookahead=null!==(t=null==e?void 0:e.maxLookahead)&&void 0!==t?t:oP.maxLookahead}validate(e){let t=this.validateNoLeftRecursion(e.rules);return r2(t)?[...t,...this.validateEmptyOrAlternatives(e.rules),...this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),...this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead)]:t}validateNoLeftRecursion(e){return rK(e,e=>(function e(t,r,n,i=[]){let o=[],s=function e(t){let r=[];if(r2(t))return r;let n=rB(t);if(n instanceof nl)r.push(n.referencedRule);else if(n instanceof nh||n instanceof nd||n instanceof nf||n instanceof np||n instanceof nm||n instanceof nT)r=r.concat(e(n.definition));else if(n instanceof nE)r=ty(rG(n.definition,t=>e(t.definition)));else if(n instanceof ng);else throw Error("non exhaustive match");let i=ny(n),o=t.length>1;if(!i||!o)return r;{let n=rb(t);return r.concat(e(n))}}(r.definition);if(r2(s))return[];{let r=t.name;rZ(s,t)&&o.push({message:n.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:i}),type:g.LEFT_RECURSION,ruleName:r});let a=rK(rL(s,i.concat([t])),r=>{let o=rn(i);return o.push(r),e(t,r,n,o)});return o.concat(a)}})(e,e,ik))}validateEmptyOrAlternatives(e){return rK(e,e=>(function(e,t){let r=new i0;return e.accept(r),rK(r.alternations,r=>rK(rC(r.definition),(n,i)=>r2(iD([n],[],it,1))?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:r,emptyChoiceIdx:i}),type:g.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:r.idx,alternative:i+1}]:[]))})(e,ik))}validateAmbiguousAlternationAlternatives(e,t){return rK(e,e=>(function(e,t,r){let n=new i0;e.accept(n);let i=n.alternations;return rK(i=r7(i,e=>!0===e.ignoreAmbiguities),n=>{let i=iV(n.idx,e,n.maxLookahead||t,n),o=function(e,t,r,n){let i=[];return rG(r4(e,(r,n,o)=>(!0===t.definition[o].ignoreAmbiguities||rP(n,n=>{let s=[o];rP(e,(e,r)=>{o!==r&&iX(e,n)&&!0!==t.definition[r].ignoreAmbiguities&&s.push(r)}),s.length>1&&!iX(i,n)&&(i.push(n),r.push({alts:s,path:n}))}),r),[]),e=>{let i=rG(e.alts,e=>e+1);return{message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:g.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:t.idx,alternatives:e.alts}})}(i,n,e,r),s=function(e,t,r,n){let i=r4(e,(e,t,r)=>{let n=rG(t,e=>({idx:r,path:e}));return e.concat(n)},[]);return ri(rK(i,e=>{if(!0===t.definition[e.idx].ignoreAmbiguities)return[];let o=e.idx,s=e.path;return rG(rD(i,e=>{var r;return!0!==t.definition[e.idx].ignoreAmbiguities&&e.idx<o&&(r=e.path).length<s.length&&rU(r,(e,t)=>{let r=s[t];return e===r||r.categoryMatchesMap[e.tokenTypeIdx]})}),e=>{let i=[e.idx+1,o+1],s=0===t.idx?"":t.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:g.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:s,alternatives:i}})}))}(i,n,e,r);return o.concat(s)})})(e,t,ik))}validateSomeNonEmptyLookaheadPath(e,t){return function(e,t,r){let n=[];return rP(e,e=>{let i=new i1;e.accept(i),rP(i.allProductions,i=>{let o=ij(i),s=i.maxLookahead||t;if(r2(ty(iY(i.idx,e,o,s)[0]))){let t=r.buildEmptyRepetitionError({topLevelRule:e,repetition:i});n.push({message:t,type:g.NO_NON_EMPTY_LOOKAHEAD,ruleName:e.name})}})}),n}(e,t,ik)}buildLookaheadForAlternation(e){return function(e,t,r,n,i,o){let s=iV(e,t,r),a=iq(s)?ir:it;return o(s,n,a,i)}(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,i$)}buildLookaheadForOptional(e){return function(e,t,r,n,i,o){let s=iY(e,t,i,r),a=iq(s)?ir:it;return o(s[0],a,n)}(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,ij(e.prodType),iB)}}class ol{initLooksAhead(e){this.dynamicTokensEnabled=rY(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:oP.dynamicTokensEnabled,this.maxLookahead=rY(e,"maxLookahead")?e.maxLookahead:oP.maxLookahead,this.lookaheadStrategy=rY(e,"lookaheadStrategy")?e.lookaheadStrategy:new oc({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){rP(e,e=>{this.TRACE_INIT(`${e.name} Rule Lookahead`,()=>{let{alternation:t,repetition:r,option:n,repetitionMandatory:i,repetitionMandatoryWithSeparator:o,repetitionWithSeparator:s}=function(e){oh.reset(),e.accept(oh);let t=oh.dslMethods;return oh.reset(),t}(e);rP(t,t=>{let r=0===t.idx?"":t.idx;this.TRACE_INIT(`${nR(t)}${r}`,()=>{var r;let n=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:t.idx,rule:e,maxLookahead:t.maxLookahead||this.maxLookahead,hasPredicates:t.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),i=(r=this.fullRuleNameToShort[e.name],256|t.idx|r);this.setLaFuncCache(i,n)})}),rP(r,t=>{this.computeLookaheadFunc(e,t.idx,768,"Repetition",t.maxLookahead,nR(t))}),rP(n,t=>{this.computeLookaheadFunc(e,t.idx,512,"Option",t.maxLookahead,nR(t))}),rP(i,t=>{this.computeLookaheadFunc(e,t.idx,1024,"RepetitionMandatory",t.maxLookahead,nR(t))}),rP(o,t=>{this.computeLookaheadFunc(e,t.idx,1536,"RepetitionMandatoryWithSeparator",t.maxLookahead,nR(t))}),rP(s,t=>{this.computeLookaheadFunc(e,t.idx,1280,"RepetitionWithSeparator",t.maxLookahead,nR(t))})})})}computeLookaheadFunc(e,t,r,n,i,o){this.TRACE_INIT(`${o}${0===t?"":t}`,()=>{let o=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:t,rule:e,maxLookahead:i||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:n}),s=t|r|this.fullRuleNameToShort[e.name];this.setLaFuncCache(s,o)})}getKeyForAutomaticLookahead(e,t){return t|e|this.getLastExplicitRuleShortName()}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,t){this.lookAheadFuncsCache.set(e,t)}}class ou extends nA{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}}let oh=new ou;function od(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset==!0&&(e.endOffset=t.endOffset)}function of(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset==!0&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function op(e,t){Object.defineProperty(e,"name",{enumerable:!1,configurable:!0,writable:!1,value:t})}function oT(e,t){let r=e0(e),n=r.length;for(let i=0;i<n;i++){let n=e[r[i]],o=n.length;for(let e=0;e<o;e++){let r=n[e];void 0===r.tokenTypeIdx&&this[r.name](r.children,t)}}}(f=E||(E={}))[f.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",f[f.MISSING_METHOD=1]="MISSING_METHOD";class om{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=rY(e,"nodeLocationTracking")?e.nodeLocationTracking:oP.nodeLocationTracking,this.outputCst){if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=of,this.setNodeLocationFromNode=of,this.cstPostRule=ec,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=ec,this.setNodeLocationFromNode=ec,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=od,this.setNodeLocationFromNode=od,this.cstPostRule=ec,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=ec,this.setNodeLocationFromNode=ec,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=ec,this.setNodeLocationFromNode=ec,this.cstPostRule=ec,this.setInitialNodeLocation=ec;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}else this.cstInvocationStateUpdate=ec,this.cstFinallyStateUpdate=ec,this.cstPostTerminal=ec,this.cstPostNonTerminal=ec,this.cstPostRule=ec}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){let t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){let t={name:e,children:Object.create(null)};this.setInitialNodeLocation(t),this.CST_STACK.push(t)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){let t=this.LA(0),r=e.location;r.startOffset<=t.startOffset==!0?(r.endOffset=t.endOffset,r.endLine=t.endLine,r.endColumn=t.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)}cstPostRuleOnlyOffset(e){let t=this.LA(0),r=e.location;r.startOffset<=t.startOffset==!0?r.endOffset=t.endOffset:r.startOffset=NaN}cstPostTerminal(e,t){let r=this.CST_STACK[this.CST_STACK.length-1];void 0===r.children[e]?r.children[e]=[t]:r.children[e].push(t),this.setNodeLocationFromToken(r.location,t)}cstPostNonTerminal(e,t){let r=this.CST_STACK[this.CST_STACK.length-1];void 0===r.children[t]?r.children[t]=[e]:r.children[t].push(e),this.setNodeLocationFromNode(r.location,e.location)}getBaseCstVisitorConstructor(){if(r5(this.baseCstVisitorConstructor)){let e=function(e,t){let r=function(){};return op(r,e+"BaseSemantics"),r.prototype={visit:function(e,t){if(P(e)&&(e=e[0]),!r5(e))return this[e.name](e.children,t)},validateVisitor:function(){var e;let r=(e=this,ri(rG(rD(t,t=>!1===Y(e[t])),t=>({msg:`Missing visitor method: <${t}> on ${e.constructor.name} CST Visitor.`,type:E.MISSING_METHOD,methodName:t}))));if(!r2(r)){let e=rG(r,e=>e.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${e.join("\n\n").replace(/\n/g,"\n	")}`)}}},r.prototype.constructor=r,r._RULE_NAMES=t,r}(this.className,e0(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(r5(this.baseCstVisitorWithDefaultsConstructor)){let e=function(e,t,r){let n=function(){};op(n,e+"BaseSemanticsWithDefaults");let i=Object.create(r.prototype);return rP(t,e=>{i[e]=oT}),n.prototype=i,n.prototype.constructor=n,n}(this.className,e0(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){let e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}class oE{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):oC}LA(e){let t=this.currIdx+e;return t<0||this.tokVectorLength<=t?oC:this.tokVector[t]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class og{ACTION(e){return e.call(this)}consume(e,t,r){return this.consumeInternal(t,e,r)}subrule(e,t,r){return this.subruleInternal(t,e,r)}option(e,t){return this.optionInternal(t,e)}or(e,t){return this.orInternal(t,e)}many(e,t){return this.manyInternal(e,t)}atLeastOne(e,t){return this.atLeastOneInternal(e,t)}CONSUME(e,t){return this.consumeInternal(e,0,t)}CONSUME1(e,t){return this.consumeInternal(e,1,t)}CONSUME2(e,t){return this.consumeInternal(e,2,t)}CONSUME3(e,t){return this.consumeInternal(e,3,t)}CONSUME4(e,t){return this.consumeInternal(e,4,t)}CONSUME5(e,t){return this.consumeInternal(e,5,t)}CONSUME6(e,t){return this.consumeInternal(e,6,t)}CONSUME7(e,t){return this.consumeInternal(e,7,t)}CONSUME8(e,t){return this.consumeInternal(e,8,t)}CONSUME9(e,t){return this.consumeInternal(e,9,t)}SUBRULE(e,t){return this.subruleInternal(e,0,t)}SUBRULE1(e,t){return this.subruleInternal(e,1,t)}SUBRULE2(e,t){return this.subruleInternal(e,2,t)}SUBRULE3(e,t){return this.subruleInternal(e,3,t)}SUBRULE4(e,t){return this.subruleInternal(e,4,t)}SUBRULE5(e,t){return this.subruleInternal(e,5,t)}SUBRULE6(e,t){return this.subruleInternal(e,6,t)}SUBRULE7(e,t){return this.subruleInternal(e,7,t)}SUBRULE8(e,t){return this.subruleInternal(e,8,t)}SUBRULE9(e,t){return this.subruleInternal(e,9,t)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,t,r=oM){if(rZ(this.definedRulesNames,e)){let t={message:ik.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:g.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(t)}this.definedRulesNames.push(e);let n=this.defineRule(e,t,r);return this[e]=n,n}OVERRIDE_RULE(e,t,r=oM){let n=function(e,t,r){let n=[];return rZ(t,e)||n.push({message:`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,type:g.INVALID_RULE_OVERRIDE,ruleName:e}),n}(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(n);let i=this.defineRule(e,t,r);return this[e]=i,i}BACKTRACK(e,t){return function(){this.isBackTrackingStack.push(1);let r=this.saveRecogState();try{return e.apply(this,t),!0}catch(e){if(i8(e))return!1;throw e}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return rG(rq(this.gastProductionsCache),function e(t){function r(t){return rG(t,e)}if(t instanceof nl){let e={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return rX(t.label)&&(e.label=t.label),e}if(t instanceof nh)return{type:"Alternative",definition:r(t.definition)};if(t instanceof nd)return{type:"Option",idx:t.idx,definition:r(t.definition)};if(t instanceof nf)return{type:"RepetitionMandatory",idx:t.idx,definition:r(t.definition)};if(t instanceof np)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:e(new ng({terminalType:t.separator})),definition:r(t.definition)};if(t instanceof nm)return{type:"RepetitionWithSeparator",idx:t.idx,separator:e(new ng({terminalType:t.separator})),definition:r(t.definition)};if(t instanceof nT)return{type:"Repetition",idx:t.idx,definition:r(t.definition)};else if(t instanceof nE)return{type:"Alternation",idx:t.idx,definition:r(t.definition)};else if(t instanceof ng){var n,i;let e={type:"Terminal",name:t.terminalType.name,label:rX((i=n=t.terminalType).LABEL)&&""!==i.LABEL?n.LABEL:n.name,idx:t.idx};rX(t.label)&&(e.terminalLabel=t.label);let r=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(e.pattern=r3(r)?r.source:r),e}else if(t instanceof nu)return{type:"Rule",name:t.name,orgText:t.orgText,definition:r(t.definition)};else throw Error("non exhaustive match")})}}class oA{initRecognizerEngine(e,t){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=ir,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},rY(t,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n	For Further details.");if(P(e)){if(r2(e))throw Error("A Token Vocabulary cannot be empty.\n	Note that the first argument for the parser constructor\n	is no longer a Token vector (since v4.0).");if("number"==typeof e[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n	For Further details.")}if(P(e))this.tokensMap=r4(e,(e,t)=>(e[t.name]=t,e),{});else if(rY(e,"modes")&&rU(ty(rq(e.modes)),il)){let t=nn(ty(rq(e.modes)));this.tokensMap=r4(t,(e,t)=>(e[t.name]=t,e),{})}else if(j(e))this.tokensMap=rn(e);else throw Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=i_;let r=rU(rY(e,"modes")?ty(rq(e.modes)):rq(e),e=>r2(e.categoryMatches));this.tokenMatcher=r?ir:it,is(rq(this.tokensMap))}defineRule(e,t,r){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let n=rY(r,"resyncEnabled")?r.resyncEnabled:oM.resyncEnabled,i=rY(r,"recoveryValueFunc")?r.recoveryValueFunc:oM.recoveryValueFunc,o=this.ruleShortNameIdx<<12;return this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=e,this.fullRuleNameToShort[e]=o,Object.assign(!0===this.outputCst?function(...r){try{this.ruleInvocationStateUpdate(o,e,this.subruleIdx),t.apply(this,r);let n=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(n),n}catch(e){return this.invokeRuleCatch(e,n,i)}finally{this.ruleFinallyStateUpdate()}}:function(...r){try{return this.ruleInvocationStateUpdate(o,e,this.subruleIdx),t.apply(this,r)}catch(e){return this.invokeRuleCatch(e,n,i)}finally{this.ruleFinallyStateUpdate()}},{ruleName:e,originalGrammarAction:t})}invokeRuleCatch(e,t,r){let n=1===this.RULE_STACK.length,i=t&&!this.isBackTracking()&&this.recoveryEnabled;if(i8(e)){if(i){let t=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(t)){if(e.resyncedTokens=this.reSyncTo(t),!this.outputCst)return r(e);{let e=this.CST_STACK[this.CST_STACK.length-1];return e.recoveredNode=!0,e}}if(this.outputCst){let t=this.CST_STACK[this.CST_STACK.length-1];t.recoveredNode=!0,e.partialCstResult=t}throw e}if(n)return this.moveToTerminatedState(),r(e)}throw e}optionInternal(e,t){let r=this.getKeyForAutomaticLookahead(512,t);return this.optionInternalLogic(e,t,r)}optionInternalLogic(e,t,r){let n,i=this.getLaFuncFromCache(r);if("function"!=typeof e){n=e.DEF;let t=e.GATE;if(void 0!==t){let e=i;i=()=>t.call(this)&&e.call(this)}}else n=e;if(!0===i.call(this))return n.call(this)}atLeastOneInternal(e,t){let r=this.getKeyForAutomaticLookahead(1024,e);return this.atLeastOneInternalLogic(e,t,r)}atLeastOneInternalLogic(e,t,r){let n,i=this.getLaFuncFromCache(r);if("function"!=typeof t){n=t.DEF;let e=t.GATE;if(void 0!==e){let t=i;i=()=>e.call(this)&&t.call(this)}}else n=t;if(!0===i.call(this)){let e=this.doSingleRepetition(n);for(;!0===i.call(this)&&!0===e;)e=this.doSingleRepetition(n)}else throw this.raiseEarlyExitException(e,m.REPETITION_MANDATORY,t.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],i,1024,e,iw)}atLeastOneSepFirstInternal(e,t){let r=this.getKeyForAutomaticLookahead(1536,e);this.atLeastOneSepFirstInternalLogic(e,t,r)}atLeastOneSepFirstInternalLogic(e,t,r){let n=t.DEF,i=t.SEP;if(!0===this.getLaFuncFromCache(r).call(this)){n.call(this);let t=()=>this.tokenMatcher(this.LA(1),i);for(;!0===this.tokenMatcher(this.LA(1),i);)this.CONSUME(i),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,t,n,iU],t,1536,e,iU)}else throw this.raiseEarlyExitException(e,m.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG)}manyInternal(e,t){let r=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,t,r)}manyInternalLogic(e,t,r){let n,i=this.getLaFuncFromCache(r);if("function"!=typeof t){n=t.DEF;let e=t.GATE;if(void 0!==e){let t=i;i=()=>e.call(this)&&t.call(this)}}else n=t;let o=!0;for(;!0===i.call(this)&&!0===o;)o=this.doSingleRepetition(n);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],i,768,e,iP,o)}manySepFirstInternal(e,t){let r=this.getKeyForAutomaticLookahead(1280,e);this.manySepFirstInternalLogic(e,t,r)}manySepFirstInternalLogic(e,t,r){let n=t.DEF,i=t.SEP;if(!0===this.getLaFuncFromCache(r).call(this)){n.call(this);let t=()=>this.tokenMatcher(this.LA(1),i);for(;!0===this.tokenMatcher(this.LA(1),i);)this.CONSUME(i),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,t,n,iM],t,1280,e,iM)}}repetitionSepSecondInternal(e,t,r,n,i){for(;r();)this.CONSUME(t),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,r,n,i],r,1536,e,i)}doSingleRepetition(e){let t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t}orInternal(e,t){let r=this.getKeyForAutomaticLookahead(256,t),n=P(e)?e:e.DEF,i=this.getLaFuncFromCache(r).call(this,n);if(void 0!==i)return n[i].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){let e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new ot(t,e))}}subruleInternal(e,t,r){let n;try{let i=void 0!==r?r.ARGS:void 0;return this.subruleIdx=t,n=e.apply(this,i),this.cstPostNonTerminal(n,void 0!==r&&void 0!==r.LABEL?r.LABEL:e.ruleName),n}catch(t){throw this.subruleInternalError(t,r,e.ruleName)}}subruleInternalError(e,t,r){throw i8(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==t&&void 0!==t.LABEL?t.LABEL:r),delete e.partialCstResult),e}consumeInternal(e,t,r){let n;try{let t=this.LA(1);!0===this.tokenMatcher(t,e)?(this.consumeToken(),n=t):this.consumeInternalError(e,t,r)}catch(r){n=this.consumeInternalRecovery(e,t,r)}return this.cstPostTerminal(void 0!==r&&void 0!==r.LABEL?r.LABEL:e.name,n),n}consumeInternalError(e,t,r){let n;let i=this.LA(0);throw n=void 0!==r&&r.ERR_MSG?r.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new i7(n,t,i))}consumeInternalRecovery(e,t,r){if(this.recoveryEnabled&&"MismatchedTokenException"===r.name&&!this.isBackTracking()){let n=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,n)}catch(e){if(e.name===oi)throw r;throw e}}else throw r}saveRecogState(){let e=this.errors,t=rn(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,t,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t)}isBackTracking(){return 0!==this.isBackTrackingStack.length}getCurrRuleFullName(){let e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),i_)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class oy{initErrorHandler(e){this._errors=[],this.errorMessageProvider=rY(e,"errorMessageProvider")?e.errorMessageProvider:oP.errorMessageProvider}SAVE_ERROR(e){if(i8(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:rn(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return rn(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,t,r){let n=this.getCurrRuleFullName(),i=iY(e,this.getGAstProductions()[n],t,this.maxLookahead)[0],o=[];for(let e=1;e<=this.maxLookahead;e++)o.push(this.LA(e));let s=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:i,actual:o,previous:this.LA(0),customUserDescription:r,ruleName:n});throw this.SAVE_ERROR(new or(s,this.LA(1),this.LA(0)))}raiseNoAltException(e,t){let r=this.getCurrRuleFullName(),n=iV(e,this.getGAstProductions()[r],this.maxLookahead),i=[];for(let e=1;e<=this.maxLookahead;e++)i.push(this.LA(e));let o=this.LA(0),s=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:n,actual:i,previous:o,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new oe(s,this.LA(1),o))}}class oR{initContentAssist(){}computeContentAssist(e,t){let r=this.gastProductionsCache[e];if(r5(r))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return iD([r],t,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){let t=rB(e.ruleStack);return new ib(this.getGAstProductions()[t],e).startWalking()}}let ov={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(ov);let oI=iI({name:"RECORDING_PHASE_TOKEN",pattern:ih.NA});is([oI]);let o_=iO(oI,"This IToken indicates the Parser is in Recording Phase\n	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(o_);let oO={name:"This CSTNode indicates the Parser is in Recording Phase\n	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}};class oN{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){let t=e>0?e:"";this[`CONSUME${t}`]=function(t,r){return this.consumeInternalRecord(t,e,r)},this[`SUBRULE${t}`]=function(t,r){return this.subruleInternalRecord(t,e,r)},this[`OPTION${t}`]=function(t){return this.optionInternalRecord(t,e)},this[`OR${t}`]=function(t){return this.orInternalRecord(t,e)},this[`MANY${t}`]=function(t){this.manyInternalRecord(e,t)},this[`MANY_SEP${t}`]=function(t){this.manySepFirstInternalRecord(e,t)},this[`AT_LEAST_ONE${t}`]=function(t){this.atLeastOneInternalRecord(e,t)},this[`AT_LEAST_ONE_SEP${t}`]=function(t){this.atLeastOneSepFirstInternalRecord(e,t)}}this.consume=function(e,t,r){return this.consumeInternalRecord(t,e,r)},this.subrule=function(e,t,r){return this.subruleInternalRecord(t,e,r)},this.option=function(e,t){return this.optionInternalRecord(t,e)},this.or=function(e,t){return this.orInternalRecord(t,e)},this.many=function(e,t){this.manyInternalRecord(e,t)},this.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{for(let e=0;e<10;e++){let t=e>0?e:"";delete this[`CONSUME${t}`],delete this[`SUBRULE${t}`],delete this[`OPTION${t}`],delete this[`OR${t}`],delete this[`MANY${t}`],delete this[`MANY_SEP${t}`],delete this[`AT_LEAST_ONE${t}`],delete this[`AT_LEAST_ONE_SEP${t}`]}delete this.consume,delete this.subrule,delete this.option,delete this.or,delete this.many,delete this.atLeastOne,delete this.ACTION,delete this.BACKTRACK,delete this.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,t){return()=>!0}LA_RECORD(e){return oC}topLevelRuleRecord(e,t){try{let r=new nu({definition:[],name:e});return r.name=e,this.recordingProdStack.push(r),t.call(this),this.recordingProdStack.pop(),r}catch(e){if(!0!==e.KNOWN_RECORDER_ERROR)try{e.message=e.message+'\n	 This error was thrown during the "grammar recording phase" For more info see:\n	https://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch(e){}throw e}}optionInternalRecord(e,t){return oS.call(this,nd,e,t)}atLeastOneInternalRecord(e,t){oS.call(this,nf,t,e)}atLeastOneSepFirstInternalRecord(e,t){oS.call(this,np,t,e,!0)}manyInternalRecord(e,t){oS.call(this,nT,t,e)}manySepFirstInternalRecord(e,t){oS.call(this,nm,t,e,!0)}orInternalRecord(e,t){return ok.call(this,e,t)}subruleInternalRecord(e,t,r){if(ox(t),!e||!1===rY(e,"ruleName")){let r=Error(`<SUBRULE${oL(t)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw r.KNOWN_RECORDER_ERROR=!0,r}let n=rx(this.recordingProdStack),i=new nl({idx:t,nonTerminalName:e.ruleName,label:null==r?void 0:r.LABEL,referencedRule:void 0});return n.definition.push(i),this.outputCst?oO:ov}consumeInternalRecord(e,t,r){if(ox(t),!ia(e)){let r=Error(`<CONSUME${oL(t)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw r.KNOWN_RECORDER_ERROR=!0,r}let n=rx(this.recordingProdStack),i=new ng({idx:t,terminalType:e,label:null==r?void 0:r.LABEL});return n.definition.push(i),o_}}function oS(e,t,r,n=!1){ox(r);let i=rx(this.recordingProdStack),o=Y(t)?t:t.DEF,s=new e({definition:[],idx:r});return n&&(s.separator=t.SEP),rY(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(s),o.call(this),i.definition.push(s),this.recordingProdStack.pop(),ov}function ok(e,t){ox(t);let r=rx(this.recordingProdStack),n=!1===P(e),i=!1===n?e:e.DEF,o=new nE({definition:[],idx:t,ignoreAmbiguities:n&&!0===e.IGNORE_AMBIGUITIES});rY(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD);let s=nt(i,e=>Y(e.GATE));return o.hasPredicates=s,r.definition.push(o),rP(i,e=>{let t=new nh({definition:[]});o.definition.push(t),rY(e,"IGNORE_AMBIGUITIES")?t.ignoreAmbiguities=e.IGNORE_AMBIGUITIES:rY(e,"GATE")&&(t.ignoreAmbiguities=!0),this.recordingProdStack.push(t),e.ALT.call(this),this.recordingProdStack.pop()}),ov}function oL(e){return 0===e?"":`${e}`}function ox(e){if(e<0||e>255){let t=Error(`Invalid DSL Method idx value: <${e}>
	Idx value must be a none negative value smaller than 256`);throw t.KNOWN_RECORDER_ERROR=!0,t}}class ob{initPerformanceTracer(e){if(rY(e,"traceInitPerf")){let t=e.traceInitPerf,r="number"==typeof t;this.traceInitMaxIdent=r?t:1/0,this.traceInitPerf=r?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=oP.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,t){if(!0!==this.traceInitPerf)return t();{this.traceInitIndent++;let r=Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--> <${e}>`);let{time:n,value:i}=ns(t),o=n>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o(`${r}<-- <${e}> time: ${n}ms`),this.traceInitIndent--,i}}}let oC=iO(i_,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(oC);let oP=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:iN,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),oM=Object.freeze({recoveryValueFunc:()=>void 0,resyncEnabled:!0});(p=g||(g={}))[p.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",p[p.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",p[p.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",p[p.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",p[p.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",p[p.LEFT_RECURSION=5]="LEFT_RECURSION",p[p.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",p[p.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",p[p.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",p[p.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",p[p.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",p[p.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",p[p.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",p[p.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION";class ow{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;let t=this.className;this.TRACE_INIT("toFastProps",()=>{na(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),rP(this.definedRulesNames,e=>{let t;let r=this[e].originalGrammarAction;this.TRACE_INIT(`${e} Rule`,()=>{t=this.topLevelRuleRecord(e,r)}),this.gastProductionsCache[e]=t})}finally{this.disableRecording()}});let r=[];if(this.TRACE_INIT("Grammar Resolving",()=>{r=function(e){let t=rS(e,{errMsgProvider:iS}),r={};return rP(e.rules,e=>{r[e.name]=e}),function(e,t){let r=new iL(e,t);return r.resolveRefs(),r.errors}(r,t.errMsgProvider)}({rules:rq(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(r)}),this.TRACE_INIT("Grammar Validations",()=>{if(r2(r)&&!1===this.skipValidations){var e,n;let r=function(e,t,r,n){let i=rK(e,e=>(function(e,t){let r=new iJ;return e.accept(r),rG(rq(r9(rH(r.allProductions,iQ),e=>e.length>1)),r=>{let n=rB(r),i=t.buildDuplicateFoundError(e,r),o=nR(n),s={message:i,type:g.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:o,occurrence:n.idx},a=iZ(n);return a&&(s.parameter=a),s})})(e,r)),o=function(e,t,r){let n=[],i=rG(t,e=>e.name);return rP(e,e=>{let t=e.name;if(rZ(i,t)){let i=r.buildNamespaceConflictError(e);n.push({message:i,type:g.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:t})}}),n}(e,t,r),s=rK(e,e=>(function(e,t){let r=new i0;return e.accept(r),rK(r.alternations,r=>r.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:r}),type:g.TOO_MANY_ALTS,ruleName:e.name,occurrence:r.idx}]:[])})(e,r)),a=rK(e,t=>(function(e,t,r,n){let i=[];if(r4(t,(t,r)=>r.name===e.name?t+1:t,0)>1){let t=n.buildDuplicateRuleNameError({topLevelRule:e,grammarName:r});i.push({message:t,type:g.DUPLICATE_RULE_NAME,ruleName:e.name})}return i})(t,e,n,r));return i.concat(o,s,a)}((e=rS(e={rules:rq(this.gastProductionsCache),tokenTypes:rq(this.tokensMap),errMsgProvider:ik,grammarName:t},{errMsgProvider:ik})).rules,e.tokenTypes,e.errMsgProvider,e.grammarName),i=rG((n={lookaheadStrategy:this.lookaheadStrategy,rules:rq(this.gastProductionsCache),tokenTypes:rq(this.tokensMap),grammarName:t}).lookaheadStrategy.validate({rules:n.rules,tokenTypes:n.tokenTypes,grammarName:n.grammarName}),e=>Object.assign({type:g.CUSTOM_LOOKAHEAD_VALIDATION},e));this.definitionErrors=this.definitionErrors.concat(r,i)}}),r2(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{let e=function(e){let t={};return rP(e,e=>{e2(t,new nN(e).startWalking())}),t}(rq(this.gastProductionsCache));this.resyncFollows=e}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var e,t;null===(t=(e=this.lookaheadStrategy).initialize)||void 0===t||t.call(e,{rules:rq(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(rq(this.gastProductionsCache))})),!ow.DEFER_DEFINITION_ERRORS_HANDLING&&!r2(this.definitionErrors))throw e=rG(this.definitionErrors,e=>e.message),Error(`Parser Definition Errors detected:
 ${e.join("\n-------------------------------\n")}`)})}constructor(e,t){if(this.definitionErrors=[],this.selfAnalysisDone=!1,this.initErrorHandler(t),this.initLexerAdapter(),this.initLooksAhead(t),this.initRecognizerEngine(e,t),this.initRecoverable(t),this.initTreeBuilder(t),this.initContentAssist(),this.initGastRecorder(t),this.initPerformanceTracer(t),rY(t,"ignoredIssues"))throw Error("The <ignoredIssues> IParserConfig property has been deprecated.\n	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n	For further details.");this.skipValidations=rY(t,"skipValidations")?t.skipValidations:oP.skipValidations}}ow.DEFER_DEFINITION_ERRORS_HANDLING=!1,function(e,t){t.forEach(t=>{let r=t.prototype;Object.getOwnPropertyNames(r).forEach(n=>{if("constructor"===n)return;let i=Object.getOwnPropertyDescriptor(r,n);i&&(i.get||i.set)?Object.defineProperty(e.prototype,n,i):e.prototype[n]=t.prototype[n]})})}(ow,[os,ol,om,oE,oA,og,oy,oR,oN,ob]);class oU extends ow{constructor(e,t=oP){let r=rn(t);r.outputCst=!0,super(e,r)}}return{CstParser:oU,Lexer:ih,createToken:function(e){return iI(e)}}})()}}]);