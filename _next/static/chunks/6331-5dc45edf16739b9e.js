"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6331],{1392:function(e,t,n){n.d(t,{AR:function(){return p},Aw:function(){return a},o6:function(){return c},pT:function(){return d}});var r=n(3983),l=n(79614);function a(e,t){let n=0;for(let r=0;r<l.VU;++r)(0==r||e[r>>3]&1<<(7&r))&&(t[n++]=r);let r=n-1;for(;n<l.VU;)t[n++]=0;return r}function i(e,t,n,l,a){for(;n<e;)t=t<<8|(0,r._Q)(l,a),n+=8;return{l:t>>(n-=e)&(1<<e)-1,c:t,lc:n}}function u(e,t,n,l){return{c:e=e<<8|(0,r._Q)(n,l),lc:t+=8}}function o(e,t,n,r,l,a,i,o,f){if(e==t){if(r<8){let e=u(n,r,l,a);n=e.c,r=e.lc}let e=n>>(r-=8);if(e=new Uint8Array([e])[0],o.value+e>f)return null;let t=i[o.value-1];for(;e-- >0;)i[o.value++]=t}else{if(!(o.value<f))return null;i[o.value++]=e}return{c:n,lc:r}}let f=Array(59);function c(e,t,n,a,c,s){let h=n.value,w=(0,r.vA)(t,n),p=(0,r.vA)(t,n);n.value+=4;let d=(0,r.vA)(t,n);if(n.value+=4,w<0||w>=l.w8||p<0||p>=l.w8)throw Error("Wrong HUF_ENCSIZE");let y=Array(l.w8),b=Array(l.sd);!function(e){for(let t=0;t<l.sd;t++)e[t]={},e[t].len=0,e[t].lit=0,e[t].p=null}(b);let v=a-(n.value-h);if(!function(e,t,n,r,a,u){let o=0,c=0;for(;r<=a;r++){if(t.value-t.value>n)return;let f=i(6,o,c,e,t),s=f.l;if(o=f.c,c=f.lc,u[r]=s,s==l.nW){if(t.value-t.value>n)throw Error("Error in HufUnpackEncTable");let s=(f=i(8,o,c,e,t)).l+l.jV;if(o=f.c,c=f.lc,r+s>a+1)throw Error("Error in HufUnpackEncTable");for(;s--;)u[r++]=0;r--}else if(s>=l.Gu){let e=s-l.Gu+2;if(r+e>a+1)throw Error("Error in HufUnpackEncTable");for(;e--;)u[r++]=0;r--}}!function(e){for(let e=0;e<=58;++e)f[e]=0;for(let t=0;t<l.w8;++t)f[e[t]]+=1;let t=0;for(let e=58;e>0;--e){let n=t+f[e]>>1;f[e]=t,t=n}for(let t=0;t<l.w8;++t){let n=e[t];n>0&&(e[t]=n|f[n]++<<6)}}(u)}(e,n,v,w,p,y),d>8*(a-(n.value-h)))throw Error("Wrong hufUncompress");!function(e,t,n,r){for(;t<=n;t++){let n=e[t]>>6,a=63&e[t];if(n>>a)throw Error("Invalid table entry");if(a>l.zq){let e=r[n>>a-l.zq];if(e.len)throw Error("Invalid table entry");if(e.lit++,e.p){let t=e.p;e.p=Array(e.lit);for(let n=0;n<e.lit-1;++n)e.p[n]=t[n]}else e.p=[,];e.p[e.lit-1]=t}else if(a){let e=0;for(let i=1<<l.zq-a;i>0;i--){let i=r[(n<<l.zq-a)+e];if(i.len||i.p)throw Error("Invalid table entry");i.len=a,i.lit=t,e++}}}}(y,w,p,b),function(e,t,n,r,a,i,f,c,s){let h=0,w=0,p=Math.trunc(r.value+(a+7)/8);for(;r.value<p;){let a=u(h,w,n,r);for(h=a.c,w=a.lc;w>=l.zq;){let d=t[h>>w-l.zq&l.GX];if(d.len){w-=d.len;let e=o(d.lit,i,h,w,n,r,c,s,f);e&&(h=e.c,w=e.lc)}else{let t;if(!d.p)throw Error("hufDecode issues");for(t=0;t<d.lit;t++){let l=63&e[d.p[t]];for(;w<l&&r.value<p;)h=(a=u(h,w,n,r)).c,w=a.lc;if(w>=l&&e[d.p[t]]>>6==(h>>w-l&(1<<l)-1)){w-=l;let e=o(d.p[t],i,h,w,n,r,c,s,f);e&&(h=e.c,w=e.lc);break}}if(t==d.lit)throw Error("HufDecode issues")}}}let d=8-a&7;for(h>>=d,w-=d;w>0;){let e=t[h<<l.zq-w&l.GX];if(e.len){w-=e.len;let t=o(e.lit,i,h,w,n,r,c,s,f);t&&(h=t.c,w=t.lc)}else throw Error("HufDecode issues")}}(y,b,e,n,d,p,s,c,{value:0})}function s(e){let t=65535&e;return t>32767?t-65536:t}function h(e,t){let n=s(e),r=s(t),l=n+(1&r)+(r>>1);return{a:l,b:l-r}}function w(e,t){let n=65535&t,r=(65535&e)-(n>>1)&65535;return{a:n+r-32768&65535,b:r}}function p(e,t,n,r,l,a,i){let u,o;let f=i<16384,c=n>l?l:n,s=1;for(;s<=c;)s<<=1;for(s>>=1,u=s,s>>=1;s>=1;){let i,c,p,d;let y=(o=0)+a*(l-u),b=a*s,v=a*u,S=r*s,E=r*u;for(;o<=y;o+=v){let l=o,a=o+r*(n-u);for(;l<=a;l+=E){let n=l+S,r=l+b,a=r+S;if(f){let u=h(e[l+t],e[r+t]);i=u.a,p=u.b,c=(u=h(e[n+t],e[a+t])).a,d=u.b,u=h(i,c),e[l+t]=u.a,e[n+t]=u.b,u=h(p,d),e[r+t]=u.a,e[a+t]=u.b}else{let u=w(e[l+t],e[r+t]);i=u.a,p=u.b,c=(u=w(e[n+t],e[a+t])).a,d=u.b,u=w(i,c),e[l+t]=u.a,e[n+t]=u.b,u=w(p,d),e[r+t]=u.a,e[a+t]=u.b}}if(n&s){let n;let r=l+b;i=(n=f?h(e[l+t],e[r+t]):w(e[l+t],e[r+t])).a,e[r+t]=n.b,e[l+t]=i}}if(l&s){let l=o,a=o+r*(n-u);for(;l<=a;l+=E){let n;let r=l+S;i=(n=f?h(e[l+t],e[r+t]):w(e[l+t],e[r+t])).a,e[r+t]=n.b,e[l+t]=i}}u=s,s>>=1}return o}function d(e,t,n){for(let r=0;r<n;++r)t[r]=e[t[r]]}},49714:function(e,t,n){n.d(t,{GS:function(){return f},Ms:function(){return c},OK:function(){return u},Rj:function(){return o},St:function(){return s}});var r=n(1392),l=n(68940),a=n(3983),i=n(79614);function u(e){return new DataView(e.array.buffer,e.offset.value,e.size)}function o(e){let t=e.viewer.buffer.slice(e.offset.value,e.offset.value+e.size),n=new Uint8Array((0,l.U)(t)),r=new Uint8Array(n.length);return(0,a.bu)(n),(0,a.Lt)(n,r),new DataView(r.buffer)}function f(e){let t=e.array.slice(e.offset.value,e.offset.value+e.size),n=fflate.unzlibSync(t),r=new Uint8Array(n.length);return(0,a.bu)(n),(0,a.Lt)(n,r),new DataView(r.buffer)}function c(e){let t=e.array.slice(e.offset.value,e.offset.value+e.size),n=fflate.unzlibSync(t),r=e.lines*e.channels*e.width,l=1==e.type?new Uint16Array(r):new Uint32Array(r),a=0,i=0,u=[,,,,];for(let t=0;t<e.lines;t++)for(let t=0;t<e.channels;t++){let t=0;switch(e.type){case 1:u[0]=a,u[1]=u[0]+e.width,a=u[1]+e.width;for(let r=0;r<e.width;++r)t+=n[u[0]++]<<8|n[u[1]++],l[i]=t,i++;break;case 2:u[0]=a,u[1]=u[0]+e.width,u[2]=u[1]+e.width,a=u[2]+e.width;for(let r=0;r<e.width;++r)t+=n[u[0]++]<<24|n[u[1]++]<<16|n[u[2]++]<<8,l[i]=t,i++}}return new DataView(l.buffer)}function s(e){let t=e.viewer,n={value:e.offset.value},l=new Uint16Array(e.width*e.scanlineBlockSize*(e.channels*e.type)),u=new Uint8Array(i.EN),o=0,f=Array(e.channels);for(let t=0;t<e.channels;t++)f[t]={},f[t].start=o,f[t].end=f[t].start,f[t].nx=e.width,f[t].ny=e.lines,f[t].size=e.type,o+=f[t].nx*f[t].ny*f[t].size;let c=(0,a.cG)(t,n),s=(0,a.cG)(t,n);if(s>=i.EN)throw Error("Wrong PIZ_COMPRESSION BITMAP_SIZE");if(c<=s)for(let e=0;e<s-c+1;e++)u[e+c]=(0,a.zJ)(t,n);let h=new Uint16Array(i.VU),w=(0,r.Aw)(u,h),p=(0,a.vA)(t,n);(0,r.o6)(e.array,t,n,p,l,o);for(let t=0;t<e.channels;++t){let e=f[t];for(let n=0;n<f[t].size;++n)(0,r.AR)(l,e.start+n,e.nx,e.size,e.ny,e.nx*e.size,w)}(0,r.pT)(h,l,o);let d=0,y=new Uint8Array(l.buffer.byteLength);for(let t=0;t<e.lines;t++)for(let t=0;t<e.channels;t++){let e=f[t],n=e.nx*e.size,r=new Uint8Array(l.buffer,e.end*i.rc,n*i.rc);y.set(r,d),d+=n*i.rc,e.end+=n}return new DataView(y.buffer)}},68940:function(e,t,n){n.d(t,{U:function(){return r}});function r(e){let t=e.byteLength,n=[],r=0,l=new DataView(e);for(;t>0;){let e=l.getInt8(r++);if(e<0){let a=-e;t-=a+1;for(let e=0;e<a;e++)n.push(l.getUint8(r++))}else{t-=2;let a=l.getUint8(r++);for(let t=0;t<e+1;t++)n.push(a)}}return n}},89458:function(e,t,n){var r,l;n.d(t,{P:function(){return a},n:function(){return r}}),(l=r||(r={}))[l.Float=0]="Float",l[l.HalfFloat=1]="HalfFloat";class a{}a.DefaultOutputType=r.HalfFloat,a.FFLATEUrl="https://unpkg.com/fflate@0.8.2"},3983:function(e,t,n){n.d(t,{$0:function(){return S},Gy:function(){return v},H3:function(){return y},Lj:function(){return a},Lt:function(){return g},Vr:function(){return E},_Q:function(){return d},bu:function(){return A},cG:function(){return p},hc:function(){return b},j:function(){return c},vA:function(){return h},xk:function(){return s},zJ:function(){return w}});var r,l,a,i,u=n(65330),o=n(79614);(r=a||(a={}))[r.NO_COMPRESSION=0]="NO_COMPRESSION",r[r.RLE_COMPRESSION=1]="RLE_COMPRESSION",r[r.ZIPS_COMPRESSION=2]="ZIPS_COMPRESSION",r[r.ZIP_COMPRESSION=3]="ZIP_COMPRESSION",r[r.PIZ_COMPRESSION=4]="PIZ_COMPRESSION",r[r.PXR24_COMPRESSION=5]="PXR24_COMPRESSION",(l=i||(i={}))[l.INCREASING_Y=0]="INCREASING_Y",l[l.DECREASING_Y=1]="DECREASING_Y";let f=function(){let e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),l=new Uint32Array(512);for(let e=0;e<256;++e){let t=e-127;t<-27?(r[e]=0,r[256|e]=32768,l[e]=24,l[256|e]=24):t<-14?(r[e]=1024>>-t-14,r[256|e]=1024>>-t-14|32768,l[e]=-t-1,l[256|e]=-t-1):t<=15?(r[e]=t+15<<10,r[256|e]=t+15<<10|32768,l[e]=13,l[256|e]=13):t<128?(r[e]=31744,r[256|e]=64512,l[e]=24,l[256|e]=24):(r[e]=31744,r[256|e]=64512,l[e]=13,l[256|e]=13)}let a=new Uint32Array(2048),i=new Uint32Array(64),u=new Uint32Array(64);for(let e=1;e<1024;++e){let t=e<<13,n=0;for(;(8388608&t)==0;)t<<=1,n-=8388608;t&=-8388609,n+=947912704,a[e]=t|n}for(let e=1024;e<2048;++e)a[e]=939524096+(e-1024<<13);for(let e=1;e<31;++e)i[e]=e<<23;i[31]=1199570944,i[32]=2147483648;for(let e=33;e<63;++e)i[e]=2147483648+(e-32<<23);i[63]=3347054592;for(let e=1;e<64;++e)32!==e&&(u[e]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:l,mantissaTable:a,exponentTable:i,offsetTable:u}}();function c(e,t){let n=new Uint8Array(e),r=0;for(;0!=n[t.value+r];)r+=1;let l=new TextDecoder().decode(n.slice(t.value,t.value+r));return t.value=t.value+r+1,l}function s(e,t){let n=e.getInt32(t.value,!0);return t.value+=o.b7,n}function h(e,t){let n=e.getUint32(t.value,!0);return t.value+=o.b7,n}function w(e,t){let n=e.getUint8(t.value);return t.value+=o.bK,n}function p(e,t){let n=e.getUint16(t.value,!0);return t.value+=o.rc,n}function d(e,t){let n=e[t.value];return t.value+=o.bK,n}function y(e,t){let n;return"getBigInt64"in DataView.prototype?n=Number(e.getBigInt64(t.value,!0)):n=e.getUint32(t.value+4,!0)+Number(e.getUint32(t.value,!0)<<32),t.value+=o.C7,n}function b(e,t){let n=e.getFloat32(t.value,!0);return t.value+=o.qW,n}function v(e,t){return function(e){let t=(31744&e)>>10,n=1023&e;return(e>>15?-1:1)*(t?31===t?n?NaN:1/0:Math.pow(2,t-15)*(1+n/1024):n/1024*6103515625e-14)}(p(e,t))}function S(e,t){return function(e){if(Math.abs(e)>65504)throw Error("Value out of range.Consider using float instead of half-float.");e=(0,u.Clamp)(e,-65504,65504),f.floatView[0]=e;let t=f.uint32View[0],n=t>>23&511;return f.baseTable[n]+((8388607&t)>>f.shiftTable[n])}(b(e,t))}function E(e,t,n,r){switch(n){case"string":case"stringvector":case"iccProfile":return function(e,t,n){let r=new TextDecoder().decode(new Uint8Array(e).slice(t.value,t.value+n));return t.value=t.value+n,r}(e.buffer,t,r);case"chlist":return function(e,t,n){let r=t.value,l=[];for(;t.value<r+n-1;){let n=c(e.buffer,t),r=s(e,t),a=w(e,t);t.value+=3;let i=s(e,t),u=s(e,t);l.push({name:n,pixelType:r,pLinear:a,xSampling:i,ySampling:u})}return t.value+=1,l}(e,t,r);case"chromaticities":return function(e,t){let n=b(e,t),r=b(e,t),l=b(e,t),a=b(e,t),i=b(e,t);return{redX:n,redY:r,greenX:l,greenY:a,blueX:i,blueY:b(e,t),whiteX:b(e,t),whiteY:b(e,t)}}(e,t);case"compression":return w(e,t);case"box2i":return function(e,t){let n=s(e,t);return{xMin:n,yMin:s(e,t),xMax:s(e,t),yMax:s(e,t)}}(e,t);case"lineOrder":return i[w(e,t)];case"float":return b(e,t);case"v2f":return[b(e,t),b(e,t)];case"v3f":var l,a;return[b(l=e,a=t),b(l,a),b(l,a)];case"int":return s(e,t);case"rational":return[s(e,t),h(e,t)];case"timecode":return[h(e,t),h(e,t)];case"preview":return t.value+=r,"skipped";default:t.value+=r;return}}function A(e){for(let t=1;t<e.length;t++){let n=e[t-1]+e[t]-128;e[t]=n}}function g(e,t){let n=0,r=Math.floor((e.length+1)/2),l=0,a=e.length-1;for(;!(l>a)&&(t[l++]=e[n++],!(l>a));)t[l++]=e[r++]}},57859:function(e,t,n){n.d(t,{B:function(){return f},G:function(){return o}});var r=n(3983),l=n(49714),a=n(79614),i=n(4224),u=n(89458);async function o(e,t,n,o){let f={size:0,viewer:t,array:new Uint8Array(t.buffer),offset:n,width:e.dataWindow.xMax-e.dataWindow.xMin+1,height:e.dataWindow.yMax-e.dataWindow.yMin+1,channels:e.channels.length,channelLineOffsets:{},scanOrder:()=>0,bytesPerLine:0,outLineWidth:0,lines:0,scanlineBlockSize:0,inputSize:null,type:0,uncompress:null,getter:()=>0,format:5,outputChannels:0,decodeChannels:{},blockCount:null,byteArray:null,linearSpace:!1,textureType:0};switch(e.compression){case r.Lj.NO_COMPRESSION:f.lines=1,f.uncompress=l.OK;break;case r.Lj.RLE_COMPRESSION:f.lines=1,f.uncompress=l.Rj;break;case r.Lj.ZIPS_COMPRESSION:f.lines=1,f.uncompress=l.GS,await i.w1.LoadScriptAsync(u.P.FFLATEUrl);break;case r.Lj.ZIP_COMPRESSION:f.lines=16,f.uncompress=l.GS,await i.w1.LoadScriptAsync(u.P.FFLATEUrl);break;case r.Lj.PIZ_COMPRESSION:f.lines=32,f.uncompress=l.St;break;case r.Lj.PXR24_COMPRESSION:f.lines=16,f.uncompress=l.Ms,await i.w1.LoadScriptAsync(u.P.FFLATEUrl);break;default:throw Error(r.Lj[e.compression]+" is unsupported")}f.scanlineBlockSize=f.lines;let c={};for(let t of e.channels)switch(t.name){case"Y":case"R":case"G":case"B":case"A":c[t.name]=!0,f.type=t.pixelType}let s=!1;if(c.R&&c.G&&c.B)s=!c.A,f.outputChannels=4,f.decodeChannels={R:0,G:1,B:2,A:3};else if(c.Y)f.outputChannels=1,f.decodeChannels={Y:0};else throw Error("EXRLoader.parse: file contains unsupported data channels.");if(1===f.type)switch(o){case u.n.Float:f.getter=r.Gy,f.inputSize=a.rc;break;case u.n.HalfFloat:f.getter=r.cG,f.inputSize=a.rc}else if(2===f.type)switch(o){case u.n.Float:f.getter=r.hc,f.inputSize=a.qW;break;case u.n.HalfFloat:f.getter=r.$0,f.inputSize=a.qW}else throw Error("Unsupported pixelType "+f.type+" for "+e.compression);f.blockCount=f.height/f.scanlineBlockSize;for(let e=0;e<f.blockCount;e++)(0,r.H3)(t,n);let h=f.width*f.height*f.outputChannels;switch(o){case u.n.Float:f.byteArray=new Float32Array(h),f.textureType=1,s&&f.byteArray.fill(1,0,h);break;case u.n.HalfFloat:f.byteArray=new Uint16Array(h),f.textureType=2,s&&f.byteArray.fill(15360,0,h);break;default:throw Error("Unsupported type: "+o)}let w=0;for(let t of e.channels)void 0!==f.decodeChannels[t.name]&&(f.channelLineOffsets[t.name]=w*f.width),w+=2*t.pixelType;return f.bytesPerLine=f.width*w,f.outLineWidth=f.width*f.outputChannels,"INCREASING_Y"===e.lineOrder?f.scanOrder=e=>e:f.scanOrder=e=>f.height-1-e,4==f.outputChannels?(f.format=5,f.linearSpace=!0):(f.format=6,f.linearSpace=!1),f}function f(e,t,n,a){let i={value:0};for(let u=0;u<e.height/e.scanlineBlockSize;u++){let o=(0,r.xk)(n,a)-t.dataWindow.yMin;e.size=(0,r.vA)(n,a),e.lines=o+e.scanlineBlockSize>e.height?e.height-o:e.scanlineBlockSize;let f=e.size<e.lines*e.bytesPerLine&&e.uncompress?e.uncompress(e):(0,l.OK)(e);a.value+=e.size;for(let n=0;n<e.scanlineBlockSize;n++){let r=u*e.scanlineBlockSize,l=n+e.scanOrder(r);if(l>=e.height)continue;let a=n*e.bytesPerLine,o=(e.height-1-l)*e.outLineWidth;for(let n=0;n<e.channels;n++){let r=t.channels[n].name,l=e.channelLineOffsets[r],u=e.decodeChannels[r];if(void 0!==u){i.value=a+l;for(let t=0;t<e.width;t++){let n=o+t*e.outputChannels+u;e.byteArray&&(e.byteArray[n]=e.getter(f,i))}}}}}}},29990:function(e,t,n){n.d(t,{b:function(){return a}});var r=n(9719),l=n(3983);function a(e,t){if(20000630!=e.getUint32(0,!0))throw Error("Incorrect OpenEXR format");let n=e.getUint8(4),a=e.getUint8(5);t.value=8;let i={},u=!0;for(;u;){let n=(0,l.j)(e.buffer,t);if(n){let a=(0,l.j)(e.buffer,t),u=(0,l.vA)(e,t),o=(0,l.Vr)(e,t,a,u);void 0===o?r.Y.Warn(`Unknown header attribute type ${a}'.`):i[n]=o}else u=!1}if((-5&a)!=0)throw Error("Unsupported file format");return{version:n,spec:{singleTile:!!(2&a),longName:!!(4&a),deepFormat:!!(8&a),multiPart:!!(16&a)},...i}}},79614:function(e,t,n){n.d(t,{C7:function(){return u},EN:function(){return f},GX:function(){return w},Gu:function(){return p},VU:function(){return o},b7:function(){return r},bK:function(){return a},jV:function(){return y},nW:function(){return d},qW:function(){return l},rc:function(){return i},sd:function(){return h},w8:function(){return s},zq:function(){return c}});let r=4,l=4,a=1,i=2,u=8,o=65536,f=8192,c=14,s=65537,h=16384,w=16383,p=59,d=63,y=6},57301:function(e,t,n){n.r(t),n.d(t,{_ExrTextureLoader:function(){return i}});var r=n(29990),l=n(57859),a=n(89458);class i{constructor(){this.supportCascades=!1}loadCubeData(e,t,n,r,l){throw".exr not supported in Cube."}async loadData(e,t,n){let i=new DataView(e.buffer),u={value:0},o=(0,r.b)(i,u),f=await (0,l.G)(o,i,u,a.P.DefaultOutputType);(0,l.B)(f,o,i,u),n(o.dataWindow.xMax-o.dataWindow.xMin+1,o.dataWindow.yMax-o.dataWindow.yMin+1,t.generateMipMaps,!1,()=>{let e=t.getEngine();t.format=o.format,t.type=f.textureType,t.invertY=!1,t._gammaSpace=!o.linearSpace,f.byteArray&&e._uploadDataToTextureDirectly(t,f.byteArray,0,0,void 0,!0)})}}}}]);