(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2586],{90128:function(e,t,n){Promise.resolve().then(n.bind(n,81523)),Promise.resolve().then(n.bind(n,70049)),Promise.resolve().then(n.bind(n,54883)),Promise.resolve().then(n.t.bind(n,1280,23)),Promise.resolve().then(n.t.bind(n,20123,23))},36510:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return CalculatorApp}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(57437),_react_three_uikit__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(52188),_GUI_GUIApp__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(17852),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2265),_Hooks_useTheme__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(27280);let buttons=[["7","8","9"],["4","5","6"],["1","2","3"],["=","0","."],["+","-","/"],["C","<"]];function Calculator(){let[display,setDisplay]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(""),handleClick=value=>{if("<"==value){setDisplay(display.substring(0,display.length-1));return}if("C"===value)setDisplay("");else if("="===value)try{let result=eval(display);setDisplay(result.toString())}catch(error){setDisplay("Error")}else setDisplay(display+value)},{primary,primaryBright}=(0,_Hooks_useTheme__WEBPACK_IMPORTED_MODULE_4__.F)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_react_three_uikit__WEBPACK_IMPORTED_MODULE_1__.W2,{backgroundColor:"black",width:"100%",height:"100%",padding:1,alignItems:"center",justifyContent:"center",flexDirection:"column",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_three_uikit__WEBPACK_IMPORTED_MODULE_1__.W2,{width:"100%",height:"auto",justifyContent:"center",alignItems:"center",flexDirection:"row",marginTop:15,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_three_uikit__WEBPACK_IMPORTED_MODULE_1__.xv,{fontSize:14,color:primary,textAlign:"center",children:display||"0"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_three_uikit__WEBPACK_IMPORTED_MODULE_1__.W2,{width:"100%",height:"auto",margin:"auto",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column",children:buttons.map((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_three_uikit__WEBPACK_IMPORTED_MODULE_1__.W2,{width:"100%",height:"auto",flexDirection:"row",justifyContent:"center",alignItems:"center",children:e.map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_three_uikit__WEBPACK_IMPORTED_MODULE_1__.W2,{width:"100%",height:"100%",onClick:()=>handleClick(e),flexDirection:"column",justifyContent:"center",alignItems:"center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_three_uikit__WEBPACK_IMPORTED_MODULE_1__.xv,{fontSize:10,color:primary,children:e})},t))},e.toString()))})]})}function CalculatorApp(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_GUI_GUIApp__WEBPACK_IMPORTED_MODULE_2__.Z,{appId:"calculator",getApp:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Calculator,{}),size:[100,130]})})}},17852:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(57437),o=n(2265),i=n(42488);function s(e){return(0,o.useEffect)(()=>{i.k.apps.set(e.appId,new i.q({size:e.size},e.getApp))},[]),(0,r.jsx)(r.Fragment,{})}},42488:function(e,t,n){"use strict";n.d(t,{k:function(){return s},q:function(){return i}});var r=n(85611),o=n(79290);class i{constructor(e,t){this.data=e,this.comp=t}}class s{static openApp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.deployAppObserver.notify({appId:e,id:crypto.randomUUID(),data:t})}static closeApp(e){this.closeAppObserver.notify({id:e})}static createCurve(){{let e=s.backPanelCurvePoints.map(e=>{let[t,n,r]=e;return new o.Vector3(t,n,r)}),t=new o.CatmullRomCurve3(e,!1,"catmullrom");this.backPanelCurve=t}{let e=s.guiCurvePoints.map(e=>{let[t,n,r]=e;return new o.Vector3(t,n,r)}),t=new o.CatmullRomCurve3(e,!1,"catmullrom");this.guiCurve=t}}static getTangentVector2D(e,t){let n=e.x,r=e.z,i=t.x,s=t.z,a=new o.Vector3(i-n,0,s-r);return a.normalize(),new o.Vector3(-a.z,0,a.x).normalize()}static findClosestPointsAndInterpolatedPoint(e){let t=100,n=1/0,r=1/0,i=null,s=null,a=0,l=0;for(let c=0;c<=t;c++){let d=c/t,u=this.guiCurve.getPoint(d),p=u.add(new o.Vector3(...this.guiPosition)).distanceTo(e);p<n?(r=n,s=i,l=a,n=p,i=u,a=d):p<r&&(r=p,s=u,l=d)}if(!i||!s)return null;a>l&&([i,s]=[s,i],[a,l]=[l,a]);let c=(a+l)/2,d=this.guiCurve.getPoint(c),u=this.getTangentVector2D(this.guiCurve.getPoint(c),this.guiCurve.getTangent(l));return{closestPoint1:i.clone(),closestPoint2:s.clone(),interpolatedPoint:d.clone().add(new o.Vector3(...this.guiPosition)),interpolatedTangent:u.clone()}}static getPlacePointOnCurve(e,t,n){n-=.2;let r=this.findClosestPointsAndInterpolatedPoint(new o.Vector3(e,0,n));if(!r)return;let i=new o.Vector3(r.interpolatedPoint.x,0,r.interpolatedPoint.z),s=this.getTangentVector2D(r.interpolatedPoint,r.closestPoint2),a=new o.Matrix4;a.lookAt(i.clone().add(s).multiply(new o.Vector3(1,1,1)),i,new o.Vector3(0,1,0));let l=new o.Quaternion;return a.decompose(new o.Vector3,l,new o.Vector3),i.z+=.1,{position:i.toArray(),rotation:l.toArray()}}}s.deployAppObserver=new r.y,s.closeAppObserver=new r.y,s.apps=new Map,s.pixelSize=.002,s.guiPosition=[0,2,138.9],s.backPanelCurvePoints=[[-1,0,.1],[0,0,-.5],[1,0,.1]],s.guiCurvePoints=[[-1,0,.1],[0,0,-.1],[1,0,.1]],s.createCurve()},27280:function(e,t,n){"use strict";n.d(t,{F:function(){return l},f:function(){return c}});var r=n(57437),o=n(85611),i=n(2265);let s=(0,i.createContext)({primary:"#0d5c9e",primaryBright:"#0d5c9e"}),a=new o.y,l=Object.assign(()=>(0,i.useContext)(s),{updateThemeObserver:a,updateTheme(e){a.notify(e)}}),c=e=>{let{children:t}=e,[n,o]=(0,i.useState)({primary:"#0d5c9e",primaryBright:"#0d5c9e"});return(0,i.useEffect)(()=>{a.subscribe(e=>o(t=>({...t,...e})))},[]),console.warn("new theme",n),(0,r.jsx)(s.Provider,{value:n,children:t})}},54883:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return J}});var r=n(57437),o=n(2265),i=n(89674),s=n(77805),a=n(88318),l=n(97226),c=n(39664),d=n(7610),u=n(79290),p=n(27280);function h(e,t,n){let r=Math.max(0,Math.min(1,(n-e)/(t-e)));return r*r*(3-2*r)}function m(){let{scene:e}=(0,c.D)(),{primary:t}=(0,p.F)(),n=(0,o.useRef)(null);(0,c.F)(()=>{n.current&&(n.current.material.uniforms.time.value+=.01)});let i=(0,o.useMemo)(()=>{let e=100,t=(0,d.zz)(),n=new u.PlaneGeometry(600,300,e,e),[r,o]=[0,0],i=n.attributes.position;for(let e=0;e<i.count;e++){let n=i.getX(e),s=i.getY(e),a=s+300*o,l=100,c=Math.abs((o-s)/100),d=Math.abs(t((n+600*r+1e4)*.02,(a+1e5)*.02,0))/2*(l+(s<0?2*Math.abs(0-s):0)+c)*1;if(s>0){let t=h(0,1,Math.abs(n)/150);i.setZ(e,d*t)}else{let t=Math.abs(s)/150,r=h(0,1,Math.abs(n)/150),o=h(0,1,t);i.setZ(e,(d*r+d*o)/2)}}return i.needsUpdate=!0,n},[]),s=(0,o.useMemo)(()=>{let n=new u.Color(0),r=2e-4,o="\n      varying vec2 vUv;\n      varying float vDistance;\n\n\n      void main() {\n        vUv = uv;\n        vec3 pos = position;\n        \n        // Compute view space position\n        vec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n        vDistance = length(mvPosition.xyz);\n      \n        gl_Position = projectionMatrix * mvPosition;\n      }\n    ",i="\n      varying vec2 vUv;\n      varying float vDistance;\n\n      uniform vec3 color;\n      uniform float lineWidth;\n      uniform float glowIntensity;\n      uniform vec3 fogColor;\n      uniform float fogDensity;\n\n      void main() {\n        // Create grid lines\n        float gridX = abs(fract(vUv.x * 100.0 - 0.5) - 0.5) / fwidth(vUv.x * 100.0);\n        float gridY = abs(fract(vUv.y * 100.0 - 0.5) - 0.5) / fwidth(vUv.y * 100.0);\n        float grid = min(gridX, gridY);\n\n        // Create a glowing effect with pulsating intensity\n        float glow = pow(grid, glowIntensity) * (0.5 + 0.5 * 0.01); // The 0.01 can be adjusted or animated\n\n        // Combine base color with glow\n        vec3 finalColor;\n        if(glow > 0.4) {\n          finalColor = vec3(0.0, 0.0, 0.0);\n        } else {\n          finalColor = color;\n        }\n\n        // Compute exponential fog factor\n        float fogFactor = 1.0 - exp(-fogDensity * vDistance);\n        fogFactor = clamp(fogFactor, 0.0, 1.0);\n\n        // Mix the grid color with the fog color based on the fog factor\n        finalColor = mix(finalColor, fogColor, fogFactor);\n\n        gl_FragColor = vec4(finalColor, 1.0);\n      }\n    ",s=new u.ShaderMaterial({vertexShader:o,fragmentShader:i,uniforms:{color:{value:new u.Color(t)},lineWidth:{value:.02},glowIntensity:{value:2},fogColor:{value:n},fogDensity:{value:r}},transparent:!1,side:u.DoubleSide});return e.fog=new u.FogExp2(n,r),s},[]);return(0,o.useEffect)(()=>(p.F.updateThemeObserver.subscribe(i,e=>{s.uniforms.color.value.copy(new u.Color(e.primary))}),()=>{p.F.updateThemeObserver.unsubscribe(i)}),[e]),(0,r.jsxs)("mesh",{renderOrder:-3,rotation:[Math.PI/2,Math.PI,0],position:[0,0,100],children:[(0,r.jsx)("primitive",{object:i}),(0,r.jsx)("primitive",{object:s})]})}var f=n(30976),g=n(52188),x=n(23761),y=n(17852),j=n(42488);function w(){let[e,t]=(0,o.useState)(!1);return{hovered:e,props:{onPointerEnter:()=>{t(!0)},onPointerLeave:()=>{t(!1)}}}}function v(){let{hovered:e,props:t}=w(),{hovered:n,props:i}=w(),{hovered:s,props:a}=w(),{hovered:l,props:c}=w(),{primary:d,primaryBright:u}=(0,p.F)();return(0,r.jsxs)(g.W2,{backgroundColor:"black",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[(0,r.jsxs)(g.W2,{backgroundColor:"black",alignItems:"center",justifyContent:"center",flexDirection:"row",children:[(0,r.jsx)(x.ygi,{color:e?u:d,...t,width:30,height:30,onClick:e=>{e.stopPropagation(),j.k.openApp("calculator")}}),(0,r.jsx)(x.gt0,{color:n?u:d,...i,width:30,height:30,onClick:e=>{e.stopPropagation(),j.k.openApp("file-explorer")}})]}),(0,r.jsx)(g.W2,{backgroundColor:"black",alignItems:"center",justifyContent:"center",flexDirection:"row",children:(0,r.jsxs)(o.Suspense,{children:[(0,r.jsx)(x.SUY,{color:s?u:d,...a,width:30,height:30,onClick:e=>{e.stopPropagation(),j.k.openApp("clock")}}),(0,r.jsx)(x.Oz3,{color:l?u:d,...c,width:30,height:30,onClick:e=>{e.stopPropagation(),j.k.openApp("settings")}})]})})]})}function b(){return console.warn("mounted explorer"),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(y.Z,{appId:"explorer",getApp:()=>(0,r.jsx)(v,{}),size:[100,100]})})}function I(){let e=j.k.backPanelCurve,{primary:t,primaryBright:n}=(0,p.F)(),i=(0,o.useMemo)(()=>{let t=new u.PlaneGeometry(2,1,4,10),n=t.attributes.position;for(let t=0;t<n.count;t++){let r=n.getX(t);n.getY(t);let o=2*e.getPoint(Math.abs(r)/15).z;n.setZ(t,-o)}return n.needsUpdate=!0,t.computeVertexNormals(),t},[e]),s=(0,o.useMemo)(()=>{let e=i.attributes.position,t=[];for(let n=0;n<e.count;n++){let r=e.getX(n),o=e.getY(n);if(1===Math.abs(r)||.5===Math.abs(o)){let i=e.getZ(n);t.push(new u.Vector3(r,o,i))}}return t.sort((e,t)=>Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x)),t},[i]),a=(0,o.useMemo)(()=>s.length<2?new u.CatmullRomCurve3([new u.Vector3(-1,-.5,0),new u.Vector3(1,-.5,0),new u.Vector3(1,.5,0),new u.Vector3(-1,.5,0),new u.Vector3(-1,-.5,0)]):new u.CatmullRomCurve3(s,!0),[s]),l=(0,o.useMemo)(()=>{let e=200,t=.01,n=8,r=!0;return new u.TubeGeometry(a,e,t,n,r)},[a]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("mesh",{geometry:i,position:j.k.guiPosition,rotation:[0,0,0],receiveShadow:!0,castShadow:!0,renderOrder:-2,children:(0,r.jsx)("meshStandardMaterial",{color:"black",side:u.DoubleSide,metalness:1,roughness:0,transparent:!0,opacity:.9})}),(0,r.jsx)("mesh",{geometry:l,position:j.k.guiPosition,rotation:[0,0,0],castShadow:!0,receiveShadow:!0,renderOrder:-2,children:(0,r.jsx)("meshStandardMaterial",{color:"#fff",side:u.DoubleSide,metalness:.5,roughness:.1,emissiveIntensity:10,emissive:t})})]})}var C=n(85611);let S=e=>{let{width:t,height:n,hoverObserver:i,onPointerDown:s,onPointerUp:a,onPointerMove:l}=e,{primary:c,primaryBright:d}=(0,p.F)(),[h,m]=(0,o.useState)(!1),f=(0,o.useMemo)(()=>{let e=t/2+.005,r=n/2+.005,o=new u.CurvePath;return o.add(new u.LineCurve3(new u.Vector3(-e,-r,0),new u.Vector3(e,-r,0))),o.add(new u.LineCurve3(new u.Vector3(e,-r,0),new u.Vector3(e,r,0))),o.add(new u.LineCurve3(new u.Vector3(e,r,0),new u.Vector3(-e,r,0))),o.add(new u.LineCurve3(new u.Vector3(-e,r,0),new u.Vector3(-e,-r,0))),o},[t,n]);return(0,o.useEffect)(()=>{let e=e=>{m(e)};return i.subscribe(S,e),()=>{i.unsubscribe(S)}},[i]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("mesh",{position:[0,0,.01],onPointerDown:s,onPointerUp:a,onPointerMove:l,renderOrder:0,children:[(0,r.jsx)("meshStandardMaterial",{color:h?"#000":"#121212",emissive:h?c:"#000",emissiveIntensity:h?8:1}),(0,r.jsx)("tubeGeometry",{args:[f,void 0,.01,void 0,!0]})]})})};function D(e){let t=(0,o.useRef)(null),n=(0,o.useRef)({dragging:new C.y}),i=(0,o.useRef)(null),s=(0,o.useRef)({intro:!0,outro:!1,introTime:1e3});(0,c.F)(()=>{s.current.intro&&(t.current.scale.x+=.05,t.current.scale.y+=.05,t.current.scale.z+=.05,t.current.scale.x>1&&(s.current.intro=!1,t.current.scale.x=1,t.current.scale.y=1,t.current.scale.z=1)),s.current.outro&&(t.current.scale.x-=.05,t.current.scale.y-=.05,t.current.scale.z-=.05,t.current.scale.x<=0&&(t.current.scale.x=0,t.current.scale.y=0,t.current.scale.z=0,j.k.closeApp(e.id)))}),(0,o.useEffect)(()=>{if(!t.current)return},[]);let a=e=>{if(null!=t.current&&null==i.current){if(e.stopPropagation(),2===e.button){s.current.outro=!0;return}n.current.dragging.notify(!0),e.target.setPointerCapture(e.pointerId);let r=new u.Vector2(e.clientX,e.clientY),o=t.current.position.clone();i.current={pointerId:e.pointerId,initialMouse:r,initialPosition:o}}},l=e=>{var t;(null===(t=i.current)||void 0===t?void 0:t.pointerId)===e.pointerId&&(i.current=null,n.current.dragging.notify(!1))},d=e=>{if(null==t.current||null==i.current||e.pointerId!==i.current.pointerId)return;e.stopPropagation();let n=e.clientX-i.current.initialMouse.x,r=e.clientY-i.current.initialMouse.y;i.current.initialMouse.set(e.clientX,e.clientY);let o=.001;t.current.position.x+=n*o,t.current.position.y-=r*o,t.current.position.x=Math.min(Math.max(t.current.position.x,-.8),.8),t.current.position.y=Math.min(Math.max(t.current.position.y,1),3);let s=j.k.getPlacePointOnCurve(...t.current.getWorldPosition(new u.Vector3).toArray());s&&(t.current.position.set(s.position[0],t.current.position.y,s.position[2]+.1),t.current.rotation.setFromQuaternion(new u.Quaternion(...s.rotation)))},{primary:h,primaryBright:m}=(0,p.F)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("group",{scale:[0,0,0],position:[j.k.guiPosition[0]+e.position[0],j.k.guiPosition[1]+e.position[1],j.k.guiPosition[2]],ref:t,onPointerEnter:()=>{},onPointerLeave:()=>{},children:[(0,r.jsx)(g.fC,{pixelSize:j.k.pixelSize,sizeX:j.k.pixelSize*e.size[0],sizeY:j.k.pixelSize*e.size[1],transformTranslateZ:.2,overflow:"hidden",renderOrder:1,children:e.children}),(0,r.jsx)(S,{width:j.k.pixelSize*e.size[0],height:j.k.pixelSize*e.size[1],hoverObserver:n.current.dragging,onPointerDown:a,onPointerUp:l,onPointerMove:d}),(0,r.jsxs)("mesh",{position:[.02,-.02,-.02],renderOrder:-1,children:[(0,r.jsx)("meshStandardMaterial",{color:h,transparent:!0,opacity:.2}),(0,r.jsx)("planeGeometry",{args:[j.k.pixelSize*e.size[0]*1.1,j.k.pixelSize*e.size[1]*1.1]})]})]})})}var M=n(36510),P=n(50270);let U=e=>{let{}=e,t=(0,o.useRef)(null),n=(0,o.useRef)(null),{camera:i,size:s}=(0,c.D)(),{primary:a}=(0,p.F)();console.error(a);let[l,d]=(0,o.useState)(360*new u.Color(a).getHSL({h:0,s:0,l:0}).h);console.error(l);let h=1,m=e=>{let t=e/360*Math.PI*2-Math.PI/2;return[h*Math.cos(t),h*Math.sin(t),.1]};(0,o.useEffect)(()=>{if(n.current){let e=m(l);n.current.position.set(...e)}},[l,h]);let f=(0,P.useDrag)(e=>{let{xy:[t,n]}=e,r=new u.Vector2(t/s.width*2-1,-(n/s.height*2)+1),o=new u.Raycaster;o.setFromCamera(r,i);let a=new u.Plane(new u.Vector3(0,0,1),0),l=new u.Vector3;if(o.ray.intersectPlane(a,l),l){let e=180*(Math.atan2(l.y,l.x)+Math.PI/2)/Math.PI;e<0&&(e+=360),d(e%360),p.F.updateTheme({primary:"#"+new u.Color("hsl(".concat(e,", 85%, 34%)")).getHexString(),primaryBright:"#"+new u.Color("hsl(".concat(e,", 100%, 34%)")).getHexString()})}},{pointerButtons:{LEFT:0}}),g=(0,o.useMemo)(()=>{let e=512,t=document.createElement("canvas");t.width=e,t.height=e;let n=t.getContext("2d");if(!n)throw Error("Could not get 2d context");let r=n.createImageData(e,e),o=r.data,i=e/2,s=i-10;for(let t=0;t<e;t++)for(let n=0;n<e;n++){let r=n-i,a=t-i,l=Math.sqrt(r*r+a*a);if(l>=s&&l<=s+20){let i=Math.atan2(a,r)+Math.PI/2;i<0&&(i+=2*Math.PI);let s=180*i/Math.PI,l=new u.Color("hsl(".concat(s,", 100%, 80%)")),c=(t*e+n)*4;o[c]=Math.floor(255*l.r),o[c+1]=Math.floor(255*l.g),o[c+2]=Math.floor(255*l.b),o[c+3]=255}}n.putImageData(r,0,0);let a=new u.CanvasTexture(t);return a.wrapS=u.ClampToEdgeWrapping,a.wrapT=u.ClampToEdgeWrapping,a.needsUpdate=!0,a},[h]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("mesh",{ref:t,rotation:[0,-Math.PI,-Math.PI],children:[(0,r.jsx)("ringGeometry",{args:[h,h+.05,64,8,0,2*Math.PI]}),(0,r.jsx)("meshBasicMaterial",{side:u.DoubleSide,map:g||void 0,color:g?void 0:"white",transparent:!g})]}),(0,r.jsxs)("mesh",{ref:n,position:[0,0,0],children:[(0,r.jsx)("circleGeometry",{args:[.4*h,32]}),(0,r.jsx)("meshStandardMaterial",{color:"hsl(".concat(l,", 85%, 34%)"),emissive:"hsl(".concat(l,", 85%, 34%)"),emissiveIntensity:10})]}),(0,r.jsxs)("mesh",{ref:n,...f(),position:m(l),children:[(0,r.jsx)("sphereGeometry",{args:[.1*h,32]}),(0,r.jsx)("meshStandardMaterial",{color:"hsl(".concat(l,", 85%, 34%)"),emissive:"hsl(".concat(l,", 85%, 34%)"),emissiveIntensity:10})]})]})};function k(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(g.W2,{backgroundColor:"black",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",children:(0,r.jsxs)(g.VY,{width:"100%",height:"100%",children:[(0,r.jsxs)("mesh",{position:[0,0,.3],children:[(0,r.jsx)("sphereGeometry",{args:[.6,8,8]}),(0,r.jsx)("meshStandardMaterial",{transparent:!0,opacity:0})]}),(0,r.jsx)("group",{scale:[.5,.5,.5],position:[0,0,.1],children:(0,r.jsx)(U,{})})]})})})}function F(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(y.Z,{appId:"settings",getApp:()=>(0,r.jsx)(k,{}),size:[100,100]})})}function z(){V.root.children=[{id:crypto.randomUUID(),type:"directory",icon:"folder",name:"Images",data:null,children:[{id:crypto.randomUUID(),type:"file",icon:"folder",name:"DVE Foundation",data:{type:"image",source:"/images/portfolio/libraries/DivineVoxelEngineFoundation/banner.jpg"}},{id:crypto.randomUUID(),type:"file",icon:"folder",name:"DVE Magic",data:{type:"image",source:"/images/portfolio/libraries/DivineVoxelEngineMagic/banner.jpg"}},{id:crypto.randomUUID(),type:"file",icon:"folder",name:"Infinite Forest",data:{type:"image",source:"/images/portfolio/demos/InfiniteForest/banner.jpg"}},{id:crypto.randomUUID(),type:"file",icon:"folder",name:"Retro Tile",data:{type:"image",source:"/images/portfolio/demos/RetroGame/banner.jpg"}},{id:crypto.randomUUID(),type:"file",icon:"folder",name:"Retro Grid",data:{type:"image",source:"/images/portfolio/demos/RetroGrid/banner.jpg"}},{id:crypto.randomUUID(),type:"file",icon:"folder",name:"Blaster",data:{type:"image",source:"/images/portfolio/games/BotanicalBlaster/banner.jpg"}},{id:crypto.randomUUID(),type:"file",icon:"folder",name:"Burst",data:{type:"image",source:"/images/portfolio/demos/GithubUsers/banner.jpg"}},{id:crypto.randomUUID(),type:"file",icon:"folder",name:"Crystalline",data:{type:"image",source:"/images/portfolio/games/CrystallineBliss/banner.jpg"}}]},{id:crypto.randomUUID(),type:"directory",icon:"folder",name:"Documents",data:null,children:[]},{id:crypto.randomUUID(),type:"directory",icon:"folder",name:"Audio",data:null,children:[]},{id:crypto.randomUUID(),type:"directory",icon:"folder",name:"3d Models",data:null,children:[{id:crypto.randomUUID(),type:"file",icon:"folder",name:"Tree 1",data:{type:"model",source:"/assets/InfiniteForest/trees/1.gltf"}},{id:crypto.randomUUID(),type:"file",icon:"folder",name:"Tree 2",data:{type:"model",source:"/assets/InfiniteForest/trees/2.gltf"}},{id:crypto.randomUUID(),type:"file",icon:"folder",name:"Tree 2",data:{type:"model",source:"/assets/InfiniteForest/trees/3.gltf"}},{id:crypto.randomUUID(),type:"file",icon:"folder",name:"Tree 2",data:{type:"model",source:"/assets/InfiniteForest/trees/4.gltf"}},{id:crypto.randomUUID(),type:"file",icon:"folder",name:"Abstract Model 1",data:{type:"model",source:"/assets/SpatialGUI/Models/abstract-model-1.glb"}},{id:crypto.randomUUID(),type:"file",icon:"folder",name:"Abstract Model 2",data:{type:"model",source:"/assets/SpatialGUI/Models/abstract-model-2.glb"}},{id:crypto.randomUUID(),type:"file",icon:"folder",name:"Abstract Model 3",data:{type:"model",source:"/assets/SpatialGUI/Models/abstract-model-3.glb"}},{id:crypto.randomUUID(),type:"file",icon:"folder",name:"Abstract Model 4",data:{type:"model",source:"/assets/SpatialGUI/Models/abstract-model-4.glb"}}]},{id:crypto.randomUUID(),type:"directory",icon:"folder",name:"Videos",data:null,children:[{id:crypto.randomUUID(),type:"file",icon:"folder",name:"SDF Shader 1",data:{type:"video",source:"/assets/SpatialGUI/Videos/1.webm",posterSource:"/assets/SpatialGUI/Videos/1.webp"}},{id:crypto.randomUUID(),type:"file",icon:"folder",name:"SDF Shader 2",data:{type:"video",source:"/assets/SpatialGUI/Videos/2.webm",posterSource:"/assets/SpatialGUI/Videos/2.webp"}},{id:crypto.randomUUID(),type:"file",icon:"folder",name:"SDF Shader 3",data:{type:"video",source:"/assets/SpatialGUI/Videos/3.webm",posterSource:"/assets/SpatialGUI/Videos/3.webp"}},{id:crypto.randomUUID(),type:"file",icon:"folder",name:"SDF Shader 4",data:{type:"video",source:"/assets/SpatialGUI/Videos/4.webm",posterSource:"/assets/SpatialGUI/Videos/4.webp"}},{id:crypto.randomUUID(),type:"file",icon:"folder",name:"SDF Shader 5",data:{type:"video",source:"/assets/SpatialGUI/Videos/5.webm",posterSource:"/assets/SpatialGUI/Videos/5.webp"}},{id:crypto.randomUUID(),type:"file",icon:"folder",name:"SDF Shader 6",data:{type:"video",source:"/assets/SpatialGUI/Videos/6.webm",posterSource:"/assets/SpatialGUI/Videos/6.webp"}},{id:crypto.randomUUID(),type:"file",icon:"folder",name:"SDF Shader 7",data:{type:"video",source:"/assets/SpatialGUI/Videos/7.webm",posterSource:"/assets/SpatialGUI/Videos/7.webp"}},{id:crypto.randomUUID(),type:"file",icon:"folder",name:"SDF Shader 8",data:{type:"video",source:"/assets/SpatialGUI/Videos/8.webm",posterSource:"/assets/SpatialGUI/Videos/8.webp"}}]}],V.buildIndex()}class V{static buildIndex(){this.fileMap.clear(),this.parentMap.clear();let e=(t,n)=>{this.fileMap.set(t.id,t),null!==n&&this.parentMap.set(t.id,n),t.children&&t.children.length>0&&t.children.forEach(n=>e(n,t.id))};e(this.root,null)}}V.root={id:"root",name:"root",type:"directory",icon:"\uD83D\uDCC1",data:null,children:[]},V.fileMap=new Map,V.parentMap=new Map,z(),V.buildIndex();class O{constructor(){this.openDirecotryObserver=new C.y}}function A(e){return"image"==e.node.data.type?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(g.Ee,{width:20,height:20,margin:"auto",src:e.node.data.source})}):"video"==e.node.data.type?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(g.Ee,{width:20,height:20,margin:"auto",src:e.node.data.posterSource})})}):"model"==e.node.data.type?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(x.fv9,{width:20,height:20,margin:"auto",color:e.color})}):null}function W(e){let{primary:t,primaryBright:n}=(0,p.F)(),{hovered:o,props:i}=w();return(0,r.jsxs)(g.W2,{flexDirection:"column",alignContent:"center",justifyContent:"center",...i,margin:"auto",onPointerDown:t=>{t.stopPropagation(),"image"==e.node.data.type&&j.k.openApp("image-viewer",e.node),"video"==e.node.data.type&&j.k.openApp("video-viewer",e.node),"model"==e.node.data.type&&j.k.openApp("model-viewer",e.node)},marginBottom:10,children:[(0,r.jsx)(A,{node:e.node,color:o?n:t}),(0,r.jsx)(g.xv,{fontSize:5,fontWeight:600,color:o?n:t,textAlign:"center",children:e.node.name})]})}function G(e){let{primary:t,primaryBright:n}=(0,p.F)(),{hovered:o,props:i}=w();return(0,r.jsxs)(g.W2,{onPointerDown:()=>{e.explorer.openDirecotryObserver.notify(e.node)},flexDirection:"column",alignContent:"center",justifyContent:"center",...i,margin:"auto",marginBottom:10,width:20,height:20,children:[(0,r.jsx)(x.ROc,{width:20,height:20,margin:"auto",color:o?n:t}),(0,r.jsx)(g.xv,{fontSize:5,fontWeight:600,color:o?n:t,children:e.node.name})]})}function E(e){let t=(0,o.useMemo)(()=>new O,[e.id]),[n,i]=(0,o.useState)(V.root),s=(0,o.useRef)({fadeIn:!1,fadeOut:!1,t:0,onFadeOut:()=>{}}),a=(0,o.useRef)(null);(0,c.F)(()=>{if(a.current){if(s.current.fadeIn){let e=s.current.t-=.1;e<=0&&(e=0,s.current.fadeIn=!1),a.current.setStyle({backgroundOpacity:e})}if(s.current.fadeOut){let e=s.current.t+=.1;e>=1&&(e=1,s.current.onFadeOut(),s.current.fadeOut=!1),a.current.setStyle({backgroundOpacity:e})}}}),(0,o.useEffect)(()=>(t.openDirecotryObserver.subscribe(e.id,e=>{s.current.t=0,s.current.fadeOut=!0,s.current.onFadeOut=()=>{i(()=>e),setTimeout(()=>{s.current.t=1,s.current.fadeIn=!0},250)}}),()=>{t.openDirecotryObserver.unsubscribe(e.id)}),[e.id]),(0,o.useEffect)(()=>{console.warn(d.current.scrollPosition.value),d.current.scrollPosition.value=[0,0]},[n,e.id]);let l=[];for(let e=0;e<n.children.length;e+=2){let o=n.children[e],i=n.children[e+1];l.push((0,r.jsxs)(g.W2,{flexDirection:"row",width:"100%",children:[o&&("file"==o.type?(0,r.jsx)(W,{node:o,explorer:t},o.id):"directory"==o.type?(0,r.jsx)(G,{node:o,explorer:t},o.id):null),",",i&&("file"==i.type?(0,r.jsx)(W,{node:i,explorer:t},i.id):"directory"==i.type?(0,r.jsx)(G,{node:i,explorer:t},i.id):null),","]}))}let d=(0,o.useRef)(null),{primary:u,primaryBright:h}=(0,p.F)();return(0,r.jsxs)(g.W2,{backgroundColor:"black",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column",overflow:"hidden",children:[(0,r.jsx)(g.W2,{ref:a,width:"100%",height:"100%",padding:0,margin:0,backgroundColor:"black",backgroundOpacity:0,zIndexOffset:2,positionTop:0,positionType:"absolute"}),(0,r.jsxs)(g.W2,{width:"100%",height:"10%",alignItems:"center",justifyContent:"center",flexDirection:"row",borderBottomWidth:1,borderColor:u,backgroundColor:"black",zIndexOffset:1,children:["root"!==n.id&&(0,r.jsx)(g.W2,{onPointerDown:()=>{t.openDirecotryObserver.notify(V.fileMap.get(V.parentMap.get(n.id)))},flexDirection:"column",alignContent:"center",justifyContent:"center",margin:"auto",children:(0,r.jsx)(x.Hf3,{width:10,height:"auto",margin:"auto",color:u})}),(0,r.jsx)(g.xv,{color:u,fontSize:10,margin:"auto",fontWeight:900,children:n.name})]}),(0,r.jsx)(g.W2,{width:"100%",height:"90%",alignItems:"center",justifyContent:"center",flexDirection:"column",overflow:"hidden",zIndexOffset:0,children:(0,r.jsx)(g.W2,{width:"100%",height:"100%",alignItems:"flex-start",justifyContent:"flex-start",flexDirection:"row",flexWrap:"wrap",overflow:"scroll",scrollbarColor:u,scrollbarWidth:8,paddingBottom:10,ref:d,zIndexOffset:-1,children:l})})]})}function T(){return console.warn("mounted calculator"),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(y.Z,{appId:"file-explorer",getApp:e=>(0,r.jsx)(E,{...e}),size:[120,140]})})}function R(){let{primary:e,primaryBright:t}=(0,p.F)();return(0,r.jsxs)("mesh",{children:[(0,r.jsx)("ringGeometry",{args:[1.45,1.5,64]}),(0,r.jsx)("meshStandardMaterial",{color:e,emissive:e,metalness:.5,roughness:.3})]})}function B(e){let{type:t}=e,{primary:n,primaryBright:i}=(0,p.F)(),s=(0,o.useRef)(null),a=1,l=.025,d=.02;"hour"===t?(a=.8,l=.1,d=.03):"minute"===t?(a=1.2,l=.07,d=.025):"second"===t&&(a=1.4,l=.02,d=.02);let h=(0,o.useMemo)(()=>{let e=new u.BoxGeometry(l,a,d);return e.translate(0,a/2,0),e},[l,a,d]);return(0,c.F)(()=>{let e=new Date,n=0;"hour"===t?n=(e.getHours()%12+e.getMinutes()/60)/12*Math.PI*2+Math.PI/2:"minute"===t?n=(e.getMinutes()+e.getSeconds()/60)/60*Math.PI*2+Math.PI/2:"second"===t&&(n=e.getSeconds()/60*Math.PI*2),s.current&&(s.current.rotation.z=-n+Math.PI/2)}),(0,r.jsxs)("mesh",{ref:s,position:[0,0,.01],children:[(0,r.jsx)("primitive",{object:h}),(0,r.jsx)("meshStandardMaterial",{color:n,emissive:n,emissiveIntensity:.5})]})}function Y(){let{primary:e,primaryBright:t}=(0,p.F)();return(0,r.jsxs)("mesh",{position:[0,0,.05],children:[(0,r.jsx)("sphereGeometry",{args:[.05,32,32]}),(0,r.jsx)("meshStandardMaterial",{color:e,emissive:e,emissiveIntensity:.8})]})}function Z(){return(0,r.jsxs)("group",{children:[(0,r.jsx)(R,{}),(0,r.jsx)(B,{type:"hour"}),(0,r.jsx)(B,{type:"minute"}),(0,r.jsx)(B,{type:"second"}),(0,r.jsx)(Y,{})]})}function L(){return(0,r.jsx)(y.Z,{appId:"clock",getApp:()=>(0,r.jsx)(g.W2,{backgroundColor:"black",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",children:(0,r.jsx)(g.VY,{width:"80%",children:(0,r.jsx)(Z,{})})}),size:[100,100]})}function X(){console.warn("mounted settings");let{primary:e,primaryBright:t}=(0,p.F)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(y.Z,{appId:"image-viewer",getApp:t=>{let{data:n}=t;return(0,r.jsxs)(g.W2,{backgroundColor:"black",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[(0,r.jsx)(g.W2,{backgroundColor:"black",width:"100%",height:"80%",alignItems:"center",justifyContent:"center",flexDirection:"column",children:(0,r.jsx)(g.Ee,{src:n.data.source,width:"100%",height:"100%"})}),(0,r.jsx)(g.W2,{backgroundColor:"black",width:"100%",height:"20%",alignItems:"center",justifyContent:"center",flexDirection:"column",children:(0,r.jsx)(g.xv,{color:e,fontSize:10,children:n.name})})]})},size:[150,100]})})}function _(){console.warn("mounted settings");let{primary:e,primaryBright:t}=(0,p.F)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(y.Z,{appId:"video-viewer",getApp:t=>{let{data:n}=t,o=n.data;return(0,r.jsxs)(g.W2,{backgroundColor:"black",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[(0,r.jsx)(g.W2,{backgroundColor:"black",width:"100%",height:"80%",alignItems:"center",justifyContent:"center",flexDirection:"column",children:(0,r.jsx)(g.nk,{src:o.source,width:"100%",height:"100%",autoplay:!0,volume:0,muted:!0,loop:!0})}),(0,r.jsx)(g.W2,{backgroundColor:"black",width:"100%",height:"20%",alignItems:"center",justifyContent:"center",flexDirection:"column",children:(0,r.jsx)(g.xv,{color:e,fontSize:10,children:n.name})})]})},size:[150,100]})})}var N=n(52749);let H=e=>{let{onDrag:t}=e,n=(0,o.useRef)(null),i=(0,o.useRef)(!1),s=(0,o.useRef)({x:0,y:0}),a=(0,o.useRef)(0),l=16,d=.1,p=.02,h=.55,m=.1,f=e=>{i.current=!0;let t=e;s.current={x:t.clientX,y:t.clientY}},g=e=>{if(!i.current)return;let n=e,r=n.clientX-s.current.x,o=.05;a.current+=r*o,t(r),s.current={x:n.clientX,y:n.clientY}},x=()=>{i.current=!1};(0,c.F)(()=>{n.current&&(n.current.rotation.z=a.current)});let y=[];for(let e=0;e<l;e++){let t=e/l*Math.PI*2,n=h*Math.cos(t),o=h*Math.sin(t),i=e%2==0?"#0d5c9e":"#1588e8";y.push((0,r.jsxs)("mesh",{scale:[5,5,4],position:[n,o,0],rotation:[0,0,t],children:[(0,r.jsx)("boxGeometry",{args:[p,d,.02]}),(0,r.jsx)("meshStandardMaterial",{color:i,transparent:!0,opacity:.8,emissive:e%2==0?"black":"#1588e8"})]},e))}return(0,r.jsxs)("group",{ref:n,onPointerDown:f,onPointerMove:g,onPointerUp:x,onPointerLeave:x,scale:[.005,.005,.005],rotation:[-Math.PI/2,0,0],children:[(0,r.jsxs)("mesh",{castShadow:!0,receiveShadow:!0,children:[(0,r.jsx)("torusGeometry",{args:[h,m,16,100]}),(0,r.jsx)("meshStandardMaterial",{color:"#0d5c9e",transparent:!0,opacity:0,side:u.BackSide})]}),y]})},q=e=>{let{source:t}=e,n=(0,o.useRef)(null),{scene:i}=(0,N.L)(t),s=.05,a=e=>{n.current&&(n.current.rotation.y+=e*s)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.VY,{width:"100%",height:"90%",children:(0,r.jsx)("group",{ref:n,dispose:null,children:(0,r.jsx)("primitive",{object:i})})}),(0,r.jsx)(g.VY,{width:"100%",height:"10%",children:(0,r.jsx)(H,{onDrag:a})})]})};function Q(){let{primary:e,primaryBright:t}=(0,p.F)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(y.Z,{appId:"model-viewer",getApp:t=>{let{data:n}=t,i=n.data;console.warn("mounted model viwer");let[s,a]=(0,o.useState)([]);return(0,o.useRef)(!1),console.log("Create portal",j.k.canvas),(0,r.jsxs)(g.W2,{backgroundColor:"black",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[(0,r.jsx)(g.W2,{backgroundColor:"black",width:"100%",height:"80%",alignItems:"center",justifyContent:"center",flexDirection:"column",children:(0,r.jsx)(o.Suspense,{children:(0,r.jsx)(q,{source:i.source})})}),(0,r.jsx)(g.W2,{backgroundColor:"black",width:"100%",height:"20%",alignItems:"center",justifyContent:"center",flexDirection:"column",children:(0,r.jsx)(g.xv,{color:e,fontSize:10,children:n.name})})]})},size:[150,100]})})}function K(){let[e,t]=(0,o.useState)([]);return(0,o.useEffect)(()=>{window.addEventListener("keydown",e=>{let{key:t}=e;"e"==t.toLowerCase()&&j.k.openApp("explorer")}),j.k.closeAppObserver.subscribe(e=>{let{id:n}=e;t(e=>e.filter(e=>e.id!=n))}),j.k.deployAppObserver.subscribe(e=>{let{appId:n,data:r}=e;t(e=>[...e,{id:crypto.randomUUID(),app:j.k.apps.get(n),data:r}])}),j.k.openApp("explorer")},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(L,{}),(0,r.jsx)(I,{}),(0,r.jsx)(F,{}),(0,r.jsx)(T,{}),(0,r.jsx)(M.c,{}),(0,r.jsx)(b,{}),(0,r.jsx)(X,{}),(0,r.jsx)(_,{}),(0,r.jsx)(Q,{}),e.map(e=>{let t=e.app.comp;return(0,r.jsx)(D,{id:e.id,size:e.app.data.size,position:[0,0],children:(0,r.jsx)(t,{data:e.data,id:e.id})},e.id)})]})}function J(){let e=(0,o.useRef)(null);return(0,o.useEffect)(()=>{j.k.canvas=e.current},[]),(0,r.jsx)(o.Suspense,{fallback:null,children:(0,r.jsxs)(i.Xz,{ref:e,className:"render-canvas",id:"main",shadows:"soft",camera:{position:[0,2,140],fov:60,near:.01,far:600,rotation:[0,0,0]},style:{width:"100%",height:"100vh"},children:[(0,r.jsx)("color",{attach:"background",args:["black"]}),(0,r.jsx)("ambientLight",{intensity:1}),(0,r.jsxs)(p.f,{children:[(0,r.jsx)(m,{}),(0,r.jsx)(K,{})]}),(0,r.jsx)(f.z,{enableRotate:!1,enablePan:!0,panSpeed:.01,zoomSpeed:.01,maxZoom:.1,minZoom:0}),(0,r.jsxs)(s.x,{enableNormalPass:!0,children:[(0,r.jsx)(a.d,{luminanceThreshold:.1,luminanceSmoothing:.9,intensity:1.6}),(0,r.jsx)(l.K,{worldDistanceThreshold:300,worldDistanceFalloff:300,worldProximityThreshold:300,worldProximityFalloff:300})]})]})})}},1280:function(){},20123:function(){}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[8785,5889,225,7455,2423,155,7574,6424,2137,154,536,4233,9285,9154,6999,2971,2117,1744],function(){return t(90128)}),_N_E=e.O()}]);