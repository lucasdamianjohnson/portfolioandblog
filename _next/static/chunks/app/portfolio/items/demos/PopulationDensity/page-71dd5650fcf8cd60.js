(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6195],{73752:function(){},13640:function(){},78455:function(e,n,t){Promise.resolve().then(t.bind(t,81523)),Promise.resolve().then(t.bind(t,70049)),Promise.resolve().then(t.bind(t,13042)),Promise.resolve().then(t.t.bind(t,89078,23)),Promise.resolve().then(t.t.bind(t,20123,23))},13042:function(e,n,t){"use strict";t.r(n);var i=t(57437),o=t(2265),s=t(79290),a=t(31471),r=t(37954),l=t(56503);n.default=()=>{let e=(0,o.useRef)(null);(0,o.useEffect)(()=>{let i,o,a,d,u;i=new s.xsS;let w=new s.cBK().load(["/assets/PopulationDensity/px.jpg","/assets/PopulationDensity/nx.jpg","/assets/PopulationDensity/py.jpg","/assets/PopulationDensity/ny.jpg","/assets/PopulationDensity/pz.jpg","/assets/PopulationDensity/nz.jpg"]);if(i.background=w,(o=new s.cPb(45,window.innerWidth/window.innerHeight,.1,1e3)).position.z=300,e.current){(a=new s.CP7({canvas:e.current,antialias:!0})).setSize(window.innerWidth,window.innerHeight),(u=new r.z(o,a.domElement)).enableDamping=!0,u.dampingFactor=.05,u.minDistance=100,u.maxDistance=500;let w=new s.Mig(16777215,.5);i.add(w);let p=new s.Ox3(16777215,.5);p.position.set(5,10,7.5),i.add(p);let g=new l.xC(a),f=new l.CD(i,o);g.addPass(f);let h=new l.gh(i,o);g.addPass(h);let m=new l.bn(o,h.texture,{blendFunction:l.YQ.MULTIPLY,samples:21,rings:4,distanceThreshold:.1,distanceFalloff:.02,rangeThreshold:.5,rangeFalloff:.1,luminanceInfluence:.7,radius:20,intensity:15,bias:.05}),v=new l.H5(o,m);function c(){let e=window.innerWidth,n=window.innerHeight;o.aspect=e/n,o.updateProjectionMatrix(),a.setSize(e,n),g.setSize(e,n)}v.renderToScreen=!0,g.addPass(v),window.addEventListener("resize",c,!1);let P=new s.dpR().load("/assets/PopulationDensity/bluemarble.jpg"),b=new s.xo$(50,192,192),y=new s.jyz({vertexShader:"\n          varying vec4 vColor;\n          void main() {\n            vColor = color;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n          }\n        ",fragmentShader:"\n          varying vec4 vColor;\n          void main() {\n            gl_FragColor = vColor;\n          }\n        ",transparent:!0,side:s.ehD,vertexColors:!0}),x=new s.xo$(50,64,64),D=new s.xoR({map:P,shininess:100,wireframe:!1});d=new s.Kj0(b,y);let j=new s.Kj0(x,D);i.add(d),i.add(j),(async()=>{let e=await n();await t(b,e),b.computeVertexNormals()})();let C=()=>{requestAnimationFrame(C),u.update(),g.render()};return C(),()=>{window.removeEventListener("resize",c),a.dispose(),u.dispose(),i.remove(d),i.remove(j),b.dispose(),y.dispose(),x.dispose(),D.dispose()}}},[]);let n=async()=>{let e=await (0,a.W0)("/assets/PopulationDensity/data.tif"),n=await e.getImage();return{rasterData:await n.readRasters({interleave:!0}),width:n.getWidth(),height:n.getHeight(),noDataValue:n.getGDALNoData()}},t=async(e,n)=>{let t=e.attributes.position,i=e.attributes.uv,o=new Float32Array(4*t.count),{rasterData:a,width:r,height:l,noDataValue:d}=n,u=new s.Ilk(15),w=new s.Ilk(65520),c=-1/0;for(let e=0;e<t.count;e++){let n=new s.Pa4;n.fromBufferAttribute(t,e);let p=i.getX(e),g=i.getY(e),f=Math.floor(p*(r-1)),h=Math.floor((1-g)*(l-1));if(f<0||f>=r||h<0||h>=l)continue;let m=a[h*r+f];m>c&&(c=m),(m===d||void 0===m)&&(m=0);let v=Math.min(m/17447*10,1);n.multiplyScalar(1+v),t.setXYZ(e,n.x,n.y,n.z);let P=m/17447*10;new s.Ilk().lerpColors(u,w,P),o[4*e]=w.r*P,o[4*e+1]=w.g*(1-P),o[4*e+2]=w.b*P,o[4*e+3]=P>.01?P+.5:0}console.error(c),e.setAttribute("color",new s.TlE(o,4)),t.needsUpdate=!0,e.attributes.color.needsUpdate=!0};return(0,i.jsx)("canvas",{ref:e})}},89078:function(){},20123:function(){}},function(e){e.O(0,[8281,5889,225,7455,154,1471,2971,2117,1744],function(){return e(e.s=78455)}),_N_E=e.O()}]);